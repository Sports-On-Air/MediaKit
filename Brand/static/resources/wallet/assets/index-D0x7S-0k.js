const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-BiURk01W.js","assets/if-defined-Dbk1n5hN.js","assets/index-EUIjqIbw.js","assets/index-DTEypzX4.js","assets/ref-CbHVwF27.js","assets/index-CLFccO-H.js","assets/index-B_R6IzwB.js","assets/index-zxF7auYx.js","assets/index-Dd_wBBbC.js","assets/index-D6z8fObw.js","assets/index-BWzVm2Km.js","assets/index-CxxdidqW.js","assets/email-4evD2LSC.js","assets/index-B4AVv9ez.js","assets/socials-BWIxVUtB.js","assets/index-DGmNRm06.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-y1exkANk.js","assets/index-CQIR7edq.js","assets/index-CFri4EYU.js","assets/index-NTND9flt.js","assets/swaps-CW-Y7Mmt.js","assets/index-C3lr53nE.js","assets/index-Dbg_mDTI.js","assets/index-DO3lnT4z.js","assets/send-95G_Ovcf.js","assets/index-CfMn8ZME.js","assets/index-T_-epANJ.js","assets/receive-D6vJ-63h.js","assets/index-BJ_jphMu.js","assets/onramp-1QywCPCk.js","assets/index-xvvRP10B.js","assets/index-C8L-LFrz.js","assets/index-D3AbW0Zo.js","assets/transactions-in_VhhVK.js","assets/index-CTzvhD8p.js","assets/index-C--gPgZw.js","assets/index-DsOw7E2n.js","assets/index-wfLjs5MS.js","assets/index-B6BtO_Hq.js","assets/w3m-modal-eVnCEwpr.js"])))=>i.map(i=>d[i]);
var _S=t=>{throw TypeError(t)};var Iw=(t,e,n)=>e.has(t)||_S("Cannot "+n);var F=(t,e,n)=>(Iw(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?_S("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(Iw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(Iw(t,e,"access private method"),n);var yg=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return F(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function b$(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Rw={exports:{}},Wd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function w$(){if(CS)return Wd;CS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:a}}return Wd.Fragment=e,Wd.jsx=n,Wd.jsxs=n,Wd}var AS;function v$(){return AS||(AS=1,Rw.exports=w$()),Rw.exports}var rt=v$(),xw={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function E$(){if(SS)return Ke;SS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,E={};function _(D,Y,te){this.props=D,this.context=Y,this.refs=E,this.updater=te||w}_.prototype.isReactComponent={},_.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function S(){}S.prototype=_.prototype;function T(D,Y,te){this.props=D,this.context=Y,this.refs=E,this.updater=te||w}var O=T.prototype=new S;O.constructor=T,v(O,_.prototype),O.isPureReactComponent=!0;var P=Array.isArray,N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,Y,te,ie,ee,le){return te=le.ref,{$$typeof:t,type:D,key:Y,ref:te!==void 0?te:null,props:le}}function k(D,Y){return I(D.type,Y,void 0,void 0,void 0,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function B(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return Y[te]})}var q=/\/+/g;function X(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):Y.toString(36)}function se(){}function W(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(se,se):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function M(D,Y,te,ie,ee){var le=typeof D;(le==="undefined"||le==="boolean")&&(D=null);var ge=!1;if(D===null)ge=!0;else switch(le){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(D.$$typeof){case t:case e:ge=!0;break;case p:return ge=D._init,M(ge(D._payload),Y,te,ie,ee)}}if(ge)return ee=ee(D),ge=ie===""?"."+X(D,0):ie,P(ee)?(te="",ge!=null&&(te=ge.replace(q,"$&/")+"/"),M(ee,Y,te,"",function(Re){return Re})):ee!=null&&(x(ee)&&(ee=k(ee,te+(ee.key==null||D&&D.key===ee.key?"":(""+ee.key).replace(q,"$&/")+"/")+ge)),Y.push(ee)),1;ge=0;var He=ie===""?".":ie+":";if(P(D))for(var Ne=0;Ne<D.length;Ne++)ie=D[Ne],le=He+X(ie,Ne),ge+=M(ie,Y,te,le,ee);else if(Ne=y(D),typeof Ne=="function")for(D=Ne.call(D),Ne=0;!(ie=D.next()).done;)ie=ie.value,le=He+X(ie,Ne++),ge+=M(ie,Y,te,le,ee);else if(le==="object"){if(typeof D.then=="function")return M(W(D),Y,te,ie,ee);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ge}function R(D,Y,te){if(D==null)return D;var ie=[],ee=0;return M(D,ie,"","",function(le){return Y.call(te,le,ee++)}),ie}function j(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var H=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function V(){}return Ke.Children={map:R,forEach:function(D,Y,te){R(D,function(){Y.apply(this,arguments)},te)},count:function(D){var Y=0;return R(D,function(){Y++}),Y},toArray:function(D){return R(D,function(Y){return Y})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ke.Component=_,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=T,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ke.cache=function(D){return function(){return D.apply(null,arguments)}},Ke.cloneElement=function(D,Y,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=v({},D.props),ee=D.key,le=void 0;if(Y!=null)for(ge in Y.ref!==void 0&&(le=void 0),Y.key!==void 0&&(ee=""+Y.key),Y)!A.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||(ie[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)ie.children=te;else if(1<ge){for(var He=Array(ge),Ne=0;Ne<ge;Ne++)He[Ne]=arguments[Ne+2];ie.children=He}return I(D.type,ee,void 0,void 0,le,ie)},Ke.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Ke.createElement=function(D,Y,te){var ie,ee={},le=null;if(Y!=null)for(ie in Y.key!==void 0&&(le=""+Y.key),Y)A.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ee[ie]=Y[ie]);var ge=arguments.length-2;if(ge===1)ee.children=te;else if(1<ge){for(var He=Array(ge),Ne=0;Ne<ge;Ne++)He[Ne]=arguments[Ne+2];ee.children=He}if(D&&D.defaultProps)for(ie in ge=D.defaultProps,ge)ee[ie]===void 0&&(ee[ie]=ge[ie]);return I(D,le,void 0,void 0,null,ee)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(D){return{$$typeof:u,render:D}},Ke.isValidElement=x,Ke.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:j}},Ke.memo=function(D,Y){return{$$typeof:f,type:D,compare:Y===void 0?null:Y}},Ke.startTransition=function(D){var Y=N.T,te={};N.T=te;try{var ie=D(),ee=N.S;ee!==null&&ee(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(V,H)}catch(le){H(le)}finally{N.T=Y}},Ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ke.use=function(D){return N.H.use(D)},Ke.useActionState=function(D,Y,te){return N.H.useActionState(D,Y,te)},Ke.useCallback=function(D,Y){return N.H.useCallback(D,Y)},Ke.useContext=function(D){return N.H.useContext(D)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(D,Y){return N.H.useDeferredValue(D,Y)},Ke.useEffect=function(D,Y){return N.H.useEffect(D,Y)},Ke.useId=function(){return N.H.useId()},Ke.useImperativeHandle=function(D,Y,te){return N.H.useImperativeHandle(D,Y,te)},Ke.useInsertionEffect=function(D,Y){return N.H.useInsertionEffect(D,Y)},Ke.useLayoutEffect=function(D,Y){return N.H.useLayoutEffect(D,Y)},Ke.useMemo=function(D,Y){return N.H.useMemo(D,Y)},Ke.useOptimistic=function(D,Y){return N.H.useOptimistic(D,Y)},Ke.useReducer=function(D,Y,te){return N.H.useReducer(D,Y,te)},Ke.useRef=function(D){return N.H.useRef(D)},Ke.useState=function(D){return N.H.useState(D)},Ke.useSyncExternalStore=function(D,Y,te){return N.H.useSyncExternalStore(D,Y,te)},Ke.useTransition=function(){return N.H.useTransition()},Ke.version="19.0.0",Ke}var TS;function $u(){return TS||(TS=1,xw.exports=E$()),xw.exports}var je=$u();const _$=Du(je);var Pw={exports:{}},Kd={},Dw={exports:{}},$w={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function C$(){return NS||(NS=1,function(t){function e(R,j){var H=R.length;R.push(j);e:for(;0<H;){var V=H-1>>>1,D=R[V];if(0<s(D,j))R[V]=j,R[H]=D,H=V;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],H=R.pop();if(H!==j){R[0]=H;e:for(var V=0,D=R.length,Y=D>>>1;V<Y;){var te=2*(V+1)-1,ie=R[te],ee=te+1,le=R[ee];if(0>s(ie,H))ee<D&&0>s(le,ie)?(R[V]=le,R[ee]=H,V=ee):(R[V]=ie,R[te]=H,V=te);else if(ee<D&&0>s(le,H))R[V]=le,R[ee]=H,V=ee;else break e}}return j}function s(R,j){var H=R.sortIndex-j.sortIndex;return H!==0?H:R.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,g=null,y=3,w=!1,v=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(R){for(var j=n(f);j!==null;){if(j.callback===null)r(f);else if(j.startTime<=R)r(f),j.sortIndex=j.expirationTime,e(d,j);else break;j=n(f)}}function P(R){if(E=!1,O(R),!v)if(n(d)!==null)v=!0,W();else{var j=n(f);j!==null&&M(P,j.startTime-R)}}var N=!1,A=-1,I=5,k=-1;function x(){return!(t.unstable_now()-k<I)}function B(){if(N){var R=t.unstable_now();k=R;var j=!0;try{e:{v=!1,E&&(E=!1,S(A),A=-1),w=!0;var H=y;try{t:{for(O(R),g=n(d);g!==null&&!(g.expirationTime>R&&x());){var V=g.callback;if(typeof V=="function"){g.callback=null,y=g.priorityLevel;var D=V(g.expirationTime<=R);if(R=t.unstable_now(),typeof D=="function"){g.callback=D,O(R),j=!0;break t}g===n(d)&&r(d),O(R)}else r(d);g=n(d)}if(g!==null)j=!0;else{var Y=n(f);Y!==null&&M(P,Y.startTime-R),j=!1}}break e}finally{g=null,y=H,w=!1}j=void 0}}finally{j?q():N=!1}}}var q;if(typeof T=="function")q=function(){T(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,se=X.port2;X.port1.onmessage=B,q=function(){se.postMessage(null)}}else q=function(){_(B,0)};function W(){N||(N=!0,q())}function M(R,j){A=_(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||w||(v=!0,W())},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(R){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var H=y;y=j;try{return R()}finally{y=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=y;y=R;try{return j()}finally{y=H}},t.unstable_scheduleCallback=function(R,j,H){var V=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,R){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=H+D,R={id:p++,callback:j,priorityLevel:R,startTime:H,expirationTime:D,sortIndex:-1},H>V?(R.sortIndex=H,e(f,R),n(d)===null&&R===n(f)&&(E?(S(A),A=-1):E=!0,M(P,H-V))):(R.sortIndex=D,e(d,R),v||w||(v=!0,W())),R},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(R){var j=y;return function(){var H=y;y=j;try{return R.apply(this,arguments)}finally{y=H}}}}($w)),$w}var OS;function A$(){return OS||(OS=1,Dw.exports=C$()),Dw.exports}var Uw={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function S$(){if(IS)return Vn;IS=1;var t=$u();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Vn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},Vn.flushSync=function(d){var f=c.T,p=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=f,r.p=p,r.d.f()}},Vn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Vn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Vn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Vn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Vn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Vn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Vn.requestFormReset=function(d){r.d.r(d)},Vn.unstable_batchedUpdates=function(d,f){return d(f)},Vn.useFormState=function(d,f,p){return c.H.useFormState(d,f,p)},Vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vn.version="19.0.0",Vn}var RS;function T$(){if(RS)return Uw.exports;RS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uw.exports=S$(),Uw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function N$(){if(xS)return Kd;xS=1;var t=A$(),e=$u(),n=T$();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var a=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function A(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function k(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case E:return"Suspense";case _:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case y:return(i._context.displayName||"Context")+".Consumer";case v:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return o=i.displayName||null,o!==null?o:k(i.type)||"Memo";case T:o=i._payload,i=i._init;try{return k(i(o))}catch{}}return null}var x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,q,X;function se(i){if(q===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||"",X=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+i+X}var W=!1;function M(i,o){if(!i||W)return"";W=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ne){var J=ne}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(ne){J=ne}i.call(oe.prototype)}}else{try{throw Error()}catch(ne){J=ne}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),C=b[0],$=b[1];if(C&&$){var L=C.split(`
`),K=$.split(`
`);for(m=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(h===L.length||m===K.length)for(h=L.length-1,m=K.length-1;1<=h&&0<=m&&L[h]!==K[m];)m--;for(;1<=h&&0<=m;h--,m--)if(L[h]!==K[m]){if(h!==1||m!==1)do if(h--,m--,0>m||L[h]!==K[m]){var re=`
`+L[h].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=h&&0<=m);break}}}finally{W=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?se(l):""}function R(i){switch(i.tag){case 26:case 27:case 5:return se(i.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return i=M(i.type,!1),i;case 11:return i=M(i.type.render,!1),i;case 1:return i=M(i.type,!0),i;default:return""}}function j(i){try{var o="";do o+=R(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function H(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function V(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function D(i){if(H(i)!==i)throw Error(r(188))}function Y(i){var o=i.alternate;if(!o){if(o=H(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var b=m.alternate;if(b===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===l)return D(m),i;if(b===h)return D(m),o;b=b.sibling}throw Error(r(188))}if(l.return!==h.return)l=m,h=b;else{for(var C=!1,$=m.child;$;){if($===l){C=!0,l=m,h=b;break}if($===h){C=!0,h=m,l=b;break}$=$.sibling}if(!C){for($=b.child;$;){if($===l){C=!0,l=b,h=m;break}if($===h){C=!0,h=b,l=m;break}$=$.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function te(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=te(i),o!==null)return o;i=i.sibling}return null}var ie=Array.isArray,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ge=[],He=-1;function Ne(i){return{current:i}}function Re(i){0>He||(i.current=ge[He],ge[He]=null,He--)}function We(i,o){He++,ge[He]=i.current,i.current=o}var _t=Ne(null),Zt=Ne(null),Qt=Ne(null),Rn=Ne(null);function bs(i,o){switch(We(Qt,o),We(Zt,i),We(_t,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?QA(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=QA(i),o=XA(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Re(_t),We(_t,o)}function sa(){Re(_t),Re(Zt),Re(Qt)}function Yu(i){i.memoizedState!==null&&We(Rn,i);var o=_t.current,l=XA(o,i.type);o!==l&&(We(Zt,i),We(_t,l))}function jc(i){Zt.current===i&&(Re(_t),Re(Zt)),Rn.current===i&&(Re(Rn),Fd._currentValue=le)}var zc=Object.prototype.hasOwnProperty,Fc=t.unstable_scheduleCallback,mo=t.unstable_cancelCallback,np=t.unstable_shouldYield,rp=t.unstable_requestPaint,Tr=t.unstable_now,sp=t.unstable_getCurrentPriorityLevel,Zu=t.unstable_ImmediatePriority,ip=t.unstable_UserBlockingPriority,qc=t.unstable_NormalPriority,Cy=t.unstable_LowPriority,ap=t.unstable_IdlePriority,eD=t.log,tD=t.unstable_setDisableYieldValue,Qu=null,Nr=null;function nD(i){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Qu,i,void 0,(i.current.flags&128)===128)}catch{}}function ia(i){if(typeof eD=="function"&&tD(i),Nr&&typeof Nr.setStrictMode=="function")try{Nr.setStrictMode(Qu,i)}catch{}}var Or=Math.clz32?Math.clz32:iD,rD=Math.log,sD=Math.LN2;function iD(i){return i>>>=0,i===0?32:31-(rD(i)/sD|0)|0}var op=128,cp=4194304;function yo(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function lp(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,b=i.pingedLanes,C=i.warmLanes;i=i.finishedLanes!==0;var $=l&134217727;return $!==0?(l=$&~m,l!==0?h=yo(l):(b&=$,b!==0?h=yo(b):i||(C=$&~C,C!==0&&(h=yo(C))))):($=l&~m,$!==0?h=yo($):b!==0?h=yo(b):i||(C=l&~C,C!==0&&(h=yo(C)))),h===0?0:o!==0&&o!==h&&(o&m)===0&&(m=h&-h,C=o&-o,m>=C||m===32&&(C&4194176)!==0)?o:h}function Xu(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function aD(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q1(){var i=op;return op<<=1,(op&4194176)===0&&(op=128),i}function H1(){var i=cp;return cp<<=1,(cp&62914560)===0&&(cp=4194304),i}function Ay(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function Ju(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function oD(i,o,l,h,m,b){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,L=i.expirationTimes,K=i.hiddenUpdates;for(l=C&~l;0<l;){var re=31-Or(l),oe=1<<re;$[re]=0,L[re]=-1;var J=K[re];if(J!==null)for(K[re]=null,re=0;re<J.length;re++){var ne=J[re];ne!==null&&(ne.lane&=-536870913)}l&=~oe}h!==0&&V1(i,h,0),b!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=b&~(C&~o))}function V1(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-Or(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194218}function G1(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-Or(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}function W1(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function K1(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:mS(i.type))}function cD(i,o){var l=ee.p;try{return ee.p=i,o()}finally{ee.p=l}}var aa=Math.random().toString(36).slice(2),qn="__reactFiber$"+aa,lr="__reactProps$"+aa,Hc="__reactContainer$"+aa,Sy="__reactEvents$"+aa,lD="__reactListeners$"+aa,uD="__reactHandles$"+aa,Y1="__reactResources$"+aa,ed="__reactMarker$"+aa;function Ty(i){delete i[qn],delete i[lr],delete i[Sy],delete i[lD],delete i[uD]}function bo(i){var o=i[qn];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Hc]||l[qn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=tS(i);i!==null;){if(l=i[qn])return l;i=tS(i)}return o}i=l,l=i.parentNode}return null}function Vc(i){if(i=i[qn]||i[Hc]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function td(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Gc(i){var o=i[Y1];return o||(o=i[Y1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yn(i){i[ed]=!0}var Z1=new Set,Q1={};function wo(i,o){Wc(i,o),Wc(i+"Capture",o)}function Wc(i,o){for(Q1[i]=o,i=0;i<o.length;i++)Z1.add(o[i])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X1={},J1={};function hD(i){return zc.call(J1,i)?!0:zc.call(X1,i)?!1:dD.test(i)?J1[i]=!0:(X1[i]=!0,!1)}function up(i,o,l){if(hD(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function dp(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function mi(i,o,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+h)}}function Vr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function e_(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function fD(i){var o=e_(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,b=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){h=""+C,b.call(this,C)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function hp(i){i._valueTracker||(i._valueTracker=fD(i))}function t_(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=e_(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function fp(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pD=/[\n"\\]/g;function Gr(i){return i.replace(pD,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ny(i,o,l,h,m,b,C,$){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),o!=null?C==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Vr(o)):i.value!==""+Vr(o)&&(i.value=""+Vr(o)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),o!=null?Oy(i,C,Vr(o)):l!=null?Oy(i,C,Vr(l)):h!=null&&i.removeAttribute("value"),m==null&&b!=null&&(i.defaultChecked=!!b),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Vr($):i.removeAttribute("name")}function n_(i,o,l,h,m,b,C,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;l=l!=null?""+Vr(l):"",o=o!=null?""+Vr(o):l,$||o===i.value||(i.value=o),i.defaultValue=o}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Oy(i,o,l){o==="number"&&fp(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Kc(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Vr(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function r_(i,o,l){if(o!=null&&(o=""+Vr(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Vr(l):""}function s_(i,o,l,h){if(o==null){if(h!=null){if(l!=null)throw Error(r(92));if(ie(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),o=l}l=Vr(o),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function Yc(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var gD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function i_(i,o,l){var h=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,l):typeof l!="number"||l===0||gD.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function a_(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in o)h=o[m],o.hasOwnProperty(m)&&l[m]!==h&&i_(i,m,h)}else for(var b in o)o.hasOwnProperty(b)&&i_(i,b,o[b])}function Iy(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pp(i){return yD.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ry=null;function xy(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zc=null,Qc=null;function o_(i){var o=Vc(i);if(o&&(i=o.stateNode)){var l=i[lr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ny(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Gr(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=h[lr]||null;if(!m)throw Error(r(90));Ny(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)h=l[o],h.form===i.form&&t_(h)}break e;case"textarea":r_(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Kc(i,!!l.multiple,o,!1)}}}var Py=!1;function c_(i,o,l){if(Py)return i(o,l);Py=!0;try{var h=i(o);return h}finally{if(Py=!1,(Zc!==null||Qc!==null)&&(Qp(),Zc&&(o=Zc,i=Qc,Qc=Zc=null,o_(o),i)))for(o=0;o<i.length;o++)o_(i[o])}}function nd(i,o){var l=i.stateNode;if(l===null)return null;var h=l[lr]||null;if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Dy=!1;if(gi)try{var rd={};Object.defineProperty(rd,"passive",{get:function(){Dy=!0}}),window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{Dy=!1}var oa=null,$y=null,gp=null;function l_(){if(gp)return gp;var i,o=$y,l=o.length,h,m="value"in oa?oa.value:oa.textContent,b=m.length;for(i=0;i<l&&o[i]===m[i];i++);var C=l-i;for(h=1;h<=C&&o[l-h]===m[b-h];h++);return gp=m.slice(i,1<h?1-h:void 0)}function mp(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function yp(){return!0}function u_(){return!1}function ur(i){function o(l,h,m,b,C){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?yp:u_,this.isPropagationStopped=u_,this}return B(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),o}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bp=ur(vo),sd=B({},vo,{view:0,detail:0}),bD=ur(sd),Uy,My,id,wp=B({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==id&&(id&&i.type==="mousemove"?(Uy=i.screenX-id.screenX,My=i.screenY-id.screenY):My=Uy=0,id=i),Uy)},movementY:function(i){return"movementY"in i?i.movementY:My}}),d_=ur(wp),wD=B({},wp,{dataTransfer:0}),vD=ur(wD),ED=B({},sd,{relatedTarget:0}),ky=ur(ED),_D=B({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),CD=ur(_D),AD=B({},vo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),SD=ur(AD),TD=B({},vo,{data:0}),h_=ur(TD),ND={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ID={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RD(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ID[i])?!!o[i]:!1}function By(){return RD}var xD=B({},sd,{key:function(i){if(i.key){var o=ND[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=mp(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?OD[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(i){return i.type==="keypress"?mp(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mp(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),PD=ur(xD),DD=B({},wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f_=ur(DD),$D=B({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),UD=ur($D),MD=B({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),kD=ur(MD),BD=B({},wp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),LD=ur(BD),jD=B({},vo,{newState:0,oldState:0}),zD=ur(jD),FD=[9,13,27,32],Ly=gi&&"CompositionEvent"in window,ad=null;gi&&"documentMode"in document&&(ad=document.documentMode);var qD=gi&&"TextEvent"in window&&!ad,p_=gi&&(!Ly||ad&&8<ad&&11>=ad),g_=" ",m_=!1;function y_(i,o){switch(i){case"keyup":return FD.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xc=!1;function HD(i,o){switch(i){case"compositionend":return b_(o);case"keypress":return o.which!==32?null:(m_=!0,g_);case"textInput":return i=o.data,i===g_&&m_?null:i;default:return null}}function VD(i,o){if(Xc)return i==="compositionend"||!Ly&&y_(i,o)?(i=l_(),gp=$y=oa=null,Xc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return p_&&o.locale!=="ko"?null:o.data;default:return null}}var GD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!GD[i.type]:o==="textarea"}function v_(i,o,l,h){Zc?Qc?Qc.push(h):Qc=[h]:Zc=h,o=ng(o,"onChange"),0<o.length&&(l=new bp("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var od=null,cd=null;function WD(i){GA(i,0)}function vp(i){var o=td(i);if(t_(o))return i}function E_(i,o){if(i==="change")return o}var __=!1;if(gi){var jy;if(gi){var zy="oninput"in document;if(!zy){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),zy=typeof C_.oninput=="function"}jy=zy}else jy=!1;__=jy&&(!document.documentMode||9<document.documentMode)}function A_(){od&&(od.detachEvent("onpropertychange",S_),cd=od=null)}function S_(i){if(i.propertyName==="value"&&vp(cd)){var o=[];v_(o,cd,i,xy(i)),c_(WD,o)}}function KD(i,o,l){i==="focusin"?(A_(),od=o,cd=l,od.attachEvent("onpropertychange",S_)):i==="focusout"&&A_()}function YD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vp(cd)}function ZD(i,o){if(i==="click")return vp(o)}function QD(i,o){if(i==="input"||i==="change")return vp(o)}function XD(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ir=typeof Object.is=="function"?Object.is:XD;function ld(i,o){if(Ir(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!zc.call(o,m)||!Ir(i[m],o[m]))return!1}return!0}function T_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function N_(i,o){var l=T_(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=T_(l)}}function O_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?O_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function I_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=fp(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=fp(i.document)}return o}function Fy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JD(i,o){var l=I_(o);o=i.focusedElem;var h=i.selectionRange;if(l!==o&&o&&o.ownerDocument&&O_(o.ownerDocument.documentElement,o)){if(h!==null&&Fy(o)){if(i=h.start,l=h.end,l===void 0&&(l=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(l,o.value.length);else if(l=(i=o.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var m=o.textContent.length,b=Math.min(h.start,m);h=h.end===void 0?b:Math.min(h.end,m),!l.extend&&b>h&&(m=h,h=b,b=m),m=N_(o,b);var C=N_(o,h);m&&C&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==C.node||l.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),l.removeAllRanges(),b>h?(l.addRange(i),l.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),l.addRange(i)))}}for(i=[],l=o;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)l=i[o],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var e5=gi&&"documentMode"in document&&11>=document.documentMode,Jc=null,qy=null,ud=null,Hy=!1;function R_(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hy||Jc==null||Jc!==fp(h)||(h=Jc,"selectionStart"in h&&Fy(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ud&&ld(ud,h)||(ud=h,h=ng(qy,"onSelect"),0<h.length&&(o=new bp("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Jc)))}function Eo(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var el={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionrun:Eo("Transition","TransitionRun"),transitionstart:Eo("Transition","TransitionStart"),transitioncancel:Eo("Transition","TransitionCancel"),transitionend:Eo("Transition","TransitionEnd")},Vy={},x_={};gi&&(x_=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function _o(i){if(Vy[i])return Vy[i];if(!el[i])return i;var o=el[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in x_)return Vy[i]=o[l];return i}var P_=_o("animationend"),D_=_o("animationiteration"),$_=_o("animationstart"),t5=_o("transitionrun"),n5=_o("transitionstart"),r5=_o("transitioncancel"),U_=_o("transitionend"),M_=new Map,k_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ws(i,o){M_.set(i,o),wo(o,[i])}var Wr=[],tl=0,Gy=0;function Ep(){for(var i=tl,o=Gy=tl=0;o<i;){var l=Wr[o];Wr[o++]=null;var h=Wr[o];Wr[o++]=null;var m=Wr[o];Wr[o++]=null;var b=Wr[o];if(Wr[o++]=null,h!==null&&m!==null){var C=h.pending;C===null?m.next=m:(m.next=C.next,C.next=m),h.pending=m}b!==0&&B_(l,m,b)}}function _p(i,o,l,h){Wr[tl++]=i,Wr[tl++]=o,Wr[tl++]=l,Wr[tl++]=h,Gy|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Wy(i,o,l,h){return _p(i,o,l,h),Cp(i)}function ca(i,o){return _p(i,null,null,o),Cp(i)}function B_(i,o,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var m=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(m=!0)),i=b,b=b.return;m&&o!==null&&i.tag===3&&(b=i.stateNode,m=31-Or(l),b=b.hiddenUpdates,i=b[m],i===null?b[m]=[o]:i.push(o),o.lane=l|536870912)}function Cp(i){if(50<Ud)throw Ud=0,Jb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var nl={},L_=new WeakMap;function Kr(i,o){if(typeof i=="object"&&i!==null){var l=L_.get(i);return l!==void 0?l:(o={value:i,source:o,stack:j(o)},L_.set(i,o),o)}return{value:i,source:o,stack:j(o)}}var rl=[],sl=0,Ap=null,Sp=0,Yr=[],Zr=0,Co=null,yi=1,bi="";function Ao(i,o){rl[sl++]=Sp,rl[sl++]=Ap,Ap=i,Sp=o}function j_(i,o,l){Yr[Zr++]=yi,Yr[Zr++]=bi,Yr[Zr++]=Co,Co=i;var h=yi;i=bi;var m=32-Or(h)-1;h&=~(1<<m),l+=1;var b=32-Or(o)+m;if(30<b){var C=m-m%5;b=(h&(1<<C)-1).toString(32),h>>=C,m-=C,yi=1<<32-Or(o)+m|l<<m|h,bi=b+i}else yi=1<<b|l<<m|h,bi=i}function Ky(i){i.return!==null&&(Ao(i,1),j_(i,1,0))}function Yy(i){for(;i===Ap;)Ap=rl[--sl],rl[sl]=null,Sp=rl[--sl],rl[sl]=null;for(;i===Co;)Co=Yr[--Zr],Yr[Zr]=null,bi=Yr[--Zr],Yr[Zr]=null,yi=Yr[--Zr],Yr[Zr]=null}var Xn=null,xn=null,lt=!1,vs=null,zs=!1,Zy=Error(r(519));function So(i){var o=Error(r(418,""));throw fd(Kr(o,i)),Zy}function z_(i){var o=i.stateNode,l=i.type,h=i.memoizedProps;switch(o[qn]=i,o[lr]=h,l){case"dialog":st("cancel",o),st("close",o);break;case"iframe":case"object":case"embed":st("load",o);break;case"video":case"audio":for(l=0;l<kd.length;l++)st(kd[l],o);break;case"source":st("error",o);break;case"img":case"image":case"link":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"input":st("invalid",o),n_(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),hp(o);break;case"select":st("invalid",o);break;case"textarea":st("invalid",o),s_(o,h.value,h.defaultValue,h.children),hp(o)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||h.suppressHydrationWarning===!0||ZA(o.textContent,l)?(h.popover!=null&&(st("beforetoggle",o),st("toggle",o)),h.onScroll!=null&&st("scroll",o),h.onScrollEnd!=null&&st("scrollend",o),h.onClick!=null&&(o.onclick=rg),o=!0):o=!1,o||So(i)}function F_(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 3:case 27:zs=!0;return;case 5:case 13:zs=!1;return;default:Xn=Xn.return}}function dd(i){if(i!==Xn)return!1;if(!lt)return F_(i),lt=!0,!1;var o=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||mw(i.type,i.memoizedProps)),l=!l),l&&(o=!0),o&&xn&&So(i),F_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){xn=_s(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}xn=null}}else xn=Xn?_s(i.stateNode.nextSibling):null;return!0}function hd(){xn=Xn=null,lt=!1}function fd(i){vs===null?vs=[i]:vs.push(i)}var pd=Error(r(460)),q_=Error(r(474)),Qy={then:function(){}};function H_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Tp(){}function V_(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(Tp,Tp),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===pd?Error(r(483)):i;default:if(typeof o.status=="string")o.then(Tp,Tp);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=h}},function(h){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===pd?Error(r(483)):i}throw gd=o,pd}}var gd=null;function G_(){if(gd===null)throw Error(r(459));var i=gd;return gd=null,i}var il=null,md=0;function Np(i){var o=md;return md+=1,il===null&&(il=[]),V_(il,i,o)}function yd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Op(i,o){throw o.$$typeof===a?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function W_(i){var o=i._init;return o(i._payload)}function K_(i){function o(Z,G){if(i){var Q=Z.deletions;Q===null?(Z.deletions=[G],Z.flags|=16):Q.push(G)}}function l(Z,G){if(!i)return null;for(;G!==null;)o(Z,G),G=G.sibling;return null}function h(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function m(Z,G){return Z=va(Z,G),Z.index=0,Z.sibling=null,Z}function b(Z,G,Q){return Z.index=Q,i?(Q=Z.alternate,Q!==null?(Q=Q.index,Q<G?(Z.flags|=33554434,G):Q):(Z.flags|=33554434,G)):(Z.flags|=1048576,G)}function C(Z){return i&&Z.alternate===null&&(Z.flags|=33554434),Z}function $(Z,G,Q,ae){return G===null||G.tag!==6?(G=Vb(Q,Z.mode,ae),G.return=Z,G):(G=m(G,Q),G.return=Z,G)}function L(Z,G,Q,ae){var Se=Q.type;return Se===d?re(Z,G,Q.props.children,ae,Q.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===T&&W_(Se)===G.type)?(G=m(G,Q.props),yd(G,Q),G.return=Z,G):(G=Gp(Q.type,Q.key,Q.props,null,Z.mode,ae),yd(G,Q),G.return=Z,G)}function K(Z,G,Q,ae){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Gb(Q,Z.mode,ae),G.return=Z,G):(G=m(G,Q.children||[]),G.return=Z,G)}function re(Z,G,Q,ae,Se){return G===null||G.tag!==7?(G=Uo(Q,Z.mode,ae,Se),G.return=Z,G):(G=m(G,Q),G.return=Z,G)}function oe(Z,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Vb(""+G,Z.mode,Q),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return Q=Gp(G.type,G.key,G.props,null,Z.mode,Q),yd(Q,G),Q.return=Z,Q;case u:return G=Gb(G,Z.mode,Q),G.return=Z,G;case T:var ae=G._init;return G=ae(G._payload),oe(Z,G,Q)}if(ie(G)||A(G))return G=Uo(G,Z.mode,Q,null),G.return=Z,G;if(typeof G.then=="function")return oe(Z,Np(G),Q);if(G.$$typeof===w)return oe(Z,qp(Z,G),Q);Op(Z,G)}return null}function J(Z,G,Q,ae){var Se=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Se!==null?null:$(Z,G,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return Q.key===Se?L(Z,G,Q,ae):null;case u:return Q.key===Se?K(Z,G,Q,ae):null;case T:return Se=Q._init,Q=Se(Q._payload),J(Z,G,Q,ae)}if(ie(Q)||A(Q))return Se!==null?null:re(Z,G,Q,ae,null);if(typeof Q.then=="function")return J(Z,G,Np(Q),ae);if(Q.$$typeof===w)return J(Z,G,qp(Z,Q),ae);Op(Z,Q)}return null}function ne(Z,G,Q,ae,Se){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Z=Z.get(Q)||null,$(G,Z,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case c:return Z=Z.get(ae.key===null?Q:ae.key)||null,L(G,Z,ae,Se);case u:return Z=Z.get(ae.key===null?Q:ae.key)||null,K(G,Z,ae,Se);case T:var et=ae._init;return ae=et(ae._payload),ne(Z,G,Q,ae,Se)}if(ie(ae)||A(ae))return Z=Z.get(Q)||null,re(G,Z,ae,Se,null);if(typeof ae.then=="function")return ne(Z,G,Q,Np(ae),Se);if(ae.$$typeof===w)return ne(Z,G,Q,qp(G,ae),Se);Op(G,ae)}return null}function Oe(Z,G,Q,ae){for(var Se=null,et=null,Ie=G,De=G=0,vn=null;Ie!==null&&De<Q.length;De++){Ie.index>De?(vn=Ie,Ie=null):vn=Ie.sibling;var ut=J(Z,Ie,Q[De],ae);if(ut===null){Ie===null&&(Ie=vn);break}i&&Ie&&ut.alternate===null&&o(Z,Ie),G=b(ut,G,De),et===null?Se=ut:et.sibling=ut,et=ut,Ie=vn}if(De===Q.length)return l(Z,Ie),lt&&Ao(Z,De),Se;if(Ie===null){for(;De<Q.length;De++)Ie=oe(Z,Q[De],ae),Ie!==null&&(G=b(Ie,G,De),et===null?Se=Ie:et.sibling=Ie,et=Ie);return lt&&Ao(Z,De),Se}for(Ie=h(Ie);De<Q.length;De++)vn=ne(Ie,Z,De,Q[De],ae),vn!==null&&(i&&vn.alternate!==null&&Ie.delete(vn.key===null?De:vn.key),G=b(vn,G,De),et===null?Se=vn:et.sibling=vn,et=vn);return i&&Ie.forEach(function(Na){return o(Z,Na)}),lt&&Ao(Z,De),Se}function ze(Z,G,Q,ae){if(Q==null)throw Error(r(151));for(var Se=null,et=null,Ie=G,De=G=0,vn=null,ut=Q.next();Ie!==null&&!ut.done;De++,ut=Q.next()){Ie.index>De?(vn=Ie,Ie=null):vn=Ie.sibling;var Na=J(Z,Ie,ut.value,ae);if(Na===null){Ie===null&&(Ie=vn);break}i&&Ie&&Na.alternate===null&&o(Z,Ie),G=b(Na,G,De),et===null?Se=Na:et.sibling=Na,et=Na,Ie=vn}if(ut.done)return l(Z,Ie),lt&&Ao(Z,De),Se;if(Ie===null){for(;!ut.done;De++,ut=Q.next())ut=oe(Z,ut.value,ae),ut!==null&&(G=b(ut,G,De),et===null?Se=ut:et.sibling=ut,et=ut);return lt&&Ao(Z,De),Se}for(Ie=h(Ie);!ut.done;De++,ut=Q.next())ut=ne(Ie,Z,De,ut.value,ae),ut!==null&&(i&&ut.alternate!==null&&Ie.delete(ut.key===null?De:ut.key),G=b(ut,G,De),et===null?Se=ut:et.sibling=ut,et=ut);return i&&Ie.forEach(function(y$){return o(Z,y$)}),lt&&Ao(Z,De),Se}function Wt(Z,G,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===d&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:e:{for(var Se=Q.key;G!==null;){if(G.key===Se){if(Se=Q.type,Se===d){if(G.tag===7){l(Z,G.sibling),ae=m(G,Q.props.children),ae.return=Z,Z=ae;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===T&&W_(Se)===G.type){l(Z,G.sibling),ae=m(G,Q.props),yd(ae,Q),ae.return=Z,Z=ae;break e}l(Z,G);break}else o(Z,G);G=G.sibling}Q.type===d?(ae=Uo(Q.props.children,Z.mode,ae,Q.key),ae.return=Z,Z=ae):(ae=Gp(Q.type,Q.key,Q.props,null,Z.mode,ae),yd(ae,Q),ae.return=Z,Z=ae)}return C(Z);case u:e:{for(Se=Q.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){l(Z,G.sibling),ae=m(G,Q.children||[]),ae.return=Z,Z=ae;break e}else{l(Z,G);break}else o(Z,G);G=G.sibling}ae=Gb(Q,Z.mode,ae),ae.return=Z,Z=ae}return C(Z);case T:return Se=Q._init,Q=Se(Q._payload),Wt(Z,G,Q,ae)}if(ie(Q))return Oe(Z,G,Q,ae);if(A(Q)){if(Se=A(Q),typeof Se!="function")throw Error(r(150));return Q=Se.call(Q),ze(Z,G,Q,ae)}if(typeof Q.then=="function")return Wt(Z,G,Np(Q),ae);if(Q.$$typeof===w)return Wt(Z,G,qp(Z,Q),ae);Op(Z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(l(Z,G.sibling),ae=m(G,Q),ae.return=Z,Z=ae):(l(Z,G),ae=Vb(Q,Z.mode,ae),ae.return=Z,Z=ae),C(Z)):l(Z,G)}return function(Z,G,Q,ae){try{md=0;var Se=Wt(Z,G,Q,ae);return il=null,Se}catch(Ie){if(Ie===pd)throw Ie;var et=es(29,Ie,null,Z.mode);return et.lanes=ae,et.return=Z,et}finally{}}}var To=K_(!0),Y_=K_(!1),al=Ne(null),Ip=Ne(0);function Z_(i,o){i=Ii,We(Ip,i),We(al,o),Ii=i|o.baseLanes}function Xy(){We(Ip,Ii),We(al,al.current)}function Jy(){Ii=Ip.current,Re(al),Re(Ip)}var Qr=Ne(null),Fs=null;function la(i){var o=i.alternate;We(cn,cn.current&1),We(Qr,i),Fs===null&&(o===null||al.current!==null||o.memoizedState!==null)&&(Fs=i)}function Q_(i){if(i.tag===22){if(We(cn,cn.current),We(Qr,i),Fs===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Fs=i)}}else ua()}function ua(){We(cn,cn.current),We(Qr,Qr.current)}function wi(i){Re(Qr),Fs===i&&(Fs=null),Re(cn)}var cn=Ne(0);function Rp(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var s5=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},i5=t.unstable_scheduleCallback,a5=t.unstable_NormalPriority,ln={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eb(){return{controller:new s5,data:new Map,refCount:0}}function bd(i){i.refCount--,i.refCount===0&&i5(a5,function(){i.controller.abort()})}var wd=null,tb=0,ol=0,cl=null;function o5(i,o){if(wd===null){var l=wd=[];tb=0,ol=ow(),cl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return tb++,o.then(X_,X_),o}function X_(){if(--tb===0&&wd!==null){cl!==null&&(cl.status="fulfilled");var i=wd;wd=null,ol=0,cl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function c5(i,o){var l=[],h={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(h.status="rejected",h.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),h}var J_=x.S;x.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&o5(i,o),J_!==null&&J_(i,o)};var No=Ne(null);function nb(){var i=No.current;return i!==null?i:xt.pooledCache}function xp(i,o){o===null?We(No,No.current):We(No,o.pool)}function eC(){var i=nb();return i===null?null:{parent:ln._currentValue,pool:i}}var da=0,Je=null,Ct=null,nn=null,Pp=!1,ll=!1,Oo=!1,Dp=0,vd=0,ul=null,l5=0;function Xt(){throw Error(r(321))}function rb(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Ir(i[l],o[l]))return!1;return!0}function sb(i,o,l,h,m,b){return da=b,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,x.H=i===null||i.memoizedState===null?Io:ha,Oo=!1,b=l(h,m),Oo=!1,ll&&(b=nC(o,l,h,m)),tC(i),b}function tC(i){x.H=qs;var o=Ct!==null&&Ct.next!==null;if(da=0,nn=Ct=Je=null,Pp=!1,vd=0,ul=null,o)throw Error(r(300));i===null||bn||(i=i.dependencies,i!==null&&Fp(i)&&(bn=!0))}function nC(i,o,l,h){Je=i;var m=0;do{if(ll&&(ul=null),vd=0,ll=!1,25<=m)throw Error(r(301));if(m+=1,nn=Ct=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}x.H=Ro,b=o(l,h)}while(ll);return b}function u5(){var i=x.H,o=i.useState()[0];return o=typeof o.then=="function"?Ed(o):o,i=i.useState()[0],(Ct!==null?Ct.memoizedState:null)!==i&&(Je.flags|=1024),o}function ib(){var i=Dp!==0;return Dp=0,i}function ab(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function ob(i){if(Pp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Pp=!1}da=0,nn=Ct=Je=null,ll=!1,vd=Dp=0,ul=null}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Je.memoizedState=nn=i:nn=nn.next=i,nn}function rn(){if(Ct===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var o=nn===null?Je.memoizedState:nn.next;if(o!==null)nn=o,Ct=i;else{if(i===null)throw Je.alternate===null?Error(r(467)):Error(r(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},nn===null?Je.memoizedState=nn=i:nn=nn.next=i}return nn}var $p;$p=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ed(i){var o=vd;return vd+=1,ul===null&&(ul=[]),i=V_(ul,i,o),o=Je,(nn===null?o.memoizedState:nn.next)===null&&(o=o.alternate,x.H=o===null||o.memoizedState===null?Io:ha),i}function Up(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ed(i);if(i.$$typeof===w)return Hn(i)}throw Error(r(438,String(i)))}function cb(i){var o=null,l=Je.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=$p(),Je.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),h=0;h<i;h++)l[h]=P;return o.index++,l}function vi(i,o){return typeof o=="function"?o(i):o}function Mp(i){var o=rn();return lb(o,Ct,i)}function lb(i,o,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var m=i.baseQueue,b=h.pending;if(b!==null){if(m!==null){var C=m.next;m.next=b.next,b.next=C}o.baseQueue=m=b,h.pending=null}if(b=i.baseState,m===null)i.memoizedState=b;else{o=m.next;var $=C=null,L=null,K=o,re=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(ct&oe)===oe:(da&oe)===oe){var J=K.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===ol&&(re=!0);else if((da&J)===J){K=K.next,J===ol&&(re=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?($=L=oe,C=b):L=L.next=oe,Je.lanes|=J,Ea|=J;oe=K.action,Oo&&l(b,oe),b=K.hasEagerState?K.eagerState:l(b,oe)}else J={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?($=L=J,C=b):L=L.next=J,Je.lanes|=oe,Ea|=oe;K=K.next}while(K!==null&&K!==o);if(L===null?C=b:L.next=$,!Ir(b,i.memoizedState)&&(bn=!0,re&&(l=cl,l!==null)))throw l;i.memoizedState=b,i.baseState=C,i.baseQueue=L,h.lastRenderedState=b}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function ub(i){var o=rn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,b=o.memoizedState;if(m!==null){l.pending=null;var C=m=m.next;do b=i(b,C.action),C=C.next;while(C!==m);Ir(b,o.memoizedState)||(bn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),l.lastRenderedState=b}return[b,h]}function rC(i,o,l){var h=Je,m=rn(),b=lt;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=o();var C=!Ir((Ct||m).memoizedState,l);if(C&&(m.memoizedState=l,bn=!0),m=m.queue,fb(aC.bind(null,h,m,i),[i]),m.getSnapshot!==o||C||nn!==null&&nn.memoizedState.tag&1){if(h.flags|=2048,dl(9,iC.bind(null,h,m,l,o),{destroy:void 0},null),xt===null)throw Error(r(349));b||(da&60)!==0||sC(h,o,l)}return l}function sC(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Je.updateQueue,o===null?(o=$p(),Je.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function iC(i,o,l,h){o.value=l,o.getSnapshot=h,oC(o)&&cC(i)}function aC(i,o,l){return l(function(){oC(o)&&cC(i)})}function oC(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Ir(i,l)}catch{return!0}}function cC(i){var o=ca(i,2);o!==null&&Jn(o,i,2)}function db(i){var o=dr();if(typeof i=="function"){var l=i;if(i=l(),Oo){ia(!0);try{l()}finally{ia(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:i},o}function lC(i,o,l,h){return i.baseState=l,lb(i,Ct,typeof h=="function"?h:vi)}function d5(i,o,l,h,m){if(Lp(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};x.T!==null?l(!0):b.isTransition=!1,h(b),l=o.pending,l===null?(b.next=o.pending=b,uC(o,b)):(b.next=l.next,o.pending=l.next=b)}}function uC(i,o){var l=o.action,h=o.payload,m=i.state;if(o.isTransition){var b=x.T,C={};x.T=C;try{var $=l(m,h),L=x.S;L!==null&&L(C,$),dC(i,o,$)}catch(K){hb(i,o,K)}finally{x.T=b}}else try{b=l(m,h),dC(i,o,b)}catch(K){hb(i,o,K)}}function dC(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){hC(i,o,h)},function(h){return hb(i,o,h)}):hC(i,o,l)}function hC(i,o,l){o.status="fulfilled",o.value=l,fC(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,uC(i,l)))}function hb(i,o,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=l,fC(o),o=o.next;while(o!==h)}i.action=null}function fC(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function pC(i,o){return o}function gC(i,o){if(lt){var l=xt.formState;if(l!==null){e:{var h=Je;if(lt){if(xn){t:{for(var m=xn,b=zs;m.nodeType!==8;){if(!b){m=null;break t}if(m=_s(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){xn=_s(m.nextSibling),h=m.data==="F!";break e}}So(h)}h=!1}h&&(o=l[0])}}return l=dr(),l.memoizedState=l.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pC,lastRenderedState:o},l.queue=h,l=DC.bind(null,Je,h),h.dispatch=l,h=db(!1),b=bb.bind(null,Je,!1,h.queue),h=dr(),m={state:o,dispatch:null,action:i,pending:null},h.queue=m,l=d5.bind(null,Je,m,b,l),m.dispatch=l,h.memoizedState=i,[o,l,!1]}function mC(i){var o=rn();return yC(o,Ct,i)}function yC(i,o,l){o=lb(i,o,pC)[0],i=Mp(vi)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Ed(o):o;var h=rn(),m=h.queue,b=m.dispatch;return l!==h.memoizedState&&(Je.flags|=2048,dl(9,h5.bind(null,m,l),{destroy:void 0},null)),[o,b,i]}function h5(i,o){i.action=o}function bC(i){var o=rn(),l=Ct;if(l!==null)return yC(o,l,i);rn(),o=o.memoizedState,l=rn();var h=l.queue.dispatch;return l.memoizedState=i,[o,h,!1]}function dl(i,o,l,h){return i={tag:i,create:o,inst:l,deps:h,next:null},o=Je.updateQueue,o===null&&(o=$p(),Je.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i),i}function wC(){return rn().memoizedState}function kp(i,o,l,h){var m=dr();Je.flags|=i,m.memoizedState=dl(1|o,l,{destroy:void 0},h===void 0?null:h)}function Bp(i,o,l,h){var m=rn();h=h===void 0?null:h;var b=m.memoizedState.inst;Ct!==null&&h!==null&&rb(h,Ct.memoizedState.deps)?m.memoizedState=dl(o,l,b,h):(Je.flags|=i,m.memoizedState=dl(1|o,l,b,h))}function vC(i,o){kp(8390656,8,i,o)}function fb(i,o){Bp(2048,8,i,o)}function EC(i,o){return Bp(4,2,i,o)}function _C(i,o){return Bp(4,4,i,o)}function CC(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function AC(i,o,l){l=l!=null?l.concat([i]):null,Bp(4,4,CC.bind(null,o,i),l)}function pb(){}function SC(i,o){var l=rn();o=o===void 0?null:o;var h=l.memoizedState;return o!==null&&rb(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function TC(i,o){var l=rn();o=o===void 0?null:o;var h=l.memoizedState;if(o!==null&&rb(o,h[1]))return h[0];if(h=i(),Oo){ia(!0);try{i()}finally{ia(!1)}}return l.memoizedState=[h,o],h}function gb(i,o,l){return l===void 0||(da&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=OA(),Je.lanes|=i,Ea|=i,l)}function NC(i,o,l,h){return Ir(l,o)?l:al.current!==null?(i=gb(i,l,h),Ir(i,o)||(bn=!0),i):(da&42)===0?(bn=!0,i.memoizedState=l):(i=OA(),Je.lanes|=i,Ea|=i,o)}function OC(i,o,l,h,m){var b=ee.p;ee.p=b!==0&&8>b?b:8;var C=x.T,$={};x.T=$,bb(i,!1,o,l);try{var L=m(),K=x.S;if(K!==null&&K($,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=c5(L,h);_d(i,o,re,Dr(i))}else _d(i,o,h,Dr(i))}catch(oe){_d(i,o,{then:function(){},status:"rejected",reason:oe},Dr())}finally{ee.p=b,x.T=C}}function f5(){}function mb(i,o,l,h){if(i.tag!==5)throw Error(r(476));var m=IC(i).queue;OC(i,m,o,le,l===null?f5:function(){return RC(i),l(h)})}function IC(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:le},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function RC(i){var o=IC(i).next.queue;_d(i,o,{},Dr())}function yb(){return Hn(Fd)}function xC(){return rn().memoizedState}function PC(){return rn().memoizedState}function p5(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=Dr();i=ga(l);var h=ma(o,i,l);h!==null&&(Jn(h,o,l),Sd(h,o,l)),o={cache:eb()},i.payload=o;return}o=o.return}}function g5(i,o,l){var h=Dr();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Lp(i)?$C(o,l):(l=Wy(i,o,l,h),l!==null&&(Jn(l,i,h),UC(l,o,h)))}function DC(i,o,l){var h=Dr();_d(i,o,l,h)}function _d(i,o,l,h){var m={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lp(i))$C(o,m);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,$=b(C,l);if(m.hasEagerState=!0,m.eagerState=$,Ir($,C))return _p(i,o,m,0),xt===null&&Ep(),!1}catch{}finally{}if(l=Wy(i,o,m,h),l!==null)return Jn(l,i,h),UC(l,o,h),!0}return!1}function bb(i,o,l,h){if(h={lane:2,revertLane:ow(),action:h,hasEagerState:!1,eagerState:null,next:null},Lp(i)){if(o)throw Error(r(479))}else o=Wy(i,l,h,2),o!==null&&Jn(o,i,2)}function Lp(i){var o=i.alternate;return i===Je||o!==null&&o===Je}function $C(i,o){ll=Pp=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function UC(i,o,l){if((l&4194176)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,G1(i,l)}}var qs={readContext:Hn,use:Up,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt};qs.useCacheRefresh=Xt,qs.useMemoCache=Xt,qs.useHostTransitionStatus=Xt,qs.useFormState=Xt,qs.useActionState=Xt,qs.useOptimistic=Xt;var Io={readContext:Hn,use:Up,useCallback:function(i,o){return dr().memoizedState=[i,o===void 0?null:o],i},useContext:Hn,useEffect:vC,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,kp(4194308,4,CC.bind(null,o,i),l)},useLayoutEffect:function(i,o){return kp(4194308,4,i,o)},useInsertionEffect:function(i,o){kp(4,2,i,o)},useMemo:function(i,o){var l=dr();o=o===void 0?null:o;var h=i();if(Oo){ia(!0);try{i()}finally{ia(!1)}}return l.memoizedState=[h,o],h},useReducer:function(i,o,l){var h=dr();if(l!==void 0){var m=l(o);if(Oo){ia(!0);try{l(o)}finally{ia(!1)}}}else m=o;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=g5.bind(null,Je,i),[h.memoizedState,i]},useRef:function(i){var o=dr();return i={current:i},o.memoizedState=i},useState:function(i){i=db(i);var o=i.queue,l=DC.bind(null,Je,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:pb,useDeferredValue:function(i,o){var l=dr();return gb(l,i,o)},useTransition:function(){var i=db(!1);return i=OC.bind(null,Je,i.queue,!0,!1),dr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var h=Je,m=dr();if(lt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),xt===null)throw Error(r(349));(ct&60)!==0||sC(h,o,l)}m.memoizedState=l;var b={value:l,getSnapshot:o};return m.queue=b,vC(aC.bind(null,h,b,i),[i]),h.flags|=2048,dl(9,iC.bind(null,h,b,l,o),{destroy:void 0},null),l},useId:function(){var i=dr(),o=xt.identifierPrefix;if(lt){var l=bi,h=yi;l=(h&~(1<<32-Or(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Dp++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=l5++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return dr().memoizedState=p5.bind(null,Je)}};Io.useMemoCache=cb,Io.useHostTransitionStatus=yb,Io.useFormState=gC,Io.useActionState=gC,Io.useOptimistic=function(i){var o=dr();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=bb.bind(null,Je,!0,l),l.dispatch=o,[i,o]};var ha={readContext:Hn,use:Up,useCallback:SC,useContext:Hn,useEffect:fb,useImperativeHandle:AC,useInsertionEffect:EC,useLayoutEffect:_C,useMemo:TC,useReducer:Mp,useRef:wC,useState:function(){return Mp(vi)},useDebugValue:pb,useDeferredValue:function(i,o){var l=rn();return NC(l,Ct.memoizedState,i,o)},useTransition:function(){var i=Mp(vi)[0],o=rn().memoizedState;return[typeof i=="boolean"?i:Ed(i),o]},useSyncExternalStore:rC,useId:xC};ha.useCacheRefresh=PC,ha.useMemoCache=cb,ha.useHostTransitionStatus=yb,ha.useFormState=mC,ha.useActionState=mC,ha.useOptimistic=function(i,o){var l=rn();return lC(l,Ct,i,o)};var Ro={readContext:Hn,use:Up,useCallback:SC,useContext:Hn,useEffect:fb,useImperativeHandle:AC,useInsertionEffect:EC,useLayoutEffect:_C,useMemo:TC,useReducer:ub,useRef:wC,useState:function(){return ub(vi)},useDebugValue:pb,useDeferredValue:function(i,o){var l=rn();return Ct===null?gb(l,i,o):NC(l,Ct.memoizedState,i,o)},useTransition:function(){var i=ub(vi)[0],o=rn().memoizedState;return[typeof i=="boolean"?i:Ed(i),o]},useSyncExternalStore:rC,useId:xC};Ro.useCacheRefresh=PC,Ro.useMemoCache=cb,Ro.useHostTransitionStatus=yb,Ro.useFormState=bC,Ro.useActionState=bC,Ro.useOptimistic=function(i,o){var l=rn();return Ct!==null?lC(l,Ct,i,o):(l.baseState=i,[i,l.queue.dispatch])};function wb(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:B({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var vb={isMounted:function(i){return(i=i._reactInternals)?H(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=Dr(),m=ga(h);m.payload=o,l!=null&&(m.callback=l),o=ma(i,m,h),o!==null&&(Jn(o,i,h),Sd(o,i,h))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=Dr(),m=ga(h);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=ma(i,m,h),o!==null&&(Jn(o,i,h),Sd(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Dr(),h=ga(l);h.tag=2,o!=null&&(h.callback=o),o=ma(i,h,l),o!==null&&(Jn(o,i,l),Sd(o,i,l))}};function MC(i,o,l,h,m,b,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,C):o.prototype&&o.prototype.isPureReactComponent?!ld(l,h)||!ld(m,b):!0}function kC(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&vb.enqueueReplaceState(o,o.state,null)}function xo(i,o){var l=o;if("ref"in o){l={};for(var h in o)h!=="ref"&&(l[h]=o[h])}if(i=i.defaultProps){l===o&&(l=B({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var jp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function BC(i){jp(i)}function LC(i){console.error(i)}function jC(i){jp(i)}function zp(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function zC(i,o,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Eb(i,o,l){return l=ga(l),l.tag=3,l.payload={element:null},l.callback=function(){zp(i,o)},l}function FC(i){return i=ga(i),i.tag=3,i}function qC(i,o,l,h){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var b=h.value;i.payload=function(){return m(b)},i.callback=function(){zC(o,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){zC(o,l,h),typeof m!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function m5(i,o,l,h,m){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=l.alternate,o!==null&&Ad(o,l,m,!0),l=Qr.current,l!==null){switch(l.tag){case 13:return Fs===null?nw():l.alternate===null&&Gt===0&&(Gt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,h===Qy?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([h]):o.add(h),sw(i,h,m)),!1;case 22:return l.flags|=65536,h===Qy?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([h]):l.add(h)),sw(i,h,m)),!1}throw Error(r(435,l.tag))}return sw(i,h,m),nw(),!1}if(lt)return o=Qr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,h!==Zy&&(i=Error(r(422),{cause:h}),fd(Kr(i,l)))):(h!==Zy&&(o=Error(r(423),{cause:h}),fd(Kr(o,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=Kr(h,l),m=Eb(i.stateNode,h,m),Mb(i,m),Gt!==4&&(Gt=2)),!1;var b=Error(r(520),{cause:h});if(b=Kr(b,l),Dd===null?Dd=[b]:Dd.push(b),Gt!==4&&(Gt=2),o===null)return!0;h=Kr(h,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Eb(l.stateNode,h,i),Mb(l,i),!1;case 1:if(o=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_a===null||!_a.has(b))))return l.flags|=65536,m&=-m,l.lanes|=m,m=FC(m),qC(m,i,l,h),Mb(l,m),!1}l=l.return}while(l!==null);return!1}var HC=Error(r(461)),bn=!1;function Pn(i,o,l,h){o.child=i===null?Y_(o,null,l,h):To(o,i.child,l,h)}function VC(i,o,l,h,m){l=l.render;var b=o.ref;if("ref"in h){var C={};for(var $ in h)$!=="ref"&&(C[$]=h[$])}else C=h;return Do(o),h=sb(i,o,l,C,b,m),$=ib(),i!==null&&!bn?(ab(i,o,m),Ei(i,o,m)):(lt&&$&&Ky(o),o.flags|=1,Pn(i,o,h,m),o.child)}function GC(i,o,l,h,m){if(i===null){var b=l.type;return typeof b=="function"&&!Hb(b)&&b.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=b,WC(i,o,b,h,m)):(i=Gp(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!Rb(i,m)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:ld,l(C,h)&&i.ref===o.ref)return Ei(i,o,m)}return o.flags|=1,i=va(b,h),i.ref=o.ref,i.return=o,o.child=i}function WC(i,o,l,h,m){if(i!==null){var b=i.memoizedProps;if(ld(b,h)&&i.ref===o.ref)if(bn=!1,o.pendingProps=h=b,Rb(i,m))(i.flags&131072)!==0&&(bn=!0);else return o.lanes=i.lanes,Ei(i,o,m)}return _b(i,o,l,h,m)}function KC(i,o,l){var h=o.pendingProps,m=h.children,b=(o.stateNode._pendingVisibility&2)!==0,C=i!==null?i.memoizedState:null;if(Cd(i,o),h.mode==="hidden"||b){if((o.flags&128)!==0){if(h=C!==null?C.baseLanes|l:l,i!==null){for(m=o.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;o.childLanes=b&~h}else o.childLanes=0,o.child=null;return YC(i,o,h,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&xp(o,C!==null?C.cachePool:null),C!==null?Z_(o,C):Xy(),Q_(o);else return o.lanes=o.childLanes=536870912,YC(i,o,C!==null?C.baseLanes|l:l,l)}else C!==null?(xp(o,C.cachePool),Z_(o,C),ua(),o.memoizedState=null):(i!==null&&xp(o,null),Xy(),ua());return Pn(i,o,m,l),o.child}function YC(i,o,l,h){var m=nb();return m=m===null?null:{parent:ln._currentValue,pool:m},o.memoizedState={baseLanes:l,cachePool:m},i!==null&&xp(o,null),Xy(),Q_(o),i!==null&&Ad(i,o,h,!0),null}function Cd(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=2097664)}}function _b(i,o,l,h,m){return Do(o),l=sb(i,o,l,h,void 0,m),h=ib(),i!==null&&!bn?(ab(i,o,m),Ei(i,o,m)):(lt&&h&&Ky(o),o.flags|=1,Pn(i,o,l,m),o.child)}function ZC(i,o,l,h,m,b){return Do(o),o.updateQueue=null,l=nC(o,h,l,m),tC(i),h=ib(),i!==null&&!bn?(ab(i,o,b),Ei(i,o,b)):(lt&&h&&Ky(o),o.flags|=1,Pn(i,o,l,b),o.child)}function QC(i,o,l,h,m){if(Do(o),o.stateNode===null){var b=nl,C=l.contextType;typeof C=="object"&&C!==null&&(b=Hn(C)),b=new l(h,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=vb,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=h,b.state=o.memoizedState,b.refs={},$b(o),C=l.contextType,b.context=typeof C=="object"&&C!==null?Hn(C):nl,b.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(wb(o,l,C,h),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&vb.enqueueReplaceState(b,b.state,null),Nd(o,h,b,m),Td(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){b=o.stateNode;var $=o.memoizedProps,L=xo(l,$);b.props=L;var K=b.context,re=l.contextType;C=nl,typeof re=="object"&&re!==null&&(C=Hn(re));var oe=l.getDerivedStateFromProps;re=typeof oe=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||K!==C)&&kC(o,b,h,C),pa=!1;var J=o.memoizedState;b.state=J,Nd(o,h,b,m),Td(),K=o.memoizedState,$||J!==K||pa?(typeof oe=="function"&&(wb(o,l,oe,h),K=o.memoizedState),(L=pa||MC(o,l,L,h,J,K,C))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=K),b.props=h,b.state=K,b.context=C,h=L):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,Ub(i,o),C=o.memoizedProps,re=xo(l,C),b.props=re,oe=o.pendingProps,J=b.context,K=l.contextType,L=nl,typeof K=="object"&&K!==null&&(L=Hn(K)),$=l.getDerivedStateFromProps,(K=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==oe||J!==L)&&kC(o,b,h,L),pa=!1,J=o.memoizedState,b.state=J,Nd(o,h,b,m),Td();var ne=o.memoizedState;C!==oe||J!==ne||pa||i!==null&&i.dependencies!==null&&Fp(i.dependencies)?(typeof $=="function"&&(wb(o,l,$,h),ne=o.memoizedState),(re=pa||MC(o,l,re,h,J,ne,L)||i!==null&&i.dependencies!==null&&Fp(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ne,L),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ne,L)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ne),b.props=h,b.state=ne,b.context=L,h=re):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),h=!1)}return b=h,Cd(i,o),h=(o.flags&128)!==0,b||h?(b=o.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&h?(o.child=To(o,i.child,null,m),o.child=To(o,null,l,m)):Pn(i,o,l,m),o.memoizedState=b.state,i=o.child):i=Ei(i,o,m),i}function XC(i,o,l,h){return hd(),o.flags|=256,Pn(i,o,l,h),o.child}var Cb={dehydrated:null,treeContext:null,retryLane:0};function Ab(i){return{baseLanes:i,cachePool:eC()}}function Sb(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=ts),i}function JC(i,o,l){var h=o.pendingProps,m=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=i!==null&&i.memoizedState===null?!1:(cn.current&2)!==0),C&&(m=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,i===null){if(lt){if(m?la(o):ua(),lt){var $=xn,L;if(L=$){e:{for(L=$,$=zs;L.nodeType!==8;){if(!$){$=null;break e}if(L=_s(L.nextSibling),L===null){$=null;break e}}$=L}$!==null?(o.memoizedState={dehydrated:$,treeContext:Co!==null?{id:yi,overflow:bi}:null,retryLane:536870912},L=es(18,null,null,0),L.stateNode=$,L.return=o,o.child=L,Xn=o,xn=null,L=!0):L=!1}L||So(o)}if($=o.memoizedState,$!==null&&($=$.dehydrated,$!==null))return $.data==="$!"?o.lanes=16:o.lanes=536870912,null;wi(o)}return $=h.children,h=h.fallback,m?(ua(),m=o.mode,$=Nb({mode:"hidden",children:$},m),h=Uo(h,m,l,null),$.return=o,h.return=o,$.sibling=h,o.child=$,m=o.child,m.memoizedState=Ab(l),m.childLanes=Sb(i,C,l),o.memoizedState=Cb,h):(la(o),Tb(o,$))}if(L=i.memoizedState,L!==null&&($=L.dehydrated,$!==null)){if(b)o.flags&256?(la(o),o.flags&=-257,o=Ob(i,o,l)):o.memoizedState!==null?(ua(),o.child=i.child,o.flags|=128,o=null):(ua(),m=h.fallback,$=o.mode,h=Nb({mode:"visible",children:h.children},$),m=Uo(m,$,l,null),m.flags|=2,h.return=o,m.return=o,h.sibling=m,o.child=h,To(o,i.child,null,l),h=o.child,h.memoizedState=Ab(l),h.childLanes=Sb(i,C,l),o.memoizedState=Cb,o=m);else if(la(o),$.data==="$!"){if(C=$.nextSibling&&$.nextSibling.dataset,C)var K=C.dgst;C=K,h=Error(r(419)),h.stack="",h.digest=C,fd({value:h,source:null,stack:null}),o=Ob(i,o,l)}else if(bn||Ad(i,o,l,!1),C=(l&i.childLanes)!==0,bn||C){if(C=xt,C!==null){if(h=l&-l,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==L.retryLane)throw L.retryLane=h,ca(i,h),Jn(C,i,h),HC}$.data==="$?"||nw(),o=Ob(i,o,l)}else $.data==="$?"?(o.flags|=128,o.child=i.child,o=x5.bind(null,i),$._reactRetry=o,o=null):(i=L.treeContext,xn=_s($.nextSibling),Xn=o,lt=!0,vs=null,zs=!1,i!==null&&(Yr[Zr++]=yi,Yr[Zr++]=bi,Yr[Zr++]=Co,yi=i.id,bi=i.overflow,Co=o),o=Tb(o,h.children),o.flags|=4096);return o}return m?(ua(),m=h.fallback,$=o.mode,L=i.child,K=L.sibling,h=va(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&31457280,K!==null?m=va(K,m):(m=Uo(m,$,l,null),m.flags|=2),m.return=o,h.return=o,h.sibling=m,o.child=h,h=m,m=o.child,$=i.child.memoizedState,$===null?$=Ab(l):(L=$.cachePool,L!==null?(K=ln._currentValue,L=L.parent!==K?{parent:K,pool:K}:L):L=eC(),$={baseLanes:$.baseLanes|l,cachePool:L}),m.memoizedState=$,m.childLanes=Sb(i,C,l),o.memoizedState=Cb,h):(la(o),l=i.child,i=l.sibling,l=va(l,{mode:"visible",children:h.children}),l.return=o,l.sibling=null,i!==null&&(C=o.deletions,C===null?(o.deletions=[i],o.flags|=16):C.push(i)),o.child=l,o.memoizedState=null,l)}function Tb(i,o){return o=Nb({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Nb(i,o){return SA(i,o,0,null)}function Ob(i,o,l){return To(o,i.child,null,l),i=Tb(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function eA(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Pb(i.return,o,l)}function Ib(i,o,l,h,m){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=l,b.tailMode=m)}function tA(i,o,l){var h=o.pendingProps,m=h.revealOrder,b=h.tail;if(Pn(i,o,h.children,l),h=cn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eA(i,l,o);else if(i.tag===19)eA(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(We(cn,h),m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Rp(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Ib(o,!1,m,l,b);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Rp(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Ib(o,!0,l,null,b);break;case"together":Ib(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ei(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ea|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(Ad(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=va(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=va(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function Rb(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Fp(i)))}function y5(i,o,l){switch(o.tag){case 3:bs(o,o.stateNode.containerInfo),fa(o,ln,i.memoizedState.cache),hd();break;case 27:case 5:Yu(o);break;case 4:bs(o,o.stateNode.containerInfo);break;case 10:fa(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(la(o),o.flags|=128,null):(l&o.child.childLanes)!==0?JC(i,o,l):(la(o),i=Ei(i,o,l),i!==null?i.sibling:null);la(o);break;case 19:var m=(i.flags&128)!==0;if(h=(l&o.childLanes)!==0,h||(Ad(i,o,l,!1),h=(l&o.childLanes)!==0),m){if(h)return tA(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),We(cn,cn.current),h)break;return null;case 22:case 23:return o.lanes=0,KC(i,o,l);case 24:fa(o,ln,i.memoizedState.cache)}return Ei(i,o,l)}function nA(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)bn=!0;else{if(!Rb(i,l)&&(o.flags&128)===0)return bn=!1,y5(i,o,l);bn=(i.flags&131072)!==0}else bn=!1,lt&&(o.flags&1048576)!==0&&j_(o,Sp,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var h=o.elementType,m=h._init;if(h=m(h._payload),o.type=h,typeof h=="function")Hb(h)?(i=xo(h,i),o.tag=1,o=QC(null,o,h,i,l)):(o.tag=0,o=_b(null,o,h,i,l));else{if(h!=null){if(m=h.$$typeof,m===v){o.tag=11,o=VC(null,o,h,i,l);break e}else if(m===S){o.tag=14,o=GC(null,o,h,i,l);break e}}throw o=k(h)||h,Error(r(306,o,""))}}return o;case 0:return _b(i,o,o.type,o.pendingProps,l);case 1:return h=o.type,m=xo(h,o.pendingProps),QC(i,o,h,m,l);case 3:e:{if(bs(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var b=o.pendingProps;m=o.memoizedState,h=m.element,Ub(i,o),Nd(o,b,null,l);var C=o.memoizedState;if(b=C.cache,fa(o,ln,b),b!==m.cache&&Db(o,[ln],l,!0),Td(),b=C.element,m.isDehydrated)if(m={element:b,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=XC(i,o,b,l);break e}else if(b!==h){h=Kr(Error(r(424)),o),fd(h),o=XC(i,o,b,l);break e}else for(xn=_s(o.stateNode.containerInfo.firstChild),Xn=o,lt=!0,vs=null,zs=!0,l=Y_(o,null,b,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(hd(),b===h){o=Ei(i,o,l);break e}Pn(i,o,b,l)}o=o.child}return o;case 26:return Cd(i,o),i===null?(l=iS(o.type,null,o.pendingProps,null))?o.memoizedState=l:lt||(l=o.type,i=o.pendingProps,h=sg(Qt.current).createElement(l),h[qn]=o,h[lr]=i,Dn(h,l,i),yn(h),o.stateNode=h):o.memoizedState=iS(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Yu(o),i===null&&lt&&(h=o.stateNode=nS(o.type,o.pendingProps,Qt.current),Xn=o,zs=!0,xn=_s(h.firstChild)),h=o.pendingProps.children,i!==null||lt?Pn(i,o,h,l):o.child=To(o,null,h,l),Cd(i,o),o.child;case 5:return i===null&&lt&&((m=h=xn)&&(h=W5(h,o.type,o.pendingProps,zs),h!==null?(o.stateNode=h,Xn=o,xn=_s(h.firstChild),zs=!1,m=!0):m=!1),m||So(o)),Yu(o),m=o.type,b=o.pendingProps,C=i!==null?i.memoizedProps:null,h=b.children,mw(m,b)?h=null:C!==null&&mw(m,C)&&(o.flags|=32),o.memoizedState!==null&&(m=sb(i,o,u5,null,null,l),Fd._currentValue=m),Cd(i,o),Pn(i,o,h,l),o.child;case 6:return i===null&&lt&&((i=l=xn)&&(l=K5(l,o.pendingProps,zs),l!==null?(o.stateNode=l,Xn=o,xn=null,i=!0):i=!1),i||So(o)),null;case 13:return JC(i,o,l);case 4:return bs(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=To(o,null,h,l):Pn(i,o,h,l),o.child;case 11:return VC(i,o,o.type,o.pendingProps,l);case 7:return Pn(i,o,o.pendingProps,l),o.child;case 8:return Pn(i,o,o.pendingProps.children,l),o.child;case 12:return Pn(i,o,o.pendingProps.children,l),o.child;case 10:return h=o.pendingProps,fa(o,o.type,h.value),Pn(i,o,h.children,l),o.child;case 9:return m=o.type._context,h=o.pendingProps.children,Do(o),m=Hn(m),h=h(m),o.flags|=1,Pn(i,o,h,l),o.child;case 14:return GC(i,o,o.type,o.pendingProps,l);case 15:return WC(i,o,o.type,o.pendingProps,l);case 19:return tA(i,o,l);case 22:return KC(i,o,l);case 24:return Do(o),h=Hn(ln),i===null?(m=nb(),m===null&&(m=xt,b=eb(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=l),m=b),o.memoizedState={parent:h,cache:m},$b(o),fa(o,ln,m)):((i.lanes&l)!==0&&(Ub(i,o),Nd(o,null,null,l),Td()),m=i.memoizedState,b=o.memoizedState,m.parent!==h?(m={parent:h,cache:h},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),fa(o,ln,h)):(h=b.cache,fa(o,ln,h),h!==m.cache&&Db(o,[ln],l,!0))),Pn(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var xb=Ne(null),Po=null,_i=null;function fa(i,o,l){We(xb,o._currentValue),o._currentValue=l}function Ci(i){i._currentValue=xb.current,Re(xb)}function Pb(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Db(i,o,l,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var b=m.dependencies;if(b!==null){var C=m.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=m;for(var L=0;L<o.length;L++)if($.context===o[L]){b.lanes|=l,$=b.alternate,$!==null&&($.lanes|=l),Pb(b.return,l,i),h||(C=null);break e}b=$.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(r(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),Pb(C,l,i),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===i){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Ad(i,o,l,h){i=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var $=m.type;Ir(m.pendingProps.value,C.value)||(i!==null?i.push($):i=[$])}}else if(m===Rn.current){if(C=m.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Fd):i=[Fd])}m=m.return}i!==null&&Db(o,i,l,h),o.flags|=262144}function Fp(i){for(i=i.firstContext;i!==null;){if(!Ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Do(i){Po=i,_i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Hn(i){return rA(Po,i)}function qp(i,o){return Po===null&&Do(i),rA(i,o)}function rA(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},_i===null){if(i===null)throw Error(r(308));_i=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else _i=_i.next=o;return l}var pa=!1;function $b(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ub(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ga(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ma(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(qt&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,o=Cp(i),B_(i,null,l),o}return _p(i,h,o,l),Cp(i)}function Sd(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194176)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,G1(i,l)}}function Mb(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?m=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?m=b=o:b=b.next=o}else m=b=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var kb=!1;function Td(){if(kb){var i=cl;if(i!==null)throw i}}function Nd(i,o,l,h){kb=!1;var m=i.updateQueue;pa=!1;var b=m.firstBaseUpdate,C=m.lastBaseUpdate,$=m.shared.pending;if($!==null){m.shared.pending=null;var L=$,K=L.next;L.next=null,C===null?b=K:C.next=K,C=L;var re=i.alternate;re!==null&&(re=re.updateQueue,$=re.lastBaseUpdate,$!==C&&($===null?re.firstBaseUpdate=K:$.next=K,re.lastBaseUpdate=L))}if(b!==null){var oe=m.baseState;C=0,re=K=L=null,$=b;do{var J=$.lane&-536870913,ne=J!==$.lane;if(ne?(ct&J)===J:(h&J)===J){J!==0&&J===ol&&(kb=!0),re!==null&&(re=re.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Oe=i,ze=$;J=o;var Wt=l;switch(ze.tag){case 1:if(Oe=ze.payload,typeof Oe=="function"){oe=Oe.call(Wt,oe,J);break e}oe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=ze.payload,J=typeof Oe=="function"?Oe.call(Wt,oe,J):Oe,J==null)break e;oe=B({},oe,J);break e;case 2:pa=!0}}J=$.callback,J!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:$.tag,payload:$.payload,callback:$.callback,next:null},re===null?(K=re=ne,L=oe):re=re.next=ne,C|=J;if($=$.next,$===null){if($=m.shared.pending,$===null)break;ne=$,$=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);re===null&&(L=oe),m.baseState=L,m.firstBaseUpdate=K,m.lastBaseUpdate=re,b===null&&(m.shared.lanes=0),Ea|=C,i.lanes=C,i.memoizedState=oe}}function sA(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function iA(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)sA(l[i],o)}function Od(i,o){try{var l=o.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&i)===i){h=void 0;var b=l.create,C=l.inst;h=b(),C.destroy=h}l=l.next}while(l!==m)}}catch($){Nt(o,o.return,$)}}function ya(i,o,l){try{var h=o.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&i)===i){var C=h.inst,$=C.destroy;if($!==void 0){C.destroy=void 0,m=o;var L=l;try{$()}catch(K){Nt(m,L,K)}}}h=h.next}while(h!==b)}}catch(K){Nt(o,o.return,K)}}function aA(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{iA(o,l)}catch(h){Nt(i,i.return,h)}}}function oA(i,o,l){l.props=xo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Nt(i,o,h)}}function $o(i,o){try{var l=i.ref;if(l!==null){var h=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=h;break;default:m=h}typeof l=="function"?i.refCleanup=l(m):l.current=m}}catch(b){Nt(i,o,b)}}function Rr(i,o){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(m){Nt(i,o,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Nt(i,o,m)}else l.current=null}function cA(i){var o=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(m){Nt(i,i.return,m)}}function lA(i,o,l){try{var h=i.stateNode;F5(h,i.type,l,o),h[lr]=o}catch(m){Nt(i,i.return,m)}}function uA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Bb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||uA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lb(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=rg));else if(h!==4&&h!==27&&(i=i.child,i!==null))for(Lb(i,o,l),i=i.sibling;i!==null;)Lb(i,o,l),i=i.sibling}function Hp(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&h!==27&&(i=i.child,i!==null))for(Hp(i,o,l),i=i.sibling;i!==null;)Hp(i,o,l),i=i.sibling}var Ai=!1,Vt=!1,jb=!1,dA=typeof WeakSet=="function"?WeakSet:Set,wn=null,hA=!1;function b5(i,o){if(i=i.containerInfo,pw=ug,i=I_(i),Fy(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,$=-1,L=-1,K=0,re=0,oe=i,J=null;t:for(;;){for(var ne;oe!==l||m!==0&&oe.nodeType!==3||($=C+m),oe!==b||h!==0&&oe.nodeType!==3||(L=C+h),oe.nodeType===3&&(C+=oe.nodeValue.length),(ne=oe.firstChild)!==null;)J=oe,oe=ne;for(;;){if(oe===i)break t;if(J===l&&++K===m&&($=C),J===b&&++re===h&&(L=C),(ne=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ne}l=$===-1||L===-1?null:{start:$,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(gw={focusedElem:i,selectionRange:l},ug=!1,wn=o;wn!==null;)if(o=wn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,wn=i;else for(;wn!==null;){switch(o=wn,b=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=o,m=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var Oe=xo(l.type,m,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Oe,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(ze){Nt(l,l.return,ze)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)ww(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ww(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,wn=i;break}wn=o.return}return Oe=hA,hA=!1,Oe}function fA(i,o,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ti(i,l),h&4&&Od(5,l);break;case 1:if(Ti(i,l),h&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch($){Nt(l,l.return,$)}else{var m=xo(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(m,o,i.__reactInternalSnapshotBeforeUpdate)}catch($){Nt(l,l.return,$)}}h&64&&aA(l),h&512&&$o(l,l.return);break;case 3:if(Ti(i,l),h&64&&(h=l.updateQueue,h!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{iA(h,i)}catch($){Nt(l,l.return,$)}}break;case 26:Ti(i,l),h&512&&$o(l,l.return);break;case 27:case 5:Ti(i,l),o===null&&h&4&&cA(l),h&512&&$o(l,l.return);break;case 12:Ti(i,l);break;case 13:Ti(i,l),h&4&&mA(i,l);break;case 22:if(m=l.memoizedState!==null||Ai,!m){o=o!==null&&o.memoizedState!==null||Vt;var b=Ai,C=Vt;Ai=m,(Vt=o)&&!C?ba(i,l,(l.subtreeFlags&8772)!==0):Ti(i,l),Ai=b,Vt=C}h&512&&(l.memoizedProps.mode==="manual"?$o(l,l.return):Rr(l,l.return));break;default:Ti(i,l)}}function pA(i){var o=i.alternate;o!==null&&(i.alternate=null,pA(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ty(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var sn=null,xr=!1;function Si(i,o,l){for(l=l.child;l!==null;)gA(i,o,l),l=l.sibling}function gA(i,o,l){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Qu,l)}catch{}switch(l.tag){case 26:Vt||Rr(l,o),Si(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Vt||Rr(l,o);var h=sn,m=xr;for(sn=l.stateNode,Si(i,o,l),l=l.stateNode,o=l.attributes;o.length;)l.removeAttributeNode(o[0]);Ty(l),sn=h,xr=m;break;case 5:Vt||Rr(l,o);case 6:m=sn;var b=xr;if(sn=null,Si(i,o,l),sn=m,xr=b,sn!==null)if(xr)try{i=sn,h=l.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)}catch(C){Nt(l,o,C)}else try{sn.removeChild(l.stateNode)}catch(C){Nt(l,o,C)}break;case 18:sn!==null&&(xr?(o=sn,l=l.stateNode,o.nodeType===8?bw(o.parentNode,l):o.nodeType===1&&bw(o,l),Gd(o)):bw(sn,l.stateNode));break;case 4:h=sn,m=xr,sn=l.stateNode.containerInfo,xr=!0,Si(i,o,l),sn=h,xr=m;break;case 0:case 11:case 14:case 15:Vt||ya(2,l,o),Vt||ya(4,l,o),Si(i,o,l);break;case 1:Vt||(Rr(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"&&oA(l,o,h)),Si(i,o,l);break;case 21:Si(i,o,l);break;case 22:Vt||Rr(l,o),Vt=(h=Vt)||l.memoizedState!==null,Si(i,o,l),Vt=h;break;default:Si(i,o,l)}}function mA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Gd(i)}catch(l){Nt(o,o.return,l)}}function w5(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new dA),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new dA),o;default:throw Error(r(435,i.tag))}}function zb(i,o){var l=w5(i);o.forEach(function(h){var m=P5.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}function Xr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h],b=i,C=o,$=C;e:for(;$!==null;){switch($.tag){case 27:case 5:sn=$.stateNode,xr=!1;break e;case 3:sn=$.stateNode.containerInfo,xr=!0;break e;case 4:sn=$.stateNode.containerInfo,xr=!0;break e}$=$.return}if(sn===null)throw Error(r(160));gA(b,C,m),sn=null,xr=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)yA(o,i),o=o.sibling}var Es=null;function yA(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xr(o,i),Jr(i),h&4&&(ya(3,i,i.return),Od(3,i),ya(5,i,i.return));break;case 1:Xr(o,i),Jr(i),h&512&&(Vt||l===null||Rr(l,l.return)),h&64&&Ai&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var m=Es;if(Xr(o,i),Jr(i),h&512&&(Vt||l===null||Rr(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":b=m.getElementsByTagName("title")[0],(!b||b[ed]||b[qn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(h),m.head.insertBefore(b,m.querySelector("head > title"))),Dn(b,h,l),b[qn]=i,yn(b),h=b;break e;case"link":var C=cS("link","href",m).get(h+(l.href||""));if(C){for(var $=0;$<C.length;$++)if(b=C[$],b.getAttribute("href")===(l.href==null?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice($,1);break t}}b=m.createElement(h),Dn(b,h,l),m.head.appendChild(b);break;case"meta":if(C=cS("meta","content",m).get(h+(l.content||""))){for($=0;$<C.length;$++)if(b=C[$],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice($,1);break t}}b=m.createElement(h),Dn(b,h,l),m.head.appendChild(b);break;default:throw Error(r(468,h))}b[qn]=i,yn(b),h=b}i.stateNode=h}else lS(m,i.type,i.stateNode);else i.stateNode=oS(m,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?lS(m,i.type,i.stateNode):oS(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&lA(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(h&4&&i.alternate===null){m=i.stateNode,b=i.memoizedProps;try{for(var L=m.firstChild;L;){var K=L.nextSibling,re=L.nodeName;L[ed]||re==="HEAD"||re==="BODY"||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&L.rel.toLowerCase()==="stylesheet"||m.removeChild(L),L=K}for(var oe=i.type,J=m.attributes;J.length;)m.removeAttributeNode(J[0]);Dn(m,oe,b),m[qn]=i,m[lr]=b}catch(Oe){Nt(i,i.return,Oe)}}case 5:if(Xr(o,i),Jr(i),h&512&&(Vt||l===null||Rr(l,l.return)),i.flags&32){m=i.stateNode;try{Yc(m,"")}catch(Oe){Nt(i,i.return,Oe)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,lA(i,m,l!==null?l.memoizedProps:m)),h&1024&&(jb=!0);break;case 6:if(Xr(o,i),Jr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Oe){Nt(i,i.return,Oe)}}break;case 3:if(og=null,m=Es,Es=ig(o.containerInfo),Xr(o,i),Es=m,Jr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Gd(o.containerInfo)}catch(Oe){Nt(i,i.return,Oe)}jb&&(jb=!1,bA(i));break;case 4:h=Es,Es=ig(i.stateNode.containerInfo),Xr(o,i),Jr(i),Es=h;break;case 12:Xr(o,i),Jr(i);break;case 13:Xr(o,i),Jr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zb=Tr()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zb(i,h)));break;case 22:if(h&512&&(Vt||l===null||Rr(l,l.return)),L=i.memoizedState!==null,K=l!==null&&l.memoizedState!==null,re=Ai,oe=Vt,Ai=re||L,Vt=oe||K,Xr(o,i),Vt=oe,Ai=re,Jr(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,h&8192&&(o._visibility=L?o._visibility&-2:o._visibility|1,L&&(o=Ai||Vt,l===null||K||o||hl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(l===null){K=l=o;try{if(m=K.stateNode,L)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=K.stateNode,$=K.memoizedProps.style;var ne=$!=null&&$.hasOwnProperty("display")?$.display:null;C.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Oe){Nt(K,K.return,Oe)}}}else if(o.tag===6){if(l===null){K=o;try{K.stateNode.nodeValue=L?"":K.memoizedProps}catch(Oe){Nt(K,K.return,Oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,zb(i,l))));break;case 19:Xr(o,i),Jr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zb(i,h)));break;case 21:break;default:Xr(o,i),Jr(i)}}function Jr(i){var o=i.flags;if(o&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(uA(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 27:var m=h.stateNode,b=Bb(i);Hp(i,b,m);break;case 5:var C=h.stateNode;h.flags&32&&(Yc(C,""),h.flags&=-33);var $=Bb(i);Hp(i,$,C);break;case 3:case 4:var L=h.stateNode.containerInfo,K=Bb(i);Lb(i,K,L);break;default:throw Error(r(161))}}}catch(re){Nt(i,i.return,re)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function bA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;bA(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ti(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)fA(i,o.alternate,o),o=o.sibling}function hl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ya(4,o,o.return),hl(o);break;case 1:Rr(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&oA(o,o.return,l),hl(o);break;case 26:case 27:case 5:Rr(o,o.return),hl(o);break;case 22:Rr(o,o.return),o.memoizedState===null&&hl(o);break;default:hl(o)}i=i.sibling}}function ba(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,m=i,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:ba(m,b,l),Od(4,b);break;case 1:if(ba(m,b,l),h=b,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Nt(h,h.return,K)}if(h=b,m=h.updateQueue,m!==null){var $=h.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)sA(L[m],$)}catch(K){Nt(h,h.return,K)}}l&&C&64&&aA(b),$o(b,b.return);break;case 26:case 27:case 5:ba(m,b,l),l&&h===null&&C&4&&cA(b),$o(b,b.return);break;case 12:ba(m,b,l);break;case 13:ba(m,b,l),l&&C&4&&mA(m,b);break;case 22:b.memoizedState===null&&ba(m,b,l),$o(b,b.return);break;default:ba(m,b,l)}o=o.sibling}}function Fb(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&bd(l))}function qb(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&bd(i))}function wa(i,o,l,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)wA(i,o,l,h),o=o.sibling}function wA(i,o,l,h){var m=o.flags;switch(o.tag){case 0:case 11:case 15:wa(i,o,l,h),m&2048&&Od(9,o);break;case 3:wa(i,o,l,h),m&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&bd(i)));break;case 12:if(m&2048){wa(i,o,l,h),i=o.stateNode;try{var b=o.memoizedProps,C=b.id,$=b.onPostCommit;typeof $=="function"&&$(C,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Nt(o,o.return,L)}}else wa(i,o,l,h);break;case 23:break;case 22:b=o.stateNode,o.memoizedState!==null?b._visibility&4?wa(i,o,l,h):Id(i,o):b._visibility&4?wa(i,o,l,h):(b._visibility|=4,fl(i,o,l,h,(o.subtreeFlags&10256)!==0)),m&2048&&Fb(o.alternate,o);break;case 24:wa(i,o,l,h),m&2048&&qb(o.alternate,o);break;default:wa(i,o,l,h)}}function fl(i,o,l,h,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=i,C=o,$=l,L=h,K=C.flags;switch(C.tag){case 0:case 11:case 15:fl(b,C,$,L,m),Od(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&4?fl(b,C,$,L,m):Id(b,C):(re._visibility|=4,fl(b,C,$,L,m)),m&&K&2048&&Fb(C.alternate,C);break;case 24:fl(b,C,$,L,m),m&&K&2048&&qb(C.alternate,C);break;default:fl(b,C,$,L,m)}o=o.sibling}}function Id(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,h=o,m=h.flags;switch(h.tag){case 22:Id(l,h),m&2048&&Fb(h.alternate,h);break;case 24:Id(l,h),m&2048&&qb(h.alternate,h);break;default:Id(l,h)}o=o.sibling}}var Rd=8192;function pl(i){if(i.subtreeFlags&Rd)for(i=i.child;i!==null;)vA(i),i=i.sibling}function vA(i){switch(i.tag){case 26:pl(i),i.flags&Rd&&i.memoizedState!==null&&o$(Es,i.memoizedState,i.memoizedProps);break;case 5:pl(i);break;case 3:case 4:var o=Es;Es=ig(i.stateNode.containerInfo),pl(i),Es=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Rd,Rd=16777216,pl(i),Rd=o):pl(i));break;default:pl(i)}}function EA(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function xd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var h=o[l];wn=h,CA(h,i)}EA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_A(i),i=i.sibling}function _A(i){switch(i.tag){case 0:case 11:case 15:xd(i),i.flags&2048&&ya(9,i,i.return);break;case 3:xd(i);break;case 12:xd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,Vp(i)):xd(i);break;default:xd(i)}}function Vp(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var h=o[l];wn=h,CA(h,i)}EA(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ya(8,o,o.return),Vp(o);break;case 22:l=o.stateNode,l._visibility&4&&(l._visibility&=-5,Vp(o));break;default:Vp(o)}i=i.sibling}}function CA(i,o){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:ya(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:bd(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,wn=h;else e:for(l=i;wn!==null;){h=wn;var m=h.sibling,b=h.return;if(pA(h),h===l){wn=null;break e}if(m!==null){m.return=b,wn=m;break e}wn=b}}}function v5(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(i,o,l,h){return new v5(i,o,l,h)}function Hb(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,o){var l=i.alternate;return l===null?(l=es(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function AA(i,o){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Gp(i,o,l,h,m,b){var C=0;if(h=i,typeof i=="function")Hb(i)&&(C=1);else if(typeof i=="string")C=i$(i,l,_t.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case d:return Uo(l.children,m,b,o);case f:C=8,m|=24;break;case p:return i=es(12,l,o,m|2),i.elementType=p,i.lanes=b,i;case E:return i=es(13,l,o,m),i.elementType=E,i.lanes=b,i;case _:return i=es(19,l,o,m),i.elementType=_,i.lanes=b,i;case O:return SA(l,m,b,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case g:case w:C=10;break e;case y:C=9;break e;case v:C=11;break e;case S:C=14;break e;case T:C=16,h=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=es(C,l,o,m),o.elementType=i,o.type=h,o.lanes=b,o}function Uo(i,o,l,h){return i=es(7,i,h,o),i.lanes=l,i}function SA(i,o,l,h){i=es(22,i,h,o),i.elementType=O,i.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=m._current;if(b===null)throw Error(r(456));if((m._pendingVisibility&2)===0){var C=ca(b,2);C!==null&&(m._pendingVisibility|=2,Jn(C,b,2))}},attach:function(){var b=m._current;if(b===null)throw Error(r(456));if((m._pendingVisibility&2)!==0){var C=ca(b,2);C!==null&&(m._pendingVisibility&=-3,Jn(C,b,2))}}};return i.stateNode=m,i}function Vb(i,o,l){return i=es(6,i,null,o),i.lanes=l,i}function Gb(i,o,l){return o=es(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Ni(i){i.flags|=4}function TA(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!uS(o)){if(o=Qr.current,o!==null&&((ct&4194176)===ct?Fs!==null:(ct&62914560)!==ct&&(ct&536870912)===0||o!==Fs))throw gd=Qy,q_;i.flags|=8192}}function Wp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?H1():536870912,i.lanes|=o,ml|=o)}function Pd(i,o){if(!lt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ft(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&31457280,h|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function E5(i,o,l){var h=o.pendingProps;switch(Yy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Ft(o),null;case 3:return l=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ci(ln),sa(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(dd(o)?Ni(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vs!==null&&(ew(vs),vs=null))),Ft(o),null;case 26:return l=o.memoizedState,i===null?(Ni(o),l!==null?(Ft(o),TA(o,l)):(Ft(o),o.flags&=-16777217)):l?l!==i.memoizedState?(Ni(o),Ft(o),TA(o,l)):(Ft(o),o.flags&=-16777217):(i.memoizedProps!==h&&Ni(o),Ft(o),o.flags&=-16777217),null;case 27:jc(o),l=Qt.current;var m=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Ni(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}i=_t.current,dd(o)?z_(o):(i=nS(m,h,l),o.stateNode=i,Ni(o))}return Ft(o),null;case 5:if(jc(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Ni(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ft(o),null}if(i=_t.current,dd(o))z_(o);else{switch(m=sg(Qt.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?m.createElement(l,{is:h.is}):m.createElement(l)}}i[qn]=o,i[lr]=h;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=i;e:switch(Dn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ni(o)}}return Ft(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Ni(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=Qt.current,dd(o)){if(i=o.stateNode,l=o.memoizedProps,h=null,m=Xn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[qn]=o,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||ZA(i.nodeValue,l)),i||So(o)}else i=sg(i).createTextNode(h),i[qn]=o,o.stateNode=i}return Ft(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=dd(o),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[qn]=o}else hd(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),m=!1}else vs!==null&&(ew(vs),vs=null),m=!0;if(!m)return o.flags&256?(wi(o),o):(wi(o),null)}if(wi(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=o.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==m&&(h.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),Wp(o,o.updateQueue),Ft(o),null;case 4:return sa(),i===null&&dw(o.stateNode.containerInfo),Ft(o),null;case 10:return Ci(o.type),Ft(o),null;case 19:if(Re(cn),m=o.memoizedState,m===null)return Ft(o),null;if(h=(o.flags&128)!==0,b=m.rendering,b===null)if(h)Pd(m,!1);else{if(Gt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Rp(i),b!==null){for(o.flags|=128,Pd(m,!1),i=b.updateQueue,o.updateQueue=i,Wp(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)AA(l,i),l=l.sibling;return We(cn,cn.current&1|2),o.child}i=i.sibling}m.tail!==null&&Tr()>Kp&&(o.flags|=128,h=!0,Pd(m,!1),o.lanes=4194304)}else{if(!h)if(i=Rp(b),i!==null){if(o.flags|=128,h=!0,i=i.updateQueue,o.updateQueue=i,Wp(o,i),Pd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!lt)return Ft(o),null}else 2*Tr()-m.renderingStartTime>Kp&&l!==536870912&&(o.flags|=128,h=!0,Pd(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Tr(),o.sibling=null,i=cn.current,We(cn,h?i&1|2:i&1),o):(Ft(o),null);case 22:case 23:return wi(o),Jy(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(l&536870912)!==0&&(o.flags&128)===0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),l=o.updateQueue,l!==null&&Wp(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==l&&(o.flags|=2048),i!==null&&Re(No),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ci(ln),Ft(o),null;case 25:return null}throw Error(r(156,o.tag))}function _5(i,o){switch(Yy(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ci(ln),sa(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return jc(o),null;case 13:if(wi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));hd()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Re(cn),null;case 4:return sa(),null;case 10:return Ci(o.type),null;case 22:case 23:return wi(o),Jy(),i!==null&&Re(No),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ci(ln),null;case 25:return null;default:return null}}function NA(i,o){switch(Yy(o),o.tag){case 3:Ci(ln),sa();break;case 26:case 27:case 5:jc(o);break;case 4:sa();break;case 13:wi(o);break;case 19:Re(cn);break;case 10:Ci(o.type);break;case 22:case 23:wi(o),Jy(),i!==null&&Re(No);break;case 24:Ci(ln)}}var C5={getCacheForType:function(i){var o=Hn(ln),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},A5=typeof WeakMap=="function"?WeakMap:Map,qt=0,xt=null,nt=null,ct=0,Pt=0,Pr=null,Oi=!1,gl=!1,Wb=!1,Ii=0,Gt=0,Ea=0,Mo=0,Kb=0,ts=0,ml=0,Dd=null,Hs=null,Yb=!1,Zb=0,Kp=1/0,Yp=null,_a=null,Zp=!1,ko=null,$d=0,Qb=0,Xb=null,Ud=0,Jb=null;function Dr(){if((qt&2)!==0&&ct!==0)return ct&-ct;if(x.T!==null){var i=ol;return i!==0?i:ow()}return K1()}function OA(){ts===0&&(ts=(ct&536870912)===0||lt?q1():536870912);var i=Qr.current;return i!==null&&(i.flags|=32),ts}function Jn(i,o,l){(i===xt&&Pt===2||i.cancelPendingCommit!==null)&&(yl(i,0),Ri(i,ct,ts,!1)),Ju(i,l),((qt&2)===0||i!==xt)&&(i===xt&&((qt&2)===0&&(Mo|=l),Gt===4&&Ri(i,ct,ts,!1)),Vs(i))}function IA(i,o,l){if((qt&6)!==0)throw Error(r(327));var h=!l&&(o&60)===0&&(o&i.expiredLanes)===0||Xu(i,o),m=h?N5(i,o):rw(i,o,!0),b=h;do{if(m===0){gl&&!h&&Ri(i,o,0,!1);break}else if(m===6)Ri(i,o,0,!Oi);else{if(l=i.current.alternate,b&&!S5(l)){m=rw(i,o,!1),b=!1;continue}if(m===2){if(b=o,i.errorRecoveryDisabledLanes&b)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var $=i;m=Dd;var L=$.current.memoizedState.isDehydrated;if(L&&(yl($,C).flags|=256),C=rw($,C,!1),C!==2){if(Wb&&!L){$.errorRecoveryDisabledLanes|=b,Mo|=b,m=4;break e}b=Hs,Hs=m,b!==null&&ew(b)}m=C}if(b=!1,m!==2)continue}}if(m===1){yl(i,0),Ri(i,o,0,!0);break}e:{switch(h=i,m){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){Ri(h,o,ts,!Oi);break e}break;case 2:Hs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(h.finishedWork=l,h.finishedLanes=o,(o&62914560)===o&&(b=Zb+300-Tr(),10<b)){if(Ri(h,o,ts,!Oi),lp(h,0)!==0)break e;h.timeoutHandle=JA(RA.bind(null,h,l,Hs,Yp,Yb,o,ts,Mo,ml,Oi,2,-0,0),b);break e}RA(h,l,Hs,Yp,Yb,o,ts,Mo,ml,Oi,0,-0,0)}}break}while(!0);Vs(i)}function ew(i){Hs===null?Hs=i:Hs.push.apply(Hs,i)}function RA(i,o,l,h,m,b,C,$,L,K,re,oe,J){var ne=o.subtreeFlags;if((ne&8192||(ne&16785408)===16785408)&&(zd={stylesheets:null,count:0,unsuspend:a$},vA(o),o=c$(),o!==null)){i.cancelPendingCommit=o(kA.bind(null,i,l,h,m,C,$,L,1,oe,J)),Ri(i,b,C,!K);return}kA(i,l,h,m,C,$,L,re,oe,J)}function S5(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var m=l[h],b=m.getSnapshot;m=m.value;try{if(!Ir(b(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ri(i,o,l,h){o&=~Kb,o&=~Mo,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var m=o;0<m;){var b=31-Or(m),C=1<<b;h[b]=-1,m&=~C}l!==0&&V1(i,l,o)}function Qp(){return(qt&6)===0?(Md(0),!1):!0}function tw(){if(nt!==null){if(Pt===0)var i=nt.return;else i=nt,_i=Po=null,ob(i),il=null,md=0,i=nt;for(;i!==null;)NA(i.alternate,i),i=i.return;nt=null}}function yl(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,H5(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),tw(),xt=i,nt=l=va(i.current,null),ct=o,Pt=0,Pr=null,Oi=!1,gl=Xu(i,o),Wb=!1,ml=ts=Kb=Mo=Ea=Gt=0,Hs=Dd=null,Yb=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var m=31-Or(h),b=1<<m;o|=i[m],h&=~b}return Ii=o,Ep(),l}function xA(i,o){Je=null,x.H=qs,o===pd?(o=G_(),Pt=3):o===q_?(o=G_(),Pt=4):Pt=o===HC?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pr=o,nt===null&&(Gt=1,zp(i,Kr(o,i.current)))}function PA(){var i=x.H;return x.H=qs,i===null?qs:i}function DA(){var i=x.A;return x.A=C5,i}function nw(){Gt=4,Oi||(ct&4194176)!==ct&&Qr.current!==null||(gl=!0),(Ea&134217727)===0&&(Mo&134217727)===0||xt===null||Ri(xt,ct,ts,!1)}function rw(i,o,l){var h=qt;qt|=2;var m=PA(),b=DA();(xt!==i||ct!==o)&&(Yp=null,yl(i,o)),o=!1;var C=Gt;e:do try{if(Pt!==0&&nt!==null){var $=nt,L=Pr;switch(Pt){case 8:tw(),C=6;break e;case 3:case 2:case 6:Qr.current===null&&(o=!0);var K=Pt;if(Pt=0,Pr=null,bl(i,$,L,K),l&&gl){C=0;break e}break;default:K=Pt,Pt=0,Pr=null,bl(i,$,L,K)}}T5(),C=Gt;break}catch(re){xA(i,re)}while(!0);return o&&i.shellSuspendCounter++,_i=Po=null,qt=h,x.H=m,x.A=b,nt===null&&(xt=null,ct=0,Ep()),C}function T5(){for(;nt!==null;)$A(nt)}function N5(i,o){var l=qt;qt|=2;var h=PA(),m=DA();xt!==i||ct!==o?(Yp=null,Kp=Tr()+500,yl(i,o)):gl=Xu(i,o);e:do try{if(Pt!==0&&nt!==null){o=nt;var b=Pr;t:switch(Pt){case 1:Pt=0,Pr=null,bl(i,o,b,1);break;case 2:if(H_(b)){Pt=0,Pr=null,UA(o);break}o=function(){Pt===2&&xt===i&&(Pt=7),Vs(i)},b.then(o,o);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:H_(b)?(Pt=0,Pr=null,UA(o)):(Pt=0,Pr=null,bl(i,o,b,7));break;case 5:var C=null;switch(nt.tag){case 26:C=nt.memoizedState;case 5:case 27:var $=nt;if(!C||uS(C)){Pt=0,Pr=null;var L=$.sibling;if(L!==null)nt=L;else{var K=$.return;K!==null?(nt=K,Xp(K)):nt=null}break t}}Pt=0,Pr=null,bl(i,o,b,5);break;case 6:Pt=0,Pr=null,bl(i,o,b,6);break;case 8:tw(),Gt=6;break e;default:throw Error(r(462))}}O5();break}catch(re){xA(i,re)}while(!0);return _i=Po=null,x.H=h,x.A=m,qt=l,nt!==null?0:(xt=null,ct=0,Ep(),Gt)}function O5(){for(;nt!==null&&!np();)$A(nt)}function $A(i){var o=nA(i.alternate,i,Ii);i.memoizedProps=i.pendingProps,o===null?Xp(i):nt=o}function UA(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=ZC(l,o,o.pendingProps,o.type,void 0,ct);break;case 11:o=ZC(l,o,o.pendingProps,o.type.render,o.ref,ct);break;case 5:ob(o);default:NA(l,o),o=nt=AA(o,Ii),o=nA(l,o,Ii)}i.memoizedProps=i.pendingProps,o===null?Xp(i):nt=o}function bl(i,o,l,h){_i=Po=null,ob(o),il=null,md=0;var m=o.return;try{if(m5(i,m,o,l,ct)){Gt=1,zp(i,Kr(l,i.current)),nt=null;return}}catch(b){if(m!==null)throw nt=m,b;Gt=1,zp(i,Kr(l,i.current)),nt=null;return}o.flags&32768?(lt||h===1?i=!0:gl||(ct&536870912)!==0?i=!1:(Oi=i=!0,(h===2||h===3||h===6)&&(h=Qr.current,h!==null&&h.tag===13&&(h.flags|=16384))),MA(o,i)):Xp(o)}function Xp(i){var o=i;do{if((o.flags&32768)!==0){MA(o,Oi);return}i=o.return;var l=E5(o.alternate,o,Ii);if(l!==null){nt=l;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=i}while(o!==null);Gt===0&&(Gt=5)}function MA(i,o){do{var l=_5(i.alternate,i);if(l!==null){l.flags&=32767,nt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){nt=i;return}nt=i=l}while(i!==null);Gt=6,nt=null}function kA(i,o,l,h,m,b,C,$,L,K){var re=x.T,oe=ee.p;try{ee.p=2,x.T=null,I5(i,o,l,h,oe,m,b,C,$,L,K)}finally{x.T=re,ee.p=oe}}function I5(i,o,l,h,m,b,C,$){do wl();while(ko!==null);if((qt&6)!==0)throw Error(r(327));var L=i.finishedWork;if(h=i.finishedLanes,L===null)return null;if(i.finishedWork=null,i.finishedLanes=0,L===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var K=L.lanes|L.childLanes;if(K|=Gy,oD(i,h,K,b,C,$),i===xt&&(nt=xt=null,ct=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||Zp||(Zp=!0,Qb=K,Xb=l,D5(qc,function(){return wl(),null})),l=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||l?(l=x.T,x.T=null,b=ee.p,ee.p=2,C=qt,qt|=4,b5(i,L),yA(L,i),JD(gw,i.containerInfo),ug=!!pw,gw=pw=null,i.current=L,fA(i,L.alternate,L),rp(),qt=C,ee.p=b,x.T=l):i.current=L,Zp?(Zp=!1,ko=i,$d=h):BA(i,K),K=i.pendingLanes,K===0&&(_a=null),nD(L.stateNode),Vs(i),o!==null)for(m=i.onRecoverableError,L=0;L<o.length;L++)K=o[L],m(K.value,{componentStack:K.stack});return($d&3)!==0&&wl(),K=i.pendingLanes,(h&4194218)!==0&&(K&42)!==0?i===Jb?Ud++:(Ud=0,Jb=i):Ud=0,Md(0),null}function BA(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,bd(o)))}function wl(){if(ko!==null){var i=ko,o=Qb;Qb=0;var l=W1($d),h=x.T,m=ee.p;try{if(ee.p=32>l?32:l,x.T=null,ko===null)var b=!1;else{l=Xb,Xb=null;var C=ko,$=$d;if(ko=null,$d=0,(qt&6)!==0)throw Error(r(331));var L=qt;if(qt|=4,_A(C.current),wA(C,C.current,$,l),qt=L,Md(0,!1),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Qu,C)}catch{}b=!0}return b}finally{ee.p=m,x.T=h,BA(i,o)}}return!1}function LA(i,o,l){o=Kr(l,o),o=Eb(i.stateNode,o,2),i=ma(i,o,2),i!==null&&(Ju(i,2),Vs(i))}function Nt(i,o,l){if(i.tag===3)LA(i,i,l);else for(;o!==null;){if(o.tag===3){LA(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_a===null||!_a.has(h))){i=Kr(l,i),l=FC(2),h=ma(o,l,2),h!==null&&(qC(l,h,o,i),Ju(h,2),Vs(h));break}}o=o.return}}function sw(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new A5;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(Wb=!0,m.add(l),i=R5.bind(null,i,o,l),o.then(i,i))}function R5(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(ct&l)===l&&(Gt===4||Gt===3&&(ct&62914560)===ct&&300>Tr()-Zb?(qt&2)===0&&yl(i,0):Kb|=l,ml===ct&&(ml=0)),Vs(i)}function jA(i,o){o===0&&(o=H1()),i=ca(i,o),i!==null&&(Ju(i,o),Vs(i))}function x5(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),jA(i,l)}function P5(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),jA(i,l)}function D5(i,o){return Fc(i,o)}var Jp=null,vl=null,iw=!1,eg=!1,aw=!1,Bo=0;function Vs(i){i!==vl&&i.next===null&&(vl===null?Jp=vl=i:vl=vl.next=i),eg=!0,iw||(iw=!0,U5($5))}function Md(i,o){if(!aw&&eg){aw=!0;do for(var l=!1,h=Jp;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var b=0;else{var C=h.suspendedLanes,$=h.pingedLanes;b=(1<<31-Or(42|i)+1)-1,b&=m&~(C&~$),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(l=!0,qA(h,b))}else b=ct,b=lp(h,h===xt?b:0),(b&3)===0||Xu(h,b)||(l=!0,qA(h,b));h=h.next}while(l);aw=!1}}function $5(){eg=iw=!1;var i=0;Bo!==0&&(q5()&&(i=Bo),Bo=0);for(var o=Tr(),l=null,h=Jp;h!==null;){var m=h.next,b=zA(h,o);b===0?(h.next=null,l===null?Jp=m:l.next=m,m===null&&(vl=l)):(l=h,(i!==0||(b&3)!==0)&&(eg=!0)),h=m}Md(i)}function zA(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var C=31-Or(b),$=1<<C,L=m[C];L===-1?(($&l)===0||($&h)!==0)&&(m[C]=aD($,o)):L<=o&&(i.expiredLanes|=$),b&=~$}if(o=xt,l=ct,l=lp(i,i===o?l:0),h=i.callbackNode,l===0||i===o&&Pt===2||i.cancelPendingCommit!==null)return h!==null&&h!==null&&mo(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Xu(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(h!==null&&mo(h),W1(l)){case 2:case 8:l=ip;break;case 32:l=qc;break;case 268435456:l=ap;break;default:l=qc}return h=FA.bind(null,i),l=Fc(l,h),i.callbackPriority=o,i.callbackNode=l,o}return h!==null&&h!==null&&mo(h),i.callbackPriority=2,i.callbackNode=null,2}function FA(i,o){var l=i.callbackNode;if(wl()&&i.callbackNode!==l)return null;var h=ct;return h=lp(i,i===xt?h:0),h===0?null:(IA(i,h,o),zA(i,Tr()),i.callbackNode!=null&&i.callbackNode===l?FA.bind(null,i):null)}function qA(i,o){if(wl())return null;IA(i,o,!0)}function U5(i){V5(function(){(qt&6)!==0?Fc(Zu,i):i()})}function ow(){return Bo===0&&(Bo=q1()),Bo}function HA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:pp(""+i)}function VA(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function M5(i,o,l,h,m){if(o==="submit"&&l&&l.stateNode===m){var b=HA((m[lr]||null).action),C=h.submitter;C&&(o=(o=C[lr]||null)?HA(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var $=new bp("action","action",null,h,m);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Bo!==0){var L=C?VA(m,C):new FormData(m);mb(l,{pending:!0,data:L,method:m.method,action:b},null,L)}}else typeof b=="function"&&($.preventDefault(),L=C?VA(m,C):new FormData(m),mb(l,{pending:!0,data:L,method:m.method,action:b},b,L))},currentTarget:m}]})}}for(var cw=0;cw<k_.length;cw++){var lw=k_[cw],k5=lw.toLowerCase(),B5=lw[0].toUpperCase()+lw.slice(1);ws(k5,"on"+B5)}ws(P_,"onAnimationEnd"),ws(D_,"onAnimationIteration"),ws($_,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(t5,"onTransitionRun"),ws(n5,"onTransitionStart"),ws(r5,"onTransitionCancel"),ws(U_,"onTransitionEnd"),Wc("onMouseEnter",["mouseout","mouseover"]),Wc("onMouseLeave",["mouseout","mouseover"]),Wc("onPointerEnter",["pointerout","pointerover"]),Wc("onPointerLeave",["pointerout","pointerover"]),wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wo("onBeforeInput",["compositionend","keypress","textInput","paste"]),wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kd));function GA(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var b=void 0;if(o)for(var C=h.length-1;0<=C;C--){var $=h[C],L=$.instance,K=$.currentTarget;if($=$.listener,L!==b&&m.isPropagationStopped())break e;b=$,m.currentTarget=K;try{b(m)}catch(re){jp(re)}m.currentTarget=null,b=L}else for(C=0;C<h.length;C++){if($=h[C],L=$.instance,K=$.currentTarget,$=$.listener,L!==b&&m.isPropagationStopped())break e;b=$,m.currentTarget=K;try{b(m)}catch(re){jp(re)}m.currentTarget=null,b=L}}}}function st(i,o){var l=o[Sy];l===void 0&&(l=o[Sy]=new Set);var h=i+"__bubble";l.has(h)||(WA(o,i,2,!1),l.add(h))}function uw(i,o,l){var h=0;o&&(h|=4),WA(l,i,h,o)}var tg="_reactListening"+Math.random().toString(36).slice(2);function dw(i){if(!i[tg]){i[tg]=!0,Z1.forEach(function(l){l!=="selectionchange"&&(L5.has(l)||uw(l,!1,i),uw(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[tg]||(o[tg]=!0,uw("selectionchange",!1,o))}}function WA(i,o,l,h){switch(mS(o)){case 2:var m=d$;break;case 8:m=h$;break;default:m=Aw}l=m.bind(null,o,l,i),m=void 0,!Dy||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function hw(i,o,l,h,m){var b=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var $=h.stateNode.containerInfo;if($===m||$.nodeType===8&&$.parentNode===m)break;if(C===4)for(C=h.return;C!==null;){var L=C.tag;if((L===3||L===4)&&(L=C.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;C=C.return}for(;$!==null;){if(C=bo($),C===null)return;if(L=C.tag,L===5||L===6||L===26||L===27){h=b=C;continue e}$=$.parentNode}}h=h.return}c_(function(){var K=b,re=xy(l),oe=[];e:{var J=M_.get(i);if(J!==void 0){var ne=bp,Oe=i;switch(i){case"keypress":if(mp(l)===0)break e;case"keydown":case"keyup":ne=PD;break;case"focusin":Oe="focus",ne=ky;break;case"focusout":Oe="blur",ne=ky;break;case"beforeblur":case"afterblur":ne=ky;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=d_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=vD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=UD;break;case P_:case D_:case $_:ne=CD;break;case U_:ne=kD;break;case"scroll":case"scrollend":ne=bD;break;case"wheel":ne=LD;break;case"copy":case"cut":case"paste":ne=SD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=f_;break;case"toggle":case"beforetoggle":ne=zD}var ze=(o&4)!==0,Wt=!ze&&(i==="scroll"||i==="scrollend"),Z=ze?J!==null?J+"Capture":null:J;ze=[];for(var G=K,Q;G!==null;){var ae=G;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||Z===null||(ae=nd(G,Z),ae!=null&&ze.push(Bd(G,ae,Q))),Wt)break;G=G.return}0<ze.length&&(J=new ne(J,Oe,null,l,re),oe.push({event:J,listeners:ze}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",J&&l!==Ry&&(Oe=l.relatedTarget||l.fromElement)&&(bo(Oe)||Oe[Hc]))break e;if((ne||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(Oe=l.relatedTarget||l.toElement,ne=K,Oe=Oe?bo(Oe):null,Oe!==null&&(Wt=H(Oe),ze=Oe.tag,Oe!==Wt||ze!==5&&ze!==27&&ze!==6)&&(Oe=null)):(ne=null,Oe=K),ne!==Oe)){if(ze=d_,ae="onMouseLeave",Z="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(ze=f_,ae="onPointerLeave",Z="onPointerEnter",G="pointer"),Wt=ne==null?J:td(ne),Q=Oe==null?J:td(Oe),J=new ze(ae,G+"leave",ne,l,re),J.target=Wt,J.relatedTarget=Q,ae=null,bo(re)===K&&(ze=new ze(Z,G+"enter",Oe,l,re),ze.target=Q,ze.relatedTarget=Wt,ae=ze),Wt=ae,ne&&Oe)t:{for(ze=ne,Z=Oe,G=0,Q=ze;Q;Q=El(Q))G++;for(Q=0,ae=Z;ae;ae=El(ae))Q++;for(;0<G-Q;)ze=El(ze),G--;for(;0<Q-G;)Z=El(Z),Q--;for(;G--;){if(ze===Z||Z!==null&&ze===Z.alternate)break t;ze=El(ze),Z=El(Z)}ze=null}else ze=null;ne!==null&&KA(oe,J,ne,ze,!1),Oe!==null&&Wt!==null&&KA(oe,Wt,Oe,ze,!0)}}e:{if(J=K?td(K):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var Se=E_;else if(w_(J))if(__)Se=QD;else{Se=YD;var et=KD}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&Iy(K.elementType)&&(Se=E_):Se=ZD;if(Se&&(Se=Se(i,K))){v_(oe,Se,l,re);break e}et&&et(i,J,K),i==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&Oy(J,"number",J.value)}switch(et=K?td(K):window,i){case"focusin":(w_(et)||et.contentEditable==="true")&&(Jc=et,qy=K,ud=null);break;case"focusout":ud=qy=Jc=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,R_(oe,l,re);break;case"selectionchange":if(e5)break;case"keydown":case"keyup":R_(oe,l,re)}var Ie;if(Ly)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Xc?y_(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(p_&&l.locale!=="ko"&&(Xc||De!=="onCompositionStart"?De==="onCompositionEnd"&&Xc&&(Ie=l_()):(oa=re,$y="value"in oa?oa.value:oa.textContent,Xc=!0)),et=ng(K,De),0<et.length&&(De=new h_(De,i,null,l,re),oe.push({event:De,listeners:et}),Ie?De.data=Ie:(Ie=b_(l),Ie!==null&&(De.data=Ie)))),(Ie=qD?HD(i,l):VD(i,l))&&(De=ng(K,"onBeforeInput"),0<De.length&&(et=new h_("onBeforeInput","beforeinput",null,l,re),oe.push({event:et,listeners:De}),et.data=Ie)),M5(oe,i,K,l,re)}GA(oe,o)})}function Bd(i,o,l){return{instance:i,listener:o,currentTarget:l}}function ng(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,b=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=nd(i,l),m!=null&&h.unshift(Bd(i,m,b)),m=nd(i,o),m!=null&&h.push(Bd(i,m,b))),i=i.return}return h}function El(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function KA(i,o,l,h,m){for(var b=o._reactName,C=[];l!==null&&l!==h;){var $=l,L=$.alternate,K=$.stateNode;if($=$.tag,L!==null&&L===h)break;$!==5&&$!==26&&$!==27||K===null||(L=K,m?(K=nd(l,b),K!=null&&C.unshift(Bd(l,K,L))):m||(K=nd(l,b),K!=null&&C.push(Bd(l,K,L)))),l=l.return}C.length!==0&&i.push({event:o,listeners:C})}var j5=/\r\n?/g,z5=/\u0000|\uFFFD/g;function YA(i){return(typeof i=="string"?i:""+i).replace(j5,`
`).replace(z5,"")}function ZA(i,o){return o=YA(o),YA(i)===o}function rg(){}function At(i,o,l,h,m,b){switch(l){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Yc(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Yc(i,""+h);break;case"className":dp(i,"class",h);break;case"tabIndex":dp(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":dp(i,l,h);break;case"style":a_(i,h,b);break;case"data":if(o!=="object"){dp(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=pp(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(o!=="input"&&At(i,o,"name",m.name,m,null),At(i,o,"formEncType",m.formEncType,m,null),At(i,o,"formMethod",m.formMethod,m,null),At(i,o,"formTarget",m.formTarget,m,null)):(At(i,o,"encType",m.encType,m,null),At(i,o,"method",m.method,m,null),At(i,o,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=pp(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=rg);break;case"onScroll":h!=null&&st("scroll",i);break;case"onScrollEnd":h!=null&&st("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=pp(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":st("beforetoggle",i),st("toggle",i),up(i,"popover",h);break;case"xlinkActuate":mi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":mi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":mi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":mi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":mi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":mi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":mi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":mi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":mi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":up(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=mD.get(l)||l,up(i,l,h))}}function fw(i,o,l,h,m,b){switch(l){case"style":a_(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Yc(i,h):(typeof h=="number"||typeof h=="bigint")&&Yc(i,""+h);break;case"onScroll":h!=null&&st("scroll",i);break;case"onScrollEnd":h!=null&&st("scrollend",i);break;case"onClick":h!=null&&(i.onclick=rg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Q1.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),b=i[lr]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(o,b,m),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,h,m);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):up(i,l,h)}}}function Dn(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",i),st("load",i);var h=!1,m=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(i,o,b,C,l,null)}}m&&At(i,o,"srcSet",l.srcSet,l,null),h&&At(i,o,"src",l.src,l,null);return;case"input":st("invalid",i);var $=b=C=m=null,L=null,K=null;for(h in l)if(l.hasOwnProperty(h)){var re=l[h];if(re!=null)switch(h){case"name":m=re;break;case"type":C=re;break;case"checked":L=re;break;case"defaultChecked":K=re;break;case"value":b=re;break;case"defaultValue":$=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:At(i,o,h,re,l,null)}}n_(i,b,$,L,K,C,m,!1),hp(i);return;case"select":st("invalid",i),h=C=b=null;for(m in l)if(l.hasOwnProperty(m)&&($=l[m],$!=null))switch(m){case"value":b=$;break;case"defaultValue":C=$;break;case"multiple":h=$;default:At(i,o,m,$,l,null)}o=b,l=C,i.multiple=!!h,o!=null?Kc(i,!!h,o,!1):l!=null&&Kc(i,!!h,l,!0);return;case"textarea":st("invalid",i),b=m=h=null;for(C in l)if(l.hasOwnProperty(C)&&($=l[C],$!=null))switch(C){case"value":h=$;break;case"defaultValue":m=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:At(i,o,C,$,l,null)}s_(i,h,m,b),hp(i);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(h=l[L],h!=null))switch(L){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:At(i,o,L,h,l,null)}return;case"dialog":st("cancel",i),st("close",i);break;case"iframe":case"object":st("load",i);break;case"video":case"audio":for(h=0;h<kd.length;h++)st(kd[h],i);break;case"image":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"embed":case"source":case"link":st("error",i),st("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(h=l[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(i,o,K,h,l,null)}return;default:if(Iy(o)){for(re in l)l.hasOwnProperty(re)&&(h=l[re],h!==void 0&&fw(i,o,re,h,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(h=l[$],h!=null&&At(i,o,$,h,l,null))}function F5(i,o,l,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,C=null,$=null,L=null,K=null,re=null;for(ne in l){var oe=l[ne];if(l.hasOwnProperty(ne)&&oe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":L=oe;default:h.hasOwnProperty(ne)||At(i,o,ne,null,h,oe)}}for(var J in h){var ne=h[J];if(oe=l[J],h.hasOwnProperty(J)&&(ne!=null||oe!=null))switch(J){case"type":b=ne;break;case"name":m=ne;break;case"checked":K=ne;break;case"defaultChecked":re=ne;break;case"value":C=ne;break;case"defaultValue":$=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==oe&&At(i,o,J,ne,h,oe)}}Ny(i,C,$,L,K,re,b,m);return;case"select":ne=C=$=J=null;for(b in l)if(L=l[b],l.hasOwnProperty(b)&&L!=null)switch(b){case"value":break;case"multiple":ne=L;default:h.hasOwnProperty(b)||At(i,o,b,null,h,L)}for(m in h)if(b=h[m],L=l[m],h.hasOwnProperty(m)&&(b!=null||L!=null))switch(m){case"value":J=b;break;case"defaultValue":$=b;break;case"multiple":C=b;default:b!==L&&At(i,o,m,b,h,L)}o=$,l=C,h=ne,J!=null?Kc(i,!!l,J,!1):!!h!=!!l&&(o!=null?Kc(i,!!l,o,!0):Kc(i,!!l,l?[]:"",!1));return;case"textarea":ne=J=null;for($ in l)if(m=l[$],l.hasOwnProperty($)&&m!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:At(i,o,$,null,h,m)}for(C in h)if(m=h[C],b=l[C],h.hasOwnProperty(C)&&(m!=null||b!=null))switch(C){case"value":J=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==b&&At(i,o,C,m,h,b)}r_(i,J,ne);return;case"option":for(var Oe in l)if(J=l[Oe],l.hasOwnProperty(Oe)&&J!=null&&!h.hasOwnProperty(Oe))switch(Oe){case"selected":i.selected=!1;break;default:At(i,o,Oe,null,h,J)}for(L in h)if(J=h[L],ne=l[L],h.hasOwnProperty(L)&&J!==ne&&(J!=null||ne!=null))switch(L){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:At(i,o,L,J,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)J=l[ze],l.hasOwnProperty(ze)&&J!=null&&!h.hasOwnProperty(ze)&&At(i,o,ze,null,h,J);for(K in h)if(J=h[K],ne=l[K],h.hasOwnProperty(K)&&J!==ne&&(J!=null||ne!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:At(i,o,K,J,h,ne)}return;default:if(Iy(o)){for(var Wt in l)J=l[Wt],l.hasOwnProperty(Wt)&&J!==void 0&&!h.hasOwnProperty(Wt)&&fw(i,o,Wt,void 0,h,J);for(re in h)J=h[re],ne=l[re],!h.hasOwnProperty(re)||J===ne||J===void 0&&ne===void 0||fw(i,o,re,J,h,ne);return}}for(var Z in l)J=l[Z],l.hasOwnProperty(Z)&&J!=null&&!h.hasOwnProperty(Z)&&At(i,o,Z,null,h,J);for(oe in h)J=h[oe],ne=l[oe],!h.hasOwnProperty(oe)||J===ne||J==null&&ne==null||At(i,o,oe,J,h,ne)}var pw=null,gw=null;function sg(i){return i.nodeType===9?i:i.ownerDocument}function QA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XA(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function mw(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yw=null;function q5(){var i=window.event;return i&&i.type==="popstate"?i===yw?!1:(yw=i,!0):(yw=null,!1)}var JA=typeof setTimeout=="function"?setTimeout:void 0,H5=typeof clearTimeout=="function"?clearTimeout:void 0,eS=typeof Promise=="function"?Promise:void 0,V5=typeof queueMicrotask=="function"?queueMicrotask:typeof eS<"u"?function(i){return eS.resolve(null).then(i).catch(G5)}:JA;function G5(i){setTimeout(function(){throw i})}function bw(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Gd(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Gd(o)}function ww(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ww(l),Ty(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function W5(i,o,l,h){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ed])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=_s(i.nextSibling),i===null)break}return null}function K5(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=_s(i.nextSibling),i===null))return null;return i}function _s(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function tS(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function nS(i,o,l){switch(o=sg(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var ns=new Map,rS=new Set;function ig(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var xi=ee.d;ee.d={f:Y5,r:Z5,D:Q5,C:X5,L:J5,m:e$,X:n$,S:t$,M:r$};function Y5(){var i=xi.f(),o=Qp();return i||o}function Z5(i){var o=Vc(i);o!==null&&o.tag===5&&o.type==="form"?RC(o):xi.r(i)}var _l=typeof document>"u"?null:document;function sS(i,o,l){var h=_l;if(h&&typeof o=="string"&&o){var m=Gr(o);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),rS.has(m)||(rS.add(m),i={rel:i,crossOrigin:l,href:o},h.querySelector(m)===null&&(o=h.createElement("link"),Dn(o,"link",i),yn(o),h.head.appendChild(o)))}}function Q5(i){xi.D(i),sS("dns-prefetch",i,null)}function X5(i,o){xi.C(i,o),sS("preconnect",i,o)}function J5(i,o,l){xi.L(i,o,l);var h=_l;if(h&&i&&o){var m='link[rel="preload"][as="'+Gr(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Gr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Gr(l.imageSizes)+'"]')):m+='[href="'+Gr(i)+'"]';var b=m;switch(o){case"style":b=Cl(i);break;case"script":b=Al(i)}ns.has(b)||(i=B({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),ns.set(b,i),h.querySelector(m)!==null||o==="style"&&h.querySelector(Ld(b))||o==="script"&&h.querySelector(jd(b))||(o=h.createElement("link"),Dn(o,"link",i),yn(o),h.head.appendChild(o)))}}function e$(i,o){xi.m(i,o);var l=_l;if(l&&i){var h=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Gr(h)+'"][href="'+Gr(i)+'"]',b=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Al(i)}if(!ns.has(b)&&(i=B({rel:"modulepreload",href:i},o),ns.set(b,i),l.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jd(b)))return}h=l.createElement("link"),Dn(h,"link",i),yn(h),l.head.appendChild(h)}}}function t$(i,o,l){xi.S(i,o,l);var h=_l;if(h&&i){var m=Gc(h).hoistableStyles,b=Cl(i);o=o||"default";var C=m.get(b);if(!C){var $={loading:0,preload:null};if(C=h.querySelector(Ld(b)))$.loading=5;else{i=B({rel:"stylesheet",href:i,"data-precedence":o},l),(l=ns.get(b))&&vw(i,l);var L=C=h.createElement("link");yn(L),Dn(L,"link",i),L._p=new Promise(function(K,re){L.onload=K,L.onerror=re}),L.addEventListener("load",function(){$.loading|=1}),L.addEventListener("error",function(){$.loading|=2}),$.loading|=4,ag(C,o,h)}C={type:"stylesheet",instance:C,count:1,state:$},m.set(b,C)}}}function n$(i,o){xi.X(i,o);var l=_l;if(l&&i){var h=Gc(l).hoistableScripts,m=Al(i),b=h.get(m);b||(b=l.querySelector(jd(m)),b||(i=B({src:i,async:!0},o),(o=ns.get(m))&&Ew(i,o),b=l.createElement("script"),yn(b),Dn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function r$(i,o){xi.M(i,o);var l=_l;if(l&&i){var h=Gc(l).hoistableScripts,m=Al(i),b=h.get(m);b||(b=l.querySelector(jd(m)),b||(i=B({src:i,async:!0,type:"module"},o),(o=ns.get(m))&&Ew(i,o),b=l.createElement("script"),yn(b),Dn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function iS(i,o,l,h){var m=(m=Qt.current)?ig(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Cl(l.href),l=Gc(m).hoistableStyles,h=l.get(o),h||(h={type:"style",instance:null,count:0,state:null},l.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Cl(l.href);var b=Gc(m).hoistableStyles,C=b.get(i);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,C),(b=m.querySelector(Ld(i)))&&!b._p&&(C.instance=b,C.state.loading=5),ns.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ns.set(i,l),b||s$(m,i,l,C.state))),o&&h===null)throw Error(r(528,""));return C}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Al(l),l=Gc(m).hoistableScripts,h=l.get(o),h||(h={type:"script",instance:null,count:0,state:null},l.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cl(i){return'href="'+Gr(i)+'"'}function Ld(i){return'link[rel="stylesheet"]['+i+"]"}function aS(i){return B({},i,{"data-precedence":i.precedence,precedence:null})}function s$(i,o,l,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Dn(o,"link",l),yn(o),i.head.appendChild(o))}function Al(i){return'[src="'+Gr(i)+'"]'}function jd(i){return"script[async]"+i}function oS(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+Gr(l.href)+'"]');if(h)return o.instance=h,yn(h),h;var m=B({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),yn(h),Dn(h,"style",m),ag(h,l.precedence,i),o.instance=h;case"stylesheet":m=Cl(l.href);var b=i.querySelector(Ld(m));if(b)return o.state.loading|=4,o.instance=b,yn(b),b;h=aS(l),(m=ns.get(m))&&vw(h,m),b=(i.ownerDocument||i).createElement("link"),yn(b);var C=b;return C._p=new Promise(function($,L){C.onload=$,C.onerror=L}),Dn(b,"link",h),o.state.loading|=4,ag(b,l.precedence,i),o.instance=b;case"script":return b=Al(l.src),(m=i.querySelector(jd(b)))?(o.instance=m,yn(m),m):(h=l,(m=ns.get(b))&&(h=B({},l),Ew(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),yn(m),Dn(m,"link",h),i.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,ag(h,l.precedence,i));return o.instance}function ag(i,o,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,b=m,C=0;C<h.length;C++){var $=h[C];if($.dataset.precedence===o)b=$;else if(b!==m)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function vw(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Ew(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var og=null;function cS(i,o,l){if(og===null){var h=new Map,m=og=new Map;m.set(l,h)}else m=og,h=m.get(l),h||(h=new Map,m.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var b=l[m];if(!(b[ed]||b[qn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=i+C;var $=h.get(C);$?$.push(b):h.set(C,[b])}}return h}function lS(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function i$(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function uS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var zd=null;function a$(){}function o$(i,o,l){if(zd===null)throw Error(r(475));var h=zd;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Cl(l.href),b=i.querySelector(Ld(m));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=cg.bind(h),i.then(h,h)),o.state.loading|=4,o.instance=b,yn(b);return}b=i.ownerDocument||i,l=aS(l),(m=ns.get(m))&&vw(l,m),b=b.createElement("link"),yn(b);var C=b;C._p=new Promise(function($,L){C.onload=$,C.onerror=L}),Dn(b,"link",l),o.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=cg.bind(h),i.addEventListener("load",o),i.addEventListener("error",o))}}function c$(){if(zd===null)throw Error(r(475));var i=zd;return i.stylesheets&&i.count===0&&_w(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&_w(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function cg(){if(this.count--,this.count===0){if(this.stylesheets)_w(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lg=null;function _w(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lg=new Map,o.forEach(l$,i),lg=null,cg.call(i))}function l$(i,o){if(!(o.state.loading&4)){var l=lg.get(i);if(l)var h=l.get(null);else{l=new Map,lg.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var C=m[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}m=o.instance,C=m.getAttribute("data-precedence"),b=l.get(C)||h,b===h&&l.set(null,m),l.set(C,m),this.count++,h=cg.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),b?b.parentNode.insertBefore(m,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),o.state.loading|=4}}var Fd={$$typeof:w,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function u$(i,o,l,h,m,b,C,$){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ay(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ay(0),this.hiddenUpdates=Ay(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function dS(i,o,l,h,m,b,C,$,L,K,re,oe){return i=new u$(i,o,l,C,$,L,K,oe),o=1,b===!0&&(o|=24),b=es(3,null,null,o),i.current=b,b.stateNode=i,o=eb(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:o},$b(b),i}function hS(i){return i?(i=nl,i):nl}function fS(i,o,l,h,m,b){m=hS(m),h.context===null?h.context=m:h.pendingContext=m,h=ga(o),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=ma(i,h,o),l!==null&&(Jn(l,i,o),Sd(l,i,o))}function pS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Cw(i,o){pS(i,o),(i=i.alternate)&&pS(i,o)}function gS(i){if(i.tag===13){var o=ca(i,67108864);o!==null&&Jn(o,i,67108864),Cw(i,67108864)}}var ug=!0;function d$(i,o,l,h){var m=x.T;x.T=null;var b=ee.p;try{ee.p=2,Aw(i,o,l,h)}finally{ee.p=b,x.T=m}}function h$(i,o,l,h){var m=x.T;x.T=null;var b=ee.p;try{ee.p=8,Aw(i,o,l,h)}finally{ee.p=b,x.T=m}}function Aw(i,o,l,h){if(ug){var m=Sw(h);if(m===null)hw(i,o,h,dg,l),yS(i,h);else if(p$(m,i,o,l,h))h.stopPropagation();else if(yS(i,h),o&4&&-1<f$.indexOf(i)){for(;m!==null;){var b=Vc(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=yo(b.pendingLanes);if(C!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;C;){var L=1<<31-Or(C);$.entanglements[1]|=L,C&=~L}Vs(b),(qt&6)===0&&(Kp=Tr()+500,Md(0))}}break;case 13:$=ca(b,2),$!==null&&Jn($,b,2),Qp(),Cw(b,2)}if(b=Sw(h),b===null&&hw(i,o,h,dg,l),b===m)break;m=b}m!==null&&h.stopPropagation()}else hw(i,o,h,null,l)}}function Sw(i){return i=xy(i),Tw(i)}var dg=null;function Tw(i){if(dg=null,i=bo(i),i!==null){var o=H(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=V(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return dg=i,null}function mS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sp()){case Zu:return 2;case ip:return 8;case qc:case Cy:return 32;case ap:return 268435456;default:return 32}default:return 32}}var Nw=!1,Ca=null,Aa=null,Sa=null,qd=new Map,Hd=new Map,Ta=[],f$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yS(i,o){switch(i){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":qd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hd.delete(o.pointerId)}}function Vd(i,o,l,h,m,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Vc(o),o!==null&&gS(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function p$(i,o,l,h,m){switch(o){case"focusin":return Ca=Vd(Ca,i,o,l,h,m),!0;case"dragenter":return Aa=Vd(Aa,i,o,l,h,m),!0;case"mouseover":return Sa=Vd(Sa,i,o,l,h,m),!0;case"pointerover":var b=m.pointerId;return qd.set(b,Vd(qd.get(b)||null,i,o,l,h,m)),!0;case"gotpointercapture":return b=m.pointerId,Hd.set(b,Vd(Hd.get(b)||null,i,o,l,h,m)),!0}return!1}function bS(i){var o=bo(i.target);if(o!==null){var l=H(o);if(l!==null){if(o=l.tag,o===13){if(o=V(l),o!==null){i.blockedOn=o,cD(i.priority,function(){if(l.tag===13){var h=Dr(),m=ca(l,h);m!==null&&Jn(m,l,h),Cw(l,h)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hg(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Sw(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ry=h,l.target.dispatchEvent(h),Ry=null}else return o=Vc(l),o!==null&&gS(o),i.blockedOn=l,!1;o.shift()}return!0}function wS(i,o,l){hg(i)&&l.delete(o)}function g$(){Nw=!1,Ca!==null&&hg(Ca)&&(Ca=null),Aa!==null&&hg(Aa)&&(Aa=null),Sa!==null&&hg(Sa)&&(Sa=null),qd.forEach(wS),Hd.forEach(wS)}function fg(i,o){i.blockedOn===o&&(i.blockedOn=null,Nw||(Nw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,g$)))}var pg=null;function vS(i){pg!==i&&(pg=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pg===i&&(pg=null);for(var o=0;o<i.length;o+=3){var l=i[o],h=i[o+1],m=i[o+2];if(typeof h!="function"){if(Tw(h||l)===null)continue;break}var b=Vc(l);b!==null&&(i.splice(o,3),o-=3,mb(b,{pending:!0,data:m,method:l.method,action:h},h,m))}}))}function Gd(i){function o(L){return fg(L,i)}Ca!==null&&fg(Ca,i),Aa!==null&&fg(Aa,i),Sa!==null&&fg(Sa,i),qd.forEach(o),Hd.forEach(o);for(var l=0;l<Ta.length;l++){var h=Ta[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ta.length&&(l=Ta[0],l.blockedOn===null);)bS(l),l.blockedOn===null&&Ta.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var m=l[h],b=l[h+1],C=m[lr]||null;if(typeof b=="function")C||vS(l);else if(C){var $=null;if(b&&b.hasAttribute("formAction")){if(m=b,C=b[lr]||null)$=C.formAction;else if(Tw(m)!==null)continue}else $=C.action;typeof $=="function"?l[h+1]=$:(l.splice(h,3),h-=3),vS(l)}}}function Ow(i){this._internalRoot=i}gg.prototype.render=Ow.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,h=Dr();fS(l,h,i,o,null,null)},gg.prototype.unmount=Ow.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&wl(),fS(i.current,2,null,i,null,null),Qp(),o[Hc]=null}};function gg(i){this._internalRoot=i}gg.prototype.unstable_scheduleHydration=function(i){if(i){var o=K1();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Ta.length&&o!==0&&o<Ta[l].priority;l++);Ta.splice(l,0,i),l===0&&bS(i)}};var ES=e.version;if(ES!=="19.0.0")throw Error(r(527,ES,"19.0.0"));ee.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Y(o),i=i!==null?te(i):null,i=i===null?null:i.stateNode,i};var m$={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:x,findFiberByHostInstance:bo,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{Qu=mg.inject(m$),Nr=mg}catch{}}return Kd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,h="",m=BC,b=LC,C=jC,$=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&($=o.unstable_transitionCallbacks)),o=dS(i,1,!1,null,null,l,h,m,b,C,$,null),i[Hc]=o.current,dw(i.nodeType===8?i.parentNode:i),new Ow(o)},Kd.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var h=!1,m="",b=BC,C=LC,$=jC,L=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),o=dS(i,1,!0,o,l??null,h,m,b,C,$,L,K),o.context=hS(null),l=o.current,h=Dr(),m=ga(h),m.callback=null,ma(l,m,h),o.current.lanes=h,Ju(o,h),Vs(o),i[Hc]=o.current,dw(i),new gg(o)},Kd.version="19.0.0",Kd}var PS;function O$(){if(PS)return Pw.exports;PS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pw.exports=N$(),Pw.exports}var I$=O$();const R$=Symbol(),ME=Symbol(),Yd="a",Ch="w";let x$=(t,e)=>new Proxy(t,e);const av=Object.getPrototypeOf,ov=new WeakMap,dI=t=>t&&(ov.has(t)?ov.get(t):av(t)===Object.prototype||av(t)===Array.prototype),cm=t=>typeof t=="object"&&t!==null,P$=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(av(t),e)},kE=t=>t[ME]||t,hI=(t,e,n,r)=>{if(!dI(t))return t;let s=r&&r.get(t);if(!s){const d=kE(t);s=(f=>Object.values(Object.getOwnPropertyDescriptors(f)).some(p=>!p.configurable&&!p.writable))(d)?[d,P$(d)]:[d],r==null||r.set(t,s)}const[a,c]=s;let u=n&&n.get(a);return u&&u[1].f===!!c||(u=((d,f)=>{const p={f};let g=!1;const y=(v,E)=>{if(!g){let _=p[Yd].get(d);if(_||(_={},p[Yd].set(d,_)),v===Ch)_[Ch]=!0;else{let S=_[v];S||(S=new Set,_[v]=S),S.add(E)}}},w={get:(v,E)=>E===ME?d:(y("k",E),hI(Reflect.get(v,E),p[Yd],p.c,p.t)),has:(v,E)=>E===R$?(g=!0,p[Yd].delete(d),!0):(y("h",E),Reflect.has(v,E)),getOwnPropertyDescriptor:(v,E)=>(y("o",E),Reflect.getOwnPropertyDescriptor(v,E)),ownKeys:v=>(y(Ch),Reflect.ownKeys(v))};return f&&(w.set=w.deleteProperty=()=>!1),[w,p]})(a,!!c),u[1].p=x$(c||a,u[0]),n&&n.set(a,u)),u[1][Yd]=e,u[1].c=n,u[1].t=r,u[1].p},fI=(t,e,n,r,s=Object.is)=>{if(s(t,e))return!1;if(!cm(t)||!cm(e))return!0;const a=n.get(kE(t));if(!a)return!0;if(r){const u=r.get(t);if(u&&u.n===e)return u.g;r.set(t,{n:e,g:!1})}let c=null;try{for(const u of a.h||[])if(c=Reflect.has(t,u)!==Reflect.has(e,u),c)return c;if(a[Ch]===!0){if(c=((u,d)=>{const f=Reflect.ownKeys(u),p=Reflect.ownKeys(d);return f.length!==p.length||f.some((g,y)=>g!==p[y])})(t,e),c)return c}else for(const u of a.o||[])if(c=!!Reflect.getOwnPropertyDescriptor(t,u)!=!!Reflect.getOwnPropertyDescriptor(e,u),c)return c;for(const u of a.k||[])if(c=fI(t[u],e[u],n,r,s),c)return c;return c===null&&(c=!0),c}finally{r&&r.set(t,{n:e,g:c})}},D$=t=>dI(t)&&t[ME]||null,DS=(t,e=!0)=>{ov.set(t,e)},$$=(t,e,n)=>{const r=[],s=new WeakSet,a=(c,u)=>{if(s.has(c))return;cm(c)&&s.add(c);const d=cm(c)&&e.get(kE(c));if(d){var f,p;if((f=d.h)==null||f.forEach(y=>{const w=`:has(${String(y)})`;r.push(u?[...u,w]:[w])}),d[Ch]===!0){const y=":ownKeys";r.push(u?[...u,y]:[y])}else{var g;(g=d.o)==null||g.forEach(y=>{const w=`:hasOwn(${String(y)})`;r.push(u?[...u,w]:[w])})}(p=d.k)==null||p.forEach(y=>{!("value"in(Object.getOwnPropertyDescriptor(c,y)||{}))||a(c[y],u?[...u,y]:[y])})}else u&&r.push(u)};return a(t),r},lm={},Mw=t=>typeof t=="object"&&t!==null,ka=new WeakMap,mh=new WeakSet,U$=(t=Object.is,e=(f,p)=>new Proxy(f,p),n=f=>Mw(f)&&!mh.has(f)&&(Array.isArray(f)||!(Symbol.iterator in f))&&!(f instanceof WeakMap)&&!(f instanceof WeakSet)&&!(f instanceof Error)&&!(f instanceof Number)&&!(f instanceof Date)&&!(f instanceof String)&&!(f instanceof RegExp)&&!(f instanceof ArrayBuffer),r=f=>{switch(f.status){case"fulfilled":return f.value;case"rejected":throw f.reason;default:throw f}},s=new WeakMap,a=(f,p,g=r)=>{const y=s.get(f);if((y==null?void 0:y[0])===p)return y[1];const w=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f));return DS(w,!0),s.set(f,[p,w]),Reflect.ownKeys(f).forEach(v=>{if(Object.getOwnPropertyDescriptor(w,v))return;const E=Reflect.get(f,v),{enumerable:_}=Reflect.getOwnPropertyDescriptor(f,v),S={value:E,enumerable:_,configurable:!0};if(mh.has(E))DS(E,!1);else if(E instanceof Promise)delete S.value,S.get=()=>g(E);else if(ka.has(E)){const[T,O]=ka.get(E);S.value=a(T,O(),g)}Object.defineProperty(w,v,S)}),Object.preventExtensions(w)},c=new WeakMap,u=[1,1],d=f=>{if(!Mw(f))throw new Error("object required");const p=c.get(f);if(p)return p;let g=u[0];const y=new Set,w=(x,B=++u[0])=>{g!==B&&(g=B,y.forEach(q=>q(x,B)))};let v=u[1];const E=(x=++u[1])=>(v!==x&&!y.size&&(v=x,S.forEach(([B])=>{const q=B[1](x);q>g&&(g=q)})),g),_=x=>(B,q)=>{const X=[...B];X[1]=[x,...X[1]],w(X,q)},S=new Map,T=(x,B)=>{if((lm?"production":void 0)!=="production"&&S.has(x))throw new Error("prop listener already exists");if(y.size){const q=B[3](_(x));S.set(x,[B,q])}else S.set(x,[B])},O=x=>{var B;const q=S.get(x);q&&(S.delete(x),(B=q[1])==null||B.call(q))},P=x=>(y.add(x),y.size===1&&S.forEach(([q,X],se)=>{if((lm?"production":void 0)!=="production"&&X)throw new Error("remove already exists");const W=q[3](_(se));S.set(se,[q,W])}),()=>{y.delete(x),y.size===0&&S.forEach(([q,X],se)=>{X&&(X(),S.set(se,[q]))})}),N=Array.isArray(f)?[]:Object.create(Object.getPrototypeOf(f)),I=e(N,{deleteProperty(x,B){const q=Reflect.get(x,B);O(B);const X=Reflect.deleteProperty(x,B);return X&&w(["delete",[B],q]),X},set(x,B,q,X){const se=Reflect.has(x,B),W=Reflect.get(x,B,X);if(se&&(t(W,q)||c.has(q)&&t(W,c.get(q))))return!0;O(B),Mw(q)&&(q=D$(q)||q);let M=q;if(q instanceof Promise)q.then(R=>{q.status="fulfilled",q.value=R,w(["resolve",[B],R])}).catch(R=>{q.status="rejected",q.reason=R,w(["reject",[B],R])});else{!ka.has(q)&&n(q)&&(M=d(q));const R=!mh.has(M)&&ka.get(M);R&&T(B,R)}return Reflect.set(x,B,M,X),w(["set",[B],q,W]),!0}});c.set(f,I);const k=[N,E,a,P];return ka.set(I,k),Reflect.ownKeys(f).forEach(x=>{const B=Object.getOwnPropertyDescriptor(f,x);"value"in B&&(I[x]=f[x],delete B.value,delete B.writable),Object.defineProperty(N,x,B)}),I})=>[d,ka,mh,t,e,n,r,s,a,c,u],[M$]=U$();function zt(t={}){return M$(t)}function Yn(t,e,n){const r=ka.get(t);(lm?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const a=[],c=r[3];let u=!1;const f=c(p=>{a.push(p),s||(s=Promise.resolve().then(()=>{s=void 0,u&&e(a.splice(0))}))});return u=!0,()=>{u=!1,f()}}function mc(t,e){const n=ka.get(t);(lm?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,s,a]=n;return a(r,s(),e)}function yc(t){return mh.add(t),t}function cr(t,e,n,r){let s=t[e];return Yn(t,()=>{const a=t[e];Object.is(s,a)||n(s=a)})}function k$(t){const e=zt({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const s=this.data.find(a=>a[0]===n);return s?s[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(s=>s[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(s=>s[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Uh={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var B$=20,L$=1,Uu=1e6,j$=1e6,z$=-7,F$=21,q$=!1,$f="[big.js] ",Dc=$f+"Invalid ",qm=Dc+"decimal places",H$=Dc+"rounding mode",pI=$f+"Division by zero",Et={},ai=void 0,V$=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function gI(){function t(e){var n=this;if(!(n instanceof t))return e===ai?gI():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Dc+"value");e=e===0&&1/e<0?"-0":String(e)}G$(n,e)}n.constructor=t}return t.prototype=Et,t.DP=B$,t.RM=L$,t.NE=z$,t.PE=F$,t.strict=q$,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function G$(t,e){var n,r,s;if(!V$.test(e))throw Error(Dc+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function $c(t,e,n,r){var s=t.c;if(n===ai&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(H$);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==ai))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==ai||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function Uc(t,e,n){var r=t.e,s=t.c.join(""),a=s.length;if(e)s=s.charAt(0)+(a>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>a)for(r-=a;r--;)s+="0";else r<a&&(s=s.slice(0,r)+"."+s.slice(r));else a>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}Et.abs=function(){var t=new this.constructor(this);return t.s=1,t};Et.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,a=n.s,c=t.s,u=n.e,d=t.e;if(!r[0]||!s[0])return r[0]?a:s[0]?-c:0;if(a!=c)return a;if(e=a<0,u!=d)return u>d^e?1:-1;for(c=(u=r.length)<(d=s.length)?u:d,a=-1;++a<c;)if(r[a]!=s[a])return r[a]>s[a]^e?1:-1;return u==d?0:u>d^e?1:-1};Et.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,a=e.s==t.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>Uu)throw Error(qm);if(!s[0])throw Error(pI);if(!r[0])return t.s=a,t.c=[t.e=0],t;var u,d,f,p,g,y=s.slice(),w=u=s.length,v=r.length,E=r.slice(0,u),_=E.length,S=t,T=S.c=[],O=0,P=c+(S.e=e.e-t.e)+1;for(S.s=a,a=P<0?0:P,y.unshift(0);_++<u;)E.push(0);do{for(f=0;f<10;f++){if(u!=(_=E.length))p=u>_?1:-1;else for(g=-1,p=0;++g<u;)if(s[g]!=E[g]){p=s[g]>E[g]?1:-1;break}if(p<0){for(d=_==u?s:y;_;){if(E[--_]<d[_]){for(g=_;g&&!E[--g];)E[g]=9;--E[g],E[_]+=10}E[_]-=d[_]}for(;!E[0];)E.shift()}else break}T[O++]=p?f:++f,E[0]&&p?E[_]=r[w]||0:E=[r[w]]}while((w++<v||E[0]!==ai)&&a--);return!T[0]&&O!=1&&(T.shift(),S.e--,P--),O>P&&$c(S,P,n.RM,E[0]!==ai),S};Et.eq=function(t){return this.cmp(t)===0};Et.gt=function(t){return this.cmp(t)>0};Et.gte=function(t){return this.cmp(t)>-1};Et.lt=function(t){return this.cmp(t)<0};Et.lte=function(t){return this.cmp(t)<1};Et.minus=Et.sub=function(t){var e,n,r,s,a=this,c=a.constructor,u=a.s,d=(t=new c(t)).s;if(u!=d)return t.s=-d,a.plus(t);var f=a.c.slice(),p=a.e,g=t.c,y=t.e;if(!f[0]||!g[0])return g[0]?t.s=-d:f[0]?t=new c(a):t.s=1,t;if(u=p-y){for((s=u<0)?(u=-u,r=f):(y=p,r=g),r.reverse(),d=u;d--;)r.push(0);r.reverse()}else for(n=((s=f.length<g.length)?f:g).length,u=d=0;d<n;d++)if(f[d]!=g[d]){s=f[d]<g[d];break}if(s&&(r=f,f=g,g=r,t.s=-t.s),(d=(n=g.length)-(e=f.length))>0)for(;d--;)f[e++]=0;for(d=e;n>u;){if(f[--n]<g[n]){for(e=n;e&&!f[--e];)f[e]=9;--f[e],f[n]+=10}f[n]-=g[n]}for(;f[--d]===0;)f.pop();for(;f[0]===0;)f.shift(),--y;return f[0]||(t.s=1,f=[y=0]),t.c=f,t.e=y,t};Et.mod=function(t){var e,n=this,r=n.constructor,s=n.s,a=(t=new r(t)).s;if(!t.c[0])throw Error(pI);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=a,e?new r(n):(s=r.DP,a=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=a,this.minus(n.times(t)))};Et.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Et.plus=Et.add=function(t){var e,n,r,s=this,a=s.constructor;if(t=new a(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var c=s.e,u=s.c,d=t.e,f=t.c;if(!u[0]||!f[0])return f[0]||(u[0]?t=new a(s):t.s=s.s),t;if(u=u.slice(),e=c-d){for(e>0?(d=c,r=f):(e=-e,r=u),r.reverse();e--;)r.push(0);r.reverse()}for(u.length-f.length<0&&(r=f,f=u,u=r),e=f.length,n=0;e;u[e]%=10)n=(u[--e]=u[e]+f[e]+n)/10|0;for(n&&(u.unshift(n),++d),e=u.length;u[--e]===0;)u.pop();return t.c=u,t.e=d,t};Et.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-1e6||t>j$)throw Error(Dc+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};Et.prec=function(t,e){if(t!==~~t||t<1||t>Uu)throw Error(Dc+"precision");return $c(new this.constructor(this),t,e)};Et.round=function(t,e){if(t===ai)t=0;else if(t!==~~t||t<-1e6||t>Uu)throw Error(qm);return $c(new this.constructor(this),t+this.e+1,e)};Et.sqrt=function(){var t,e,n,r=this,s=r.constructor,a=r.s,c=r.e,u=new s("0.5");if(!r.c[0])return new s(r);if(a<0)throw Error($f+"No square root");a=Math.sqrt(+Uc(r,!0,!0)),a===0||a===1/0?(e=r.c.join(""),e.length+c&1||(e+="0"),a=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),t=new s((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+c)):t=new s(a+""),c=t.e+(s.DP+=4);do n=t,t=u.times(n.plus(r.div(n)));while(n.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return $c(t,(s.DP-=4)+t.e+1,s.RM)};Et.times=Et.mul=function(t){var e,n=this,r=n.constructor,s=n.c,a=(t=new r(t)).c,c=s.length,u=a.length,d=n.e,f=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!a[0])return t.c=[t.e=0],t;for(t.e=d+f,c<u&&(e=s,s=a,a=e,f=c,c=u,u=f),e=new Array(f=c+u);f--;)e[f]=0;for(d=u;d--;){for(u=0,f=c+d;f>d;)u=e[f]+a[d]*s[f-d-1]+u,e[f--]=u%10,u=u/10|0;e[f]=u}for(u?++t.e:e.shift(),d=e.length;!e[--d];)e.pop();return t.c=e,t};Et.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==ai){if(t!==~~t||t<0||t>Uu)throw Error(qm);for(n=$c(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Uc(n,!0,!!r)};Et.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==ai){if(t!==~~t||t<0||t>Uu)throw Error(qm);for(n=$c(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Uc(n,!1,!!r)};Et[Symbol.for("nodejs.util.inspect.custom")]=Et.toJSON=Et.toString=function(){var t=this,e=t.constructor;return Uc(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Et.toNumber=function(){var t=+Uc(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error($f+"Imprecise conversion");return t};Et.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==ai){if(t!==~~t||t<1||t>Uu)throw Error(Dc+"precision");for(n=$c(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Uc(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Et.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error($f+"valueOf disallowed");return Uc(t,t.e<=e.NE||t.e>=e.PE,!0)};var Zd=gI();const W$={bigNumber(t){return t?new Zd(t):new Zd(0)},multiply(t,e){if(t===void 0||e===void 0)return new Zd(0);const n=new Zd(t),r=new Zd(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},K$=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Y$=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Z$=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var $S={};const de={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof $S<"u"?$S.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},Q$={getERC20Abi:t=>de.USDT_CONTRACT_ADDRESSES.includes(t)?Z$:K$,getSwapAbi:()=>Y$},Oa={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Ze={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function kw(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const qe={setItem(t,e){yh()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(yh())return localStorage.getItem(t)||void 0},removeItem(t){yh()&&localStorage.removeItem(t)},clear(){yh()&&localStorage.clear()}};function yh(){return typeof window<"u"&&typeof localStorage<"u"}function Ki(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var US={};const Bw=(typeof process<"u"&&typeof US<"u"?US.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",gne=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],mne="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",gn={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:Bw,SECURE_SITE_DASHBOARD:`${Bw}/dashboard`,SECURE_SITE_FAVICON:`${Bw}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=be.getActiveNamespace(),e=be.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{qe.setItem(Ze.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=qe.getItem(Ze.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{qe.removeItem(Ze.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{qe.setItem(Ze.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{qe.setItem(Ze.ACTIVE_CAIP_NETWORK_ID,t),be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return qe.getItem(Ze.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{qe.removeItem(Ze.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=kw(t);qe.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=be.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),qe.setItem(Ze.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=qe.getItem(Ze.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=kw(t);qe.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return qe.getItem(Ze.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=kw(t);return qe.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{qe.setItem(Ze.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return qe.getItem(Ze.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{qe.removeItem(Ze.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return qe.getItem(Ze.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=qe.getItem(Ze.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{qe.setItem(Ze.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return qe.getItem(Ze.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=qe.getItem(Ze.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));qe.setItem(Ze.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=be.getConnectedNamespaces();e.includes(t)||(e.push(t),be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=be.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return qe.getItem(Ze.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{qe.setItem(Ze.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{qe.removeItem(Ze.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=qe.getItem(Ze.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=be.getBalanceCache();qe.setItem(Ze.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=be.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=be.getBalanceCache();e[t.caipAddress]=t,qe.setItem(Ze.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=qe.getItem(Ze.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=be.getBalanceCache();qe.setItem(Ze.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=be.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=be.getNativeBalanceCache();e[t.caipAddress]=t,qe.setItem(Ze.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=qe.getItem(Ze.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=be.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=be.getEnsCache();e[t.address]=t,qe.setItem(Ze.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=be.getEnsCache();qe.setItem(Ze.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=qe.getItem(Ze.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=be.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},qe.setItem(Ze.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=be.getIdentityCache();qe.setItem(Ze.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{qe.removeItem(Ze.PORTFOLIO_CACHE),qe.removeItem(Ze.NATIVE_BALANCE_CACHE),qe.removeItem(Ze.ENS_CACHE),qe.removeItem(Ze.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{qe.setItem(Ze.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=qe.getItem(Ze.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},Me={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Me.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=gn.TEN_SEC_MS:!0},isAllowedRetry(t,e=gn.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+gn.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(Me.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},formatUniversalUrl(t,e){if(!Me.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r,s;if(typeof window>"u")return!1;const t=(r=(n=window.matchMedia)==null?void 0:n.call(window,"(display-mode: standalone)"))==null?void 0:r.matches,e=(s=window==null?void 0:window.navigator)==null?void 0:s.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Me.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return de.W3M_API_URL},getBlockchainApiUrl(){return de.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return de.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const a=n[r.id],c=n[s.id];return a!==void 0&&c!==void 0?a-c:a!==void 0?-1:c!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const s=t.length===0?gn.ADAPTER_TYPES.UNIVERSAL:t.map(a=>a.adapterType).join(",");return`${e}-${s}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in de.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",a=t.substring(t.indexOf(s)+s.length),c=this.injectIntoUrl(decodeURIComponent(a),n,e);return t.replace(a,encodeURIComponent(c))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),a=e.length,c=s!==-1?s:t.length,u=t.substring(0,r+a),d=t.substring(r+a,c),f=t.substring(s),p=d+n;return u+p+f}};async function Qd(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Hm{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const a=this.createUrl(s);return(await Qd(a,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Qd(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Qd(a,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Qd(a,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Qd(a,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,a])=>{a&&r.searchParams.append(s,a)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const X$={handleSolanaDeeplinkRedirect(t){if(z.state.activeChain===de.CHAIN.SOLANA){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",s=e.split("/")[2],a=encodeURIComponent(`${r}://${s}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${a}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}}},$r=zt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Rs={state:$r,subscribeNetworkImages(t){return Yn($r.networkImages,()=>t($r.networkImages))},subscribeKey(t,e){return cr($r,t,e)},subscribe(t){return Yn($r,()=>t($r))},setWalletImage(t,e){$r.walletImages[t]=e},setNetworkImage(t,e){$r.networkImages[t]=e},setChainImage(t,e){$r.chainImages[t]=e},setConnectorImage(t,e){$r.connectorImages={...$r.connectorImages,[t]:e}},setTokenImage(t,e){$r.tokenImages[t]=e},setCurrencyImage(t,e){$r.currencyImages[t]=e}},J$={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},Lw=zt({networkImagePromises:{}}),mI={async fetchWalletImage(t){if(t)return await Ue._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Lw.networkImagePromises[t]||(Lw.networkImagePromises[t]=Ue._fetchNetworkImage(t)),await Lw.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Rs.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Rs.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Rs.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Rs.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Rs.state.connectorImages[t.imageId]},getChainImage(t){return Rs.state.networkImages[J$[t]]}},e8={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?gn.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Me.isTelegram()){if(Me.isIos())return t.filter(e=>e!=="google");if(Me.isMac())return t.filter(e=>e!=="x");if(Me.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},$e=zt({features:gn.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),ue={state:$e,subscribeKey(t,e){return cr($e,t,e)},setOptions(t){Object.assign($e,t)},setFeatures(t){if(!t)return;$e.features||($e.features=gn.DEFAULT_FEATURES);const e={...$e.features,...t};$e.features=e,$e.features.socials&&($e.features.socials=e8.filterSocialsByPlatform($e.features.socials))},setProjectId(t){$e.projectId=t},setCustomRpcUrls(t){$e.customRpcUrls=t},setAllWallets(t){$e.allWallets=t},setIncludeWalletIds(t){$e.includeWalletIds=t},setExcludeWalletIds(t){$e.excludeWalletIds=t},setFeaturedWalletIds(t){$e.featuredWalletIds=t},setTokens(t){$e.tokens=t},setTermsConditionsUrl(t){$e.termsConditionsUrl=t},setPrivacyPolicyUrl(t){$e.privacyPolicyUrl=t},setCustomWallets(t){$e.customWallets=t},setIsSiweEnabled(t){$e.isSiweEnabled=t},setIsUniversalProvider(t){$e.isUniversalProvider=t},setSdkVersion(t){$e.sdkVersion=t},setMetadata(t){$e.metadata=t},setDisableAppend(t){$e.disableAppend=t},setEIP6963Enabled(t){$e.enableEIP6963=t},setDebug(t){$e.debug=t},setEnableWalletConnect(t){$e.enableWalletConnect=t},setEnableWalletGuide(t){$e.enableWalletGuide=t},setEnableAuthLogger(t){$e.enableAuthLogger=t},setEnableWallets(t){$e.enableWallets=t},setHasMultipleAddresses(t){$e.hasMultipleAddresses=t},setSIWX(t){$e.siwx=t},setConnectMethodsOrder(t){$e.features={...$e.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){$e.features={...$e.features,walletFeaturesOrder:t}},setSocialsOrder(t){$e.features={...$e.features,socials:t}},setCollapseWallets(t){$e.features={...$e.features,collapseWallets:t}},setEnableEmbedded(t){$e.enableEmbedded=t},setAllowUnsupportedChain(t){$e.allowUnsupportedChain=t},setManualWCControl(t){$e.manualWCControl=t},setEnableNetworkSwitch(t){$e.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&($e.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){$e.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return $e.universalProviderConfigOverride},getSnapshot(){return mc($e)}},Ia=zt({message:"",variant:"info",open:!1}),ir={state:Ia,subscribeKey(t,e){return cr(Ia,t,e)},open(t,e){const{debug:n}=ue.state,{shortMessage:r,longMessage:s}=t;n&&(Ia.message=r,Ia.variant=e,Ia.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){Ia.open=!1,Ia.message="",Ia.variant="info"}},t8=Me.getAnalyticsUrl(),n8=new Hm({baseUrl:t8,clientId:null}),r8=["MODAL_CREATED"],Pi=zt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Lt={state:Pi,subscribe(t){return Yn(Pi,()=>t(Pi))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ue.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Te.state.address;if(r8.includes(t.data.event)||typeof window>"u")return;await n8.post({path:"/e",params:Lt.getSdkProperties(),body:{eventId:Me.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Pi.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===de.HTTP_STATUS_CODES.FORBIDDEN&&!Pi.reportedErrors.FORBIDDEN&&(ir.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${yh()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Pi.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Pi.timestamp=Date.now(),Pi.data=t,(e=ue.state.features)!=null&&e.analytics&&Lt._sendAnalyticsEvent(Pi)}},s8=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],i8=Me.getApiUrl(),Ur=new Hm({baseUrl:i8,clientId:null}),a8=40,MS=4,o8=20,Ve=zt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ue={state:Ve,subscribeKey(t,e){return cr(Ve,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=ue.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ue.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Ur.baseUrl}/getWalletImage/${t}`,n=await Ur.getBlob({path:e,params:Ue._getSdkProperties()});Rs.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Ur.baseUrl}/public/getAssetImage/${t}`,n=await Ur.getBlob({path:e,params:Ue._getSdkProperties()});Rs.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Ur.baseUrl}/public/getAssetImage/${t}`,n=await Ur.getBlob({path:e,params:Ue._getSdkProperties()});Rs.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Ur.baseUrl}/public/getCurrencyImage/${t}`,n=await Ur.getBlob({path:e,params:Ue._getSdkProperties()});Rs.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Ur.baseUrl}/public/getTokenImage/${t}`,n=await Ur.getBlob({path:e,params:Ue._getSdkProperties()});Rs.setTokenImage(t,URL.createObjectURL(n))},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Ur.get({path:"/projects/v1/origins",params:Ue._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const t=z.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!mI.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ue._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Le.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ue._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchTokenImage(e)))},async fetchWallets(t){var r,s;const e=t.exclude??[];return Ue._getSdkProperties().sv.startsWith("html-core-")&&e.push(...s8),await Ur.get({path:"/getWallets",params:{...Ue._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(r=t.include)==null?void 0:r.join(","),exclude:(s=t.exclude)==null?void 0:s.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ue.state;if(t!=null&&t.length){const e={...Ue._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??MS,include:t},{data:n}=await Ue.fetchWallets(e);n.sort((s,a)=>t.indexOf(s.id)-t.indexOf(a.id));const r=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(r.map(s=>Ue._fetchWalletImage(s))),Ve.featured=n,Ve.allFeatured=n}},async fetchRecommendedWallets(){try{Ve.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=ue.state,r=[...e??[],...n??[]].filter(Boolean),s=z.getRequestedCaipNetworkIds().join(","),a={page:1,entries:MS,include:t,exclude:r,chains:s},{data:c,count:u}=await Ue.fetchWallets(a),d=be.getRecentWallets(),f=c.map(g=>g.image_id).filter(Boolean),p=d.map(g=>g.image_id).filter(Boolean);await Promise.allSettled([...f,...p].map(g=>Ue._fetchWalletImage(g))),Ve.recommended=c,Ve.allRecommended=c,Ve.count=u??0}catch{}finally{Ve.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=ue.state,s=z.getRequestedCaipNetworkIds().join(","),a=[...Ve.recommended.map(({id:p})=>p),...n??[],...r??[]].filter(Boolean),c={page:t,entries:a8,include:e,exclude:a,chains:s},{data:u,count:d}=await Ue.fetchWallets(c),f=u.slice(0,o8).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(f.map(p=>Ue._fetchWalletImage(p))),Ve.wallets=Me.uniqueBy([...Ve.wallets,...Ue._filterOutExtensions(u)],"id"),Ve.count=d>Ve.count?d:Ve.count,Ve.page=t},async initializeExcludedWallets({ids:t}){const e=z.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await Ue.fetchWallets(n);r&&r.forEach(s=>{Ve.excludedWallets.push({rdns:s.rdns,name:s.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=ue.state,s=z.getRequestedCaipNetworkIds().join(",");Ve.search=[];const a={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:c}=await Ue.fetchWallets(a);Lt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...u.map(d=>Ue._fetchWalletImage(d)),Me.wait(300)]),Ve.search=Ue._filterOutExtensions(c)},initPromise(t,e){const n=Ve.promises[t];return n||(Ve.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Ue.initPromise("connectorImages",Ue.fetchConnectorImages),e&&Ue.initPromise("featuredWallets",Ue.fetchFeaturedWallets),n&&Ue.initPromise("recommendedWallets",Ue.fetchRecommendedWallets),r&&Ue.initPromise("networkImages",Ue.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var t;(t=ue.state.features)!=null&&t.analytics&&Ue.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Ur.get({path:"/getAnalyticsConfig",params:Ue._getSdkProperties()});ue.setFeatures({analytics:t})}catch{ue.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const e=z.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.recommended=Ve.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.filteredWallets=Ve.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){Ve.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ve.featured=Ve.allFeatured,Ve.recommended=Ve.allRecommended;return}const e=z.getRequestedCaipNetworkIds().join(",");Ve.featured=Ve.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.recommended=Ve.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))}),Ve.filteredWallets=Ve.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>e.includes(s))})}},mt=zt({view:"Connect",history:["Connect"],transactionStack:[]}),bt={state:mt,subscribeKey(t,e){return cr(mt,t,e)},pushTransactionStack(t){mt.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=mt.transactionStack.pop();if(e)if(t)this.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const a=mt.history.indexOf("ConnectingSiwe");a>0?this.goBackToIndex(a-1):(tn.close(!0),mt.history=[])}else e.view&&this.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==mt.view&&(mt.view=t,mt.history.push(t),mt.data=e)},reset(t,e){mt.view=t,mt.history=[t],mt.data=e},replace(t,e){mt.history.at(-1)===t||(mt.view=t,mt.history[mt.history.length-1]=t,mt.data=e)},goBack(){var e;const t=!z.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(mt.history.length>1&&!mt.history.includes("UnsupportedChain")){mt.history.pop();const[n]=mt.history.slice(-1);n&&(mt.view=n)}else tn.close();(e=mt.data)!=null&&e.wallet&&(mt.data.wallet=void 0),setTimeout(()=>{var n,r,s;if(t){Te.setFarcasterUrl(void 0,z.state.activeChain);const a=Le.getAuthConnector();(n=a==null?void 0:a.provider)==null||n.reload();const c=mc(ue.state);(s=(r=a==null?void 0:a.provider)==null?void 0:r.syncDappData)==null||s.call(r,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(mt.history.length>1){mt.history=mt.history.slice(0,t+1);const[e]=mt.history.slice(-1);e&&(mt.view=e)}}},Di=zt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Kn={state:Di,subscribe(t){return Yn(Di,()=>t(Di))},setThemeMode(t){Di.themeMode=t;try{const e=Le.getAuthConnector();if(e){const n=Kn.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Ki(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Di.themeVariables={...Di.themeVariables,...t};try{const e=Le.getAuthConnector();if(e){const n=Kn.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Ki(Di.themeVariables,Di.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return mc(Di)}},yI={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},dt=zt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...yI},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),Le={state:dt,subscribe(t){return Yn(dt,()=>{t(dt)})},subscribeKey(t,e){return cr(dt,t,e)},initialize(t){t.forEach(e=>{const n=be.getConnectedConnectorId(e);n&&this.setConnectorId(n,e)})},setActiveConnector(t){t&&(dt.activeConnector=yc(t))},setConnectors(t){t.filter(s=>!dt.allConnectors.some(a=>a.id===s.id&&this.getConnectorName(a.name)===this.getConnectorName(s.name)&&a.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&dt.allConnectors.push(yc(s))});const n=this.getEnabledNamespaces(),r=this.getEnabledConnectors(n);dt.connectors=this.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(dt.filterByNamespaceMap).forEach(e=>{dt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{dt.filterByNamespaceMap[e]=!0}),this.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){dt.filterByNamespaceMap[t]=e,this.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=this.getEnabledNamespaces(),e=this.getEnabledConnectors(t),n=this.areAllNamespacesEnabled();dt.connectors=this.mergeMultiChainConnectors(e),n?Ue.clearFilterByNamespaces():Ue.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(dt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return dt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(dt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],a=(s==null?void 0:s.id)===de.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=this.getConnectorName(r);if(!s)return;const a=e.get(s)||[];a.find(u=>u.chain===n.chain)||a.push(n),e.set(s,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===de.CONNECTOR_ID.AUTH){const s=t,a=mc(ue.state),c=Kn.getSnapshot().themeMode,u=Kn.getSnapshot().themeVariables;(n=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:c,themeVariables:u,w3mThemeVariables:Ki(u,c)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var r;const e=t||z.state.activeChain,n=dt.connectors.find(s=>s.id===de.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(a=>a.chain===e):n},getAnnouncedConnectorRdns(){return dt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return dt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return dt.allConnectors.filter(r=>r.chain===z.state.activeChain).find(r=>{var s;return r.explorerId===t||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(t){var a,c;if(t.id!=="ID_AUTH")return;const e=t,n=mc(ue.state),r=Kn.getSnapshot().themeMode,s=Kn.getSnapshot().themeVariables;(c=(a=e==null?void 0:e.provider)==null?void 0:a.syncDappData)==null||c.call(a,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:Ki(s,r)})},getConnectorsByNamespace(t){const e=dt.allConnectors.filter(n=>n.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Le.getConnector(t.id,t.rdns);z.state.activeChain===de.CHAIN.SOLANA&&X$.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?bt.push("ConnectingExternal",{connector:e}):bt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(dt.allConnectors)},setFilterByNamespace(t){dt.filterByNamespace=t,dt.connectors=this.getConnectors(t),Ue.setFilterByNamespace(t)},setConnectorId(t,e){t&&(dt.activeConnectorIds={...dt.activeConnectorIds,[e]:t},be.setConnectedConnectorId(e,t))},removeConnectorId(t){dt.activeConnectorIds={...dt.activeConnectorIds,[t]:void 0},be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return dt.activeConnectorIds[t]},isConnected(t){return t?!!dt.activeConnectorIds[t]:Object.values(dt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){dt.activeConnectorIds={...yI}}};function bg(t,e){return Le.getConnectorId(t)===e}function c8(t){const e=Array.from(z.state.chains.keys());let n=[];return t?(n.push([t,z.state.chains.get(t)]),bg(t,de.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&bg(r,de.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,z.state.chains.get(r)])}):bg(t,de.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&bg(r,de.CONNECTOR_ID.AUTH)&&n.push([r,z.state.chains.get(r)])})):n=Array.from(z.state.chains.entries()),n}var wg={exports:{}},kS;function l8(){if(kS)return wg.exports;kS=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(N,A,I){return Function.prototype.apply.call(N,A,I)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:n=function(N){return Object.getOwnPropertyNames(N)};function r(P){console&&console.warn&&console.warn(P)}var s=Number.isNaN||function(N){return N!==N};function a(){a.init.call(this)}wg.exports=a,wg.exports.once=S,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(P){if(typeof P!="number"||P<0||s(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");c=P}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function d(P){return P._maxListeners===void 0?a.defaultMaxListeners:P._maxListeners}a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(N){for(var A=[],I=1;I<arguments.length;I++)A.push(arguments[I]);var k=N==="error",x=this._events;if(x!==void 0)k=k&&x.error===void 0;else if(!k)return!1;if(k){var B;if(A.length>0&&(B=A[0]),B instanceof Error)throw B;var q=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw q.context=B,q}var X=x[N];if(X===void 0)return!1;if(typeof X=="function")e(X,this,A);else for(var se=X.length,W=v(X,se),I=0;I<se;++I)e(W[I],this,A);return!0};function f(P,N,A,I){var k,x,B;if(u(A),x=P._events,x===void 0?(x=P._events=Object.create(null),P._eventsCount=0):(x.newListener!==void 0&&(P.emit("newListener",N,A.listener?A.listener:A),x=P._events),B=x[N]),B===void 0)B=x[N]=A,++P._eventsCount;else if(typeof B=="function"?B=x[N]=I?[A,B]:[B,A]:I?B.unshift(A):B.push(A),k=d(P),k>0&&B.length>k&&!B.warned){B.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=P,q.type=N,q.count=B.length,r(q)}return P}a.prototype.addListener=function(N,A){return f(this,N,A,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(N,A){return f(this,N,A,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(P,N,A){var I={fired:!1,wrapFn:void 0,target:P,type:N,listener:A},k=p.bind(I);return k.listener=A,I.wrapFn=k,k}a.prototype.once=function(N,A){return u(A),this.on(N,g(this,N,A)),this},a.prototype.prependOnceListener=function(N,A){return u(A),this.prependListener(N,g(this,N,A)),this},a.prototype.removeListener=function(N,A){var I,k,x,B,q;if(u(A),k=this._events,k===void 0)return this;if(I=k[N],I===void 0)return this;if(I===A||I.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete k[N],k.removeListener&&this.emit("removeListener",N,I.listener||A));else if(typeof I!="function"){for(x=-1,B=I.length-1;B>=0;B--)if(I[B]===A||I[B].listener===A){q=I[B].listener,x=B;break}if(x<0)return this;x===0?I.shift():E(I,x),I.length===1&&(k[N]=I[0]),k.removeListener!==void 0&&this.emit("removeListener",N,q||A)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(N){var A,I,k;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[N]),this;if(arguments.length===0){var x=Object.keys(I),B;for(k=0;k<x.length;++k)B=x[k],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=I[N],typeof A=="function")this.removeListener(N,A);else if(A!==void 0)for(k=A.length-1;k>=0;k--)this.removeListener(N,A[k]);return this};function y(P,N,A){var I=P._events;if(I===void 0)return[];var k=I[N];return k===void 0?[]:typeof k=="function"?A?[k.listener||k]:[k]:A?_(k):v(k,k.length)}a.prototype.listeners=function(N){return y(this,N,!0)},a.prototype.rawListeners=function(N){return y(this,N,!1)},a.listenerCount=function(P,N){return typeof P.listenerCount=="function"?P.listenerCount(N):w.call(P,N)},a.prototype.listenerCount=w;function w(P){var N=this._events;if(N!==void 0){var A=N[P];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(P,N){for(var A=new Array(N),I=0;I<N;++I)A[I]=P[I];return A}function E(P,N){for(;N+1<P.length;N++)P[N]=P[N+1];P.pop()}function _(P){for(var N=new Array(P.length),A=0;A<N.length;++A)N[A]=P[A].listener||P[A];return N}function S(P,N){return new Promise(function(A,I){function k(B){P.removeListener(N,x),I(B)}function x(){typeof P.removeListener=="function"&&P.removeListener("error",k),A([].slice.call(arguments))}O(P,N,x,{once:!0}),N!=="error"&&T(P,k,{once:!0})})}function T(P,N,A){typeof P.on=="function"&&O(P,"error",N,A)}function O(P,N,A,I){if(typeof P.on=="function")I.once?P.once(N,A):P.on(N,A);else if(typeof P.addEventListener=="function")P.addEventListener(N,function k(x){I.once&&P.removeEventListener(N,k),A(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return wg.exports}var ps=l8();const BE=Du(ps);var jw={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cv=function(t,e){return cv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},cv(t,e)};function u8(t,e){cv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var lv=function(){return lv=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lv.apply(this,arguments)};function d8(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function h8(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(s<3?c(a):s>3?c(e,n,a):c(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function f8(t,e){return function(n,r){e(n,r,t)}}function p8(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function g8(t,e,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(p){try{f(r.next(p))}catch(g){c(g)}}function d(p){try{f(r.throw(p))}catch(g){c(g)}}function f(p){p.done?a(p.value):s(p.value).then(u,d)}f((r=r.apply(t,e||[])).next())})}function m8(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(p){return d([f,p])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,s=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(p){f=[6,p],s=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function y8(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function b8(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function uv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bI(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function w8(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bI(arguments[e]));return t}function v8(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,s++)r[s]=a[c];return r}function Mh(t){return this instanceof Mh?(this.v=t,this):new Mh(t)}function E8(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(y){r[y]&&(s[y]=function(w){return new Promise(function(v,E){a.push([y,w,v,E])>1||u(y,w)})})}function u(y,w){try{d(r[y](w))}catch(v){g(a[0][3],v)}}function d(y){y.value instanceof Mh?Promise.resolve(y.value.v).then(f,p):g(a[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function g(y,w){y(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function _8(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(c){return(n=!n)?{value:Mh(t[s](c)),done:s==="return"}:a?a(c):c}:a}}function C8(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof uv=="function"?uv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(c){return new Promise(function(u,d){c=t[a](c),s(u,d,c.done,c.value)})}}function s(a,c,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},c)}}function A8(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S8(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T8(t){return t&&t.__esModule?t:{default:t}}function N8(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function O8(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const I8=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return lv},__asyncDelegator:_8,__asyncGenerator:E8,__asyncValues:C8,__await:Mh,__awaiter:g8,__classPrivateFieldGet:N8,__classPrivateFieldSet:O8,__createBinding:y8,__decorate:h8,__exportStar:b8,__extends:u8,__generator:m8,__importDefault:T8,__importStar:S8,__makeTemplateObject:A8,__metadata:p8,__param:f8,__read:bI,__rest:d8,__spread:w8,__spreadArrays:v8,__values:uv},Symbol.toStringTag,{value:"Module"})),Uf=b$(I8);var zw={},Xd={},BS;function R8(){if(BS)return Xd;BS=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Xd.delay=t,Xd}var Lo={},Fw={},jo={},LS;function x8(){return LS||(LS=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.ONE_THOUSAND=jo.ONE_HUNDRED=void 0,jo.ONE_HUNDRED=100,jo.ONE_THOUSAND=1e3),jo}var qw={},jS;function P8(){return jS||(jS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(qw)),qw}var zS;function wI(){return zS||(zS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Uf;e.__exportStar(x8(),t),e.__exportStar(P8(),t)}(Fw)),Fw}var FS;function D8(){if(FS)return Lo;FS=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.fromMiliseconds=Lo.toMiliseconds=void 0;const t=wI();function e(r){return r*t.ONE_THOUSAND}Lo.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Lo.fromMiliseconds=n,Lo}var qS;function $8(){return qS||(qS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Uf;e.__exportStar(R8(),t),e.__exportStar(D8(),t)}(zw)),zw}var Sl={},HS;function U8(){if(HS)return Sl;HS=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Sl.Watch=t,Sl.default=t,Sl}var Hw={},Jd={},VS;function M8(){if(VS)return Jd;VS=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.IWatch=void 0;class t{}return Jd.IWatch=t,Jd}var GS;function k8(){return GS||(GS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Uf.__exportStar(M8(),t)}(Hw)),Hw}var WS;function B8(){return WS||(WS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Uf;e.__exportStar($8(),t),e.__exportStar(U8(),t),e.__exportStar(k8(),t),e.__exportStar(wI(),t)}(jw)),jw}var pe=B8();class Mc{}let L8=class extends Mc{constructor(e){super()}};const KS=pe.FIVE_SECONDS,Mu={pulse:"heartbeat_pulse"};let j8=class vI extends L8{constructor(e){super(e),this.events=new ps.EventEmitter,this.interval=KS,this.interval=(e==null?void 0:e.interval)||KS}static async init(e){const n=new vI(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),pe.toMiliseconds(this.interval))}pulse(){this.events.emit(Mu.pulse)}};const z8=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,F8=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,q8=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function H8(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){V8(t);return}return e}function V8(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function vg(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!q8.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(z8.test(t)||F8.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,H8)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function G8(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Cn(t,...e){try{return G8(t(...e))}catch(n){return Promise.reject(n)}}function W8(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function K8(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Wg(t){if(W8(t))return String(t);if(K8(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Wg(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const dv="base64:";function Y8(t){return typeof t=="string"?t:dv+X8(t)}function Z8(t){return typeof t!="string"||!t.startsWith(dv)?t:Q8(t.slice(dv.length))}function Q8(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function X8(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function mr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function J8(...t){return mr(t.join(":"))}function Eg(t){return t=mr(t),t?t+":":""}function eU(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function tU(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const nU="memory",rU=()=>{const t=new Map;return{name:nU,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function sU(t={}){const e={mounts:{"":t.driver||rU()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=f=>{for(const p of e.mountpoints)if(f.startsWith(p))return{base:p,relativeKey:f.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:f,driver:e.mounts[""]}},r=(f,p)=>e.mountpoints.filter(g=>g.startsWith(f)||p&&f.startsWith(g)).map(g=>({relativeBase:f.length>g.length?f.slice(g.length):void 0,mountpoint:g,driver:e.mounts[g]})),s=(f,p)=>{if(e.watching){p=mr(p);for(const g of e.watchListeners)g(f,p)}},a=async()=>{if(!e.watching){e.watching=!0;for(const f in e.mounts)e.unwatch[f]=await YS(e.mounts[f],s,f)}},c=async()=>{if(e.watching){for(const f in e.unwatch)await e.unwatch[f]();e.unwatch={},e.watching=!1}},u=(f,p,g)=>{const y=new Map,w=v=>{let E=y.get(v.base);return E||(E={driver:v.driver,base:v.base,items:[]},y.set(v.base,E)),E};for(const v of f){const E=typeof v=="string",_=mr(E?v:v.key),S=E?void 0:v.value,T=E||!v.options?p:{...p,...v.options},O=n(_);w(O).items.push({key:_,value:S,relativeKey:O.relativeKey,options:T})}return Promise.all([...y.values()].map(v=>g(v))).then(v=>v.flat())},d={hasItem(f,p={}){f=mr(f);const{relativeKey:g,driver:y}=n(f);return Cn(y.hasItem,g,p)},getItem(f,p={}){f=mr(f);const{relativeKey:g,driver:y}=n(f);return Cn(y.getItem,g,p).then(w=>vg(w))},getItems(f,p={}){return u(f,p,g=>g.driver.getItems?Cn(g.driver.getItems,g.items.map(y=>({key:y.relativeKey,options:y.options})),p).then(y=>y.map(w=>({key:J8(g.base,w.key),value:vg(w.value)}))):Promise.all(g.items.map(y=>Cn(g.driver.getItem,y.relativeKey,y.options).then(w=>({key:y.key,value:vg(w)})))))},getItemRaw(f,p={}){f=mr(f);const{relativeKey:g,driver:y}=n(f);return y.getItemRaw?Cn(y.getItemRaw,g,p):Cn(y.getItem,g,p).then(w=>Z8(w))},async setItem(f,p,g={}){if(p===void 0)return d.removeItem(f);f=mr(f);const{relativeKey:y,driver:w}=n(f);w.setItem&&(await Cn(w.setItem,y,Wg(p),g),w.watch||s("update",f))},async setItems(f,p){await u(f,p,async g=>{if(g.driver.setItems)return Cn(g.driver.setItems,g.items.map(y=>({key:y.relativeKey,value:Wg(y.value),options:y.options})),p);g.driver.setItem&&await Promise.all(g.items.map(y=>Cn(g.driver.setItem,y.relativeKey,Wg(y.value),y.options)))})},async setItemRaw(f,p,g={}){if(p===void 0)return d.removeItem(f,g);f=mr(f);const{relativeKey:y,driver:w}=n(f);if(w.setItemRaw)await Cn(w.setItemRaw,y,p,g);else if(w.setItem)await Cn(w.setItem,y,Y8(p),g);else return;w.watch||s("update",f)},async removeItem(f,p={}){typeof p=="boolean"&&(p={removeMeta:p}),f=mr(f);const{relativeKey:g,driver:y}=n(f);y.removeItem&&(await Cn(y.removeItem,g,p),(p.removeMeta||p.removeMata)&&await Cn(y.removeItem,g+"$",p),y.watch||s("remove",f))},async getMeta(f,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),f=mr(f);const{relativeKey:g,driver:y}=n(f),w=Object.create(null);if(y.getMeta&&Object.assign(w,await Cn(y.getMeta,g,p)),!p.nativeOnly){const v=await Cn(y.getItem,g+"$",p).then(E=>vg(E));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(w,v))}return w},setMeta(f,p,g={}){return this.setItem(f+"$",p,g)},removeMeta(f,p={}){return this.removeItem(f+"$",p)},async getKeys(f,p={}){var _;f=Eg(f);const g=r(f,!0);let y=[];const w=[];let v=!0;for(const S of g){(_=S.driver.flags)!=null&&_.maxDepth||(v=!1);const T=await Cn(S.driver.getKeys,S.relativeBase,p);for(const O of T){const P=S.mountpoint+mr(O);y.some(N=>P.startsWith(N))||w.push(P)}y=[S.mountpoint,...y.filter(O=>!O.startsWith(S.mountpoint))]}const E=p.maxDepth!==void 0&&!v;return w.filter(S=>(!E||eU(S,p.maxDepth))&&tU(S,f))},async clear(f,p={}){f=Eg(f),await Promise.all(r(f,!1).map(async g=>{if(g.driver.clear)return Cn(g.driver.clear,g.relativeBase,p);if(g.driver.removeItem){const y=await g.driver.getKeys(g.relativeBase||"",p);return Promise.all(y.map(w=>g.driver.removeItem(w,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(f=>ZS(f)))},async watch(f){return await a(),e.watchListeners.push(f),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==f),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(f,p){if(f=Eg(f),f&&e.mounts[f])throw new Error(`already mounted at ${f}`);return f&&(e.mountpoints.push(f),e.mountpoints.sort((g,y)=>y.length-g.length)),e.mounts[f]=p,e.watching&&Promise.resolve(YS(p,s,f)).then(g=>{e.unwatch[f]=g}).catch(console.error),d},async unmount(f,p=!0){var g,y;f=Eg(f),!(!f||!e.mounts[f])&&(e.watching&&f in e.unwatch&&((y=(g=e.unwatch)[f])==null||y.call(g),delete e.unwatch[f]),p&&await ZS(e.mounts[f]),e.mountpoints=e.mountpoints.filter(w=>w!==f),delete e.mounts[f])},getMount(f=""){f=mr(f)+":";const p=n(f);return{driver:p.driver,base:p.base}},getMounts(f="",p={}){return f=mr(f),r(f,p.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(f,p={})=>d.getKeys(f,p),get:(f,p={})=>d.getItem(f,p),set:(f,p,g={})=>d.setItem(f,p,g),has:(f,p={})=>d.hasItem(f,p),del:(f,p={})=>d.removeItem(f,p),remove:(f,p={})=>d.removeItem(f,p)};return d}function YS(t,e,n){return t.watch?t.watch((r,s)=>e(r,n+s)):()=>{}}async function ZS(t){typeof t.dispose=="function"&&await Cn(t.dispose)}function kc(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function EI(t,e){let n;const r=()=>{if(n)return n;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),n=kc(s),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(s,a)=>r().then(c=>a(c.transaction(e,s).objectStore(e)))}let Vw;function Mf(){return Vw||(Vw=EI("keyval-store","keyval")),Vw}function QS(t,e=Mf()){return e("readonly",n=>kc(n.get(t)))}function iU(t,e,n=Mf()){return n("readwrite",r=>(r.put(e,t),kc(r.transaction)))}function aU(t,e=Mf()){return e("readwrite",n=>(n.delete(t),kc(n.transaction)))}function oU(t=Mf()){return t("readwrite",e=>(e.clear(),kc(e.transaction)))}function cU(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},kc(t.transaction)}function lU(t=Mf()){return t("readonly",e=>{if(e.getAllKeys)return kc(e.getAllKeys());const n=[];return cU(e,r=>n.push(r.key)).then(()=>n)})}const uU=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),dU=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function bc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return dU(t)}catch{return t}}function ea(t){return typeof t=="string"?t:uU(t)||""}const hU="idb-keyval";var fU=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=s=>e+s;let r;return t.dbName&&t.storeName&&(r=EI(t.dbName,t.storeName)),{name:hU,options:t,async hasItem(s){return!(typeof await QS(n(s),r)>"u")},async getItem(s){return await QS(n(s),r)??null},setItem(s,a){return iU(n(s),a,r)},removeItem(s){return aU(n(s),r)},getKeys(){return lU(r)},clear(){return oU(r)}}};const pU="WALLET_CONNECT_V2_INDEXED_DB",gU="keyvaluestorage";let mU=class{constructor(){this.indexedDb=sU({driver:fU({dbName:pU,storeName:gU})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,ea(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kg={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Gw<"u"&&Gw.localStorage?Kg.exports=Gw.localStorage:typeof window<"u"&&window.localStorage?Kg.exports=window.localStorage:Kg.exports=new e})();function yU(t){var e;return[t[0],bc((e=t[1])!=null?e:"")]}let bU=class{constructor(){this.localStorage=Kg.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(yU)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return bc(n)}async setItem(e,n){this.localStorage.setItem(e,ea(n))}async removeItem(e){this.localStorage.removeItem(e)}};const wU="wc_storage_version",XS=1,vU=async(t,e,n)=>{const r=wU,s=await e.getItem(r);if(s&&s>=XS){n(e);return}const a=await t.getKeys();if(!a.length){n(e);return}const c=[];for(;a.length;){const u=a.shift();if(!u)continue;const d=u.toLowerCase();if(d.includes("wc@")||d.includes("walletconnect")||d.includes("wc_")||d.includes("wallet_connect")){const f=await t.getItem(u);await e.setItem(u,f),c.push(u)}}await e.setItem(r,XS),n(e),EU(t,c)},EU=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let _U=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new bU;this.storage=e;try{const n=new mU;vU(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Ww,JS;function CU(){if(JS)return Ww;JS=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Ww=e;function e(n,r,s){var a=s&&s.stringify||t,c=1;if(typeof n=="object"&&n!==null){var u=r.length+c;if(u===1)return n;var d=new Array(u);d[0]=a(n);for(var f=1;f<u;f++)d[f]=a(r[f]);return d.join(" ")}if(typeof n!="string")return n;var p=r.length;if(p===0)return n;for(var g="",y=1-c,w=-1,v=n&&n.length||0,E=0;E<v;){if(n.charCodeAt(E)===37&&E+1<v){switch(w=w>-1?w:0,n.charCodeAt(E+1)){case 100:case 102:if(y>=p||r[y]==null)break;w<E&&(g+=n.slice(w,E)),g+=Number(r[y]),w=E+2,E++;break;case 105:if(y>=p||r[y]==null)break;w<E&&(g+=n.slice(w,E)),g+=Math.floor(Number(r[y])),w=E+2,E++;break;case 79:case 111:case 106:if(y>=p||r[y]===void 0)break;w<E&&(g+=n.slice(w,E));var _=typeof r[y];if(_==="string"){g+="'"+r[y]+"'",w=E+2,E++;break}if(_==="function"){g+=r[y].name||"<anonymous>",w=E+2,E++;break}g+=a(r[y]),w=E+2,E++;break;case 115:if(y>=p)break;w<E&&(g+=n.slice(w,E)),g+=String(r[y]),w=E+2,E++;break;case 37:w<E&&(g+=n.slice(w,E)),g+="%",w=E+2,E++,y--;break}++y}++E}return w===-1?n:(w<v&&(g+=n.slice(w)),g)}return Ww}var Kw,eT;function AU(){if(eT)return Kw;eT=1;const t=CU();Kw=s;const e=N().console||{},n={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:v,res:v,err:y};function r(A,I){return Array.isArray(A)?A.filter(function(x){return x!=="!stdSerializers.err"}):A===!0?Object.keys(I):!1}function s(A){A=A||{},A.browser=A.browser||{};const I=A.browser.transmit;if(I&&typeof I.send!="function")throw Error("pino: transmit option must have a send function");const k=A.browser.write||e;A.browser.write&&(A.browser.asObject=!0);const x=A.serializers||{},B=r(A.browser.serialize,x);let q=A.browser.serialize;Array.isArray(A.browser.serialize)&&A.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const X=["error","fatal","warn","info","debug","trace"];typeof k=="function"&&(k.error=k.fatal=k.warn=k.info=k.debug=k.trace=k),A.enabled===!1&&(A.level="silent");const se=A.level||"info",W=Object.create(k);W.log||(W.log=_),Object.defineProperty(W,"levelVal",{get:R}),Object.defineProperty(W,"level",{get:j,set:H});const M={transmit:I,serialize:B,asObject:A.browser.asObject,levels:X,timestamp:w(A)};W.levels=s.levels,W.level=se,W.setMaxListeners=W.getMaxListeners=W.emit=W.addListener=W.on=W.prependListener=W.once=W.prependOnceListener=W.removeListener=W.removeAllListeners=W.listeners=W.listenerCount=W.eventNames=W.write=W.flush=_,W.serializers=x,W._serialize=B,W._stdErrSerialize=q,W.child=V,I&&(W._logEvent=g());function R(){return this.level==="silent"?1/0:this.levels.values[this.level]}function j(){return this._level}function H(D){if(D!=="silent"&&!this.levels.values[D])throw Error("unknown level "+D);this._level=D,a(M,W,"error","log"),a(M,W,"fatal","error"),a(M,W,"warn","error"),a(M,W,"info","log"),a(M,W,"debug","log"),a(M,W,"trace","log")}function V(D,Y){if(!D)throw new Error("missing bindings for child Pino");Y=Y||{},B&&D.serializers&&(Y.serializers=D.serializers);const te=Y.serializers;if(B&&te){var ie=Object.assign({},x,te),ee=A.browser.serialize===!0?Object.keys(ie):B;delete D.serializers,d([D],ee,ie,this._stdErrSerialize)}function le(ge){this._childLevel=(ge._childLevel|0)+1,this.error=f(ge,D,"error"),this.fatal=f(ge,D,"fatal"),this.warn=f(ge,D,"warn"),this.info=f(ge,D,"info"),this.debug=f(ge,D,"debug"),this.trace=f(ge,D,"trace"),ie&&(this.serializers=ie,this._serialize=ee),I&&(this._logEvent=g([].concat(ge._logEvent.bindings,D)))}return le.prototype=this,new le(this)}return W}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:T,unixTime:O,isoTime:P});function a(A,I,k,x){const B=Object.getPrototypeOf(I);I[k]=I.levelVal>I.levels.values[k]?_:B[k]?B[k]:e[k]||e[x]||_,c(A,I,k)}function c(A,I,k){!A.transmit&&I[k]===_||(I[k]=function(x){return function(){const q=A.timestamp(),X=new Array(arguments.length),se=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var W=0;W<X.length;W++)X[W]=arguments[W];if(A.serialize&&!A.asObject&&d(X,this._serialize,this.serializers,this._stdErrSerialize),A.asObject?x.call(se,u(this,k,X,q)):x.apply(se,X),A.transmit){const M=A.transmit.level||I.level,R=s.levels.values[M],j=s.levels.values[k];if(j<R)return;p(this,{ts:q,methodLevel:k,methodValue:j,transmitValue:s.levels.values[A.transmit.level||I.level],send:A.transmit.send,val:I.levelVal},X)}}}(I[k]))}function u(A,I,k,x){A._serialize&&d(k,A._serialize,A.serializers,A._stdErrSerialize);const B=k.slice();let q=B[0];const X={};x&&(X.time=x),X.level=s.levels.values[I];let se=(A._childLevel|0)+1;if(se<1&&(se=1),q!==null&&typeof q=="object"){for(;se--&&typeof B[0]=="object";)Object.assign(X,B.shift());q=B.length?t(B.shift(),B):void 0}else typeof q=="string"&&(q=t(B.shift(),B));return q!==void 0&&(X.msg=q),X}function d(A,I,k,x){for(const B in A)if(x&&A[B]instanceof Error)A[B]=s.stdSerializers.err(A[B]);else if(typeof A[B]=="object"&&!Array.isArray(A[B]))for(const q in A[B])I&&I.indexOf(q)>-1&&q in k&&(A[B][q]=k[q](A[B][q]))}function f(A,I,k){return function(){const x=new Array(1+arguments.length);x[0]=I;for(var B=1;B<x.length;B++)x[B]=arguments[B-1];return A[k].apply(this,x)}}function p(A,I,k){const x=I.send,B=I.ts,q=I.methodLevel,X=I.methodValue,se=I.val,W=A._logEvent.bindings;d(k,A._serialize||Object.keys(A.serializers),A.serializers,A._stdErrSerialize===void 0?!0:A._stdErrSerialize),A._logEvent.ts=B,A._logEvent.messages=k.filter(function(M){return W.indexOf(M)===-1}),A._logEvent.level.label=q,A._logEvent.level.value=X,x(q,A._logEvent,se),A._logEvent=g(W)}function g(A){return{ts:0,messages:[],bindings:A||[],level:{label:"",value:0}}}function y(A){const I={type:A.constructor.name,msg:A.message,stack:A.stack};for(const k in A)I[k]===void 0&&(I[k]=A[k]);return I}function w(A){return typeof A.timestamp=="function"?A.timestamp:A.timestamp===!1?S:T}function v(){return{}}function E(A){return A}function _(){}function S(){return!1}function T(){return Date.now()}function O(){return Math.round(Date.now()/1e3)}function P(){return new Date(Date.now()).toISOString()}function N(){function A(I){return typeof I<"u"&&I}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return A(self)||A(window)||A(this)||{}}}return Kw}var Vl=AU();const kf=Du(Vl),SU={level:"info"},Bf="custom_context",LE=1e3*1024;let TU=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},tT=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new TU(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},_I=class{constructor(e,n=LE){this.level=e??"error",this.levelValue=Vl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new tT(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Vl.levels.values.error?console.error(e):n===Vl.levels.values.warn?console.warn(e):n===Vl.levels.values.debug?console.debug(e):n===Vl.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(ea({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new tT(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(ea({extraMetadata:e})),new Blob(n,{type:"application/json"})}},NU=class{constructor(e,n=LE){this.baseChunkLogger=new _I(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},OU=class{constructor(e,n=LE){this.baseChunkLogger=new _I(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var IU=Object.defineProperty,RU=Object.defineProperties,xU=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,PU=Object.prototype.hasOwnProperty,DU=Object.prototype.propertyIsEnumerable,rT=(t,e,n)=>e in t?IU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,um=(t,e)=>{for(var n in e||(e={}))PU.call(e,n)&&rT(t,n,e[n]);if(nT)for(var n of nT(e))DU.call(e,n)&&rT(t,n,e[n]);return t},dm=(t,e)=>RU(t,xU(e));function ku(t){return dm(um({},t),{level:(t==null?void 0:t.level)||SU.level})}function $U(t,e=Bf){return t[e]||""}function UU(t,e,n=Bf){return t[n]=e,t}function Ar(t,e=Bf){let n="";return typeof t.bindings>"u"?n=$U(t,e):n=t.bindings().context||"",n}function MU(t,e,n=Bf){const r=Ar(t,n);return r.trim()?`${r}/${e}`:e}function Qn(t,e,n=Bf){const r=MU(t,e,n),s=t.child({context:r});return UU(s,r,n)}function kU(t){var e,n;const r=new NU((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:kf(dm(um({},t.opts),{level:"trace",browser:dm(um({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function BU(t){var e;const n=new OU((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:kf(dm(um({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function jE(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?kU(t):BU(t)}var LU=Object.defineProperty,jU=(t,e,n)=>e in t?LU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sT=(t,e,n)=>jU(t,typeof e!="symbol"?e+"":e,n);let zU=class extends Mc{constructor(e){super(),this.opts=e,sT(this,"protocol","wc"),sT(this,"version",2)}};var FU=Object.defineProperty,qU=(t,e,n)=>e in t?FU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HU=(t,e,n)=>qU(t,e+"",n);let VU=class extends Mc{constructor(e,n){super(),this.core=e,this.logger=n,HU(this,"records",new Map)}},GU=class{constructor(e,n){this.logger=e,this.core=n}},WU=class extends Mc{constructor(e,n){super(),this.relayer=e,this.logger=n}},KU=class extends Mc{constructor(e){super()}},YU=class{constructor(e,n,r,s){this.core=e,this.logger=n,this.name=r}},ZU=class extends Mc{constructor(e,n){super(),this.relayer=e,this.logger=n}},QU=class extends Mc{constructor(e,n){super(),this.core=e,this.logger=n}},XU=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},JU=class{constructor(e,n){this.projectId=e,this.logger=n}},e6=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var t6=Object.defineProperty,n6=(t,e,n)=>e in t?t6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iT=(t,e,n)=>n6(t,typeof e!="symbol"?e+"":e,n);let r6=class{constructor(e){this.opts=e,iT(this,"protocol","wc"),iT(this,"version",2)}},s6=class{constructor(e){this.client=e}};function i6(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function CI(t,...e){if(!i6(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a6(t,e){CI(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Tl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yw=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function o6(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function AI(t){return typeof t=="string"&&(t=o6(t)),CI(t),t}let c6=class{clone(){return this._cloneInto()}};function l6(t){const e=r=>t().update(AI(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function SI(t=32){if(Tl&&typeof Tl.getRandomValues=="function")return Tl.getRandomValues(new Uint8Array(t));if(Tl&&typeof Tl.randomBytes=="function")return Tl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function u6(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a),d=r?4:0,f=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+f,u,r)}let d6=class extends c6{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Yw(this.buffer)}update(e){aT(this);const{view:n,buffer:r,blockLen:s}=this;e=AI(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const d=Yw(e);for(;s<=a-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){aT(this),a6(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;u6(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=Yw(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}};const _g=BigInt(2**32-1),hv=BigInt(32);function TI(t,e=!1){return e?{h:Number(t&_g),l:Number(t>>hv&_g)}:{h:Number(t>>hv&_g)|0,l:Number(t&_g)|0}}function h6(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=TI(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const f6=(t,e)=>BigInt(t>>>0)<<hv|BigInt(e>>>0),p6=(t,e,n)=>t>>>n,g6=(t,e,n)=>t<<32-n|e>>>n,m6=(t,e,n)=>t>>>n|e<<32-n,y6=(t,e,n)=>t<<32-n|e>>>n,b6=(t,e,n)=>t<<64-n|e>>>n-32,w6=(t,e,n)=>t>>>n-32|e<<64-n,v6=(t,e)=>e,E6=(t,e)=>t,_6=(t,e,n)=>t<<n|e>>>32-n,C6=(t,e,n)=>e<<n|t>>>32-n,A6=(t,e,n)=>e<<n-32|t>>>64-n,S6=(t,e,n)=>t<<n-32|e>>>64-n;function T6(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const N6=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),O6=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,I6=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),R6=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,x6=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),P6=(t,e,n,r,s,a)=>e+n+r+s+a+(t/2**32|0)|0,Qe={fromBig:TI,split:h6,toBig:f6,shrSH:p6,shrSL:g6,rotrSH:m6,rotrSL:y6,rotrBH:b6,rotrBL:w6,rotr32H:v6,rotr32L:E6,rotlSH:_6,rotlSL:C6,rotlBH:A6,rotlBL:S6,add:T6,add3L:N6,add3H:O6,add4L:I6,add4H:R6,add5H:P6,add5L:x6},[D6,$6]=Qe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ra=new Uint32Array(80),xa=new Uint32Array(80);let U6=class extends d6{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:a,Cl:c,Dh:u,Dl:d,Eh:f,El:p,Fh:g,Fl:y,Gh:w,Gl:v,Hh:E,Hl:_}=this;return[e,n,r,s,a,c,u,d,f,p,g,y,w,v,E,_]}set(e,n,r,s,a,c,u,d,f,p,g,y,w,v,E,_){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=d|0,this.Eh=f|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=w|0,this.Gl=v|0,this.Hh=E|0,this.Hl=_|0}process(e,n){for(let O=0;O<16;O++,n+=4)Ra[O]=e.getUint32(n),xa[O]=e.getUint32(n+=4);for(let O=16;O<80;O++){const P=Ra[O-15]|0,N=xa[O-15]|0,A=Qe.rotrSH(P,N,1)^Qe.rotrSH(P,N,8)^Qe.shrSH(P,N,7),I=Qe.rotrSL(P,N,1)^Qe.rotrSL(P,N,8)^Qe.shrSL(P,N,7),k=Ra[O-2]|0,x=xa[O-2]|0,B=Qe.rotrSH(k,x,19)^Qe.rotrBH(k,x,61)^Qe.shrSH(k,x,6),q=Qe.rotrSL(k,x,19)^Qe.rotrBL(k,x,61)^Qe.shrSL(k,x,6),X=Qe.add4L(I,q,xa[O-7],xa[O-16]),se=Qe.add4H(X,A,B,Ra[O-7],Ra[O-16]);Ra[O]=se|0,xa[O]=X|0}let{Ah:r,Al:s,Bh:a,Bl:c,Ch:u,Cl:d,Dh:f,Dl:p,Eh:g,El:y,Fh:w,Fl:v,Gh:E,Gl:_,Hh:S,Hl:T}=this;for(let O=0;O<80;O++){const P=Qe.rotrSH(g,y,14)^Qe.rotrSH(g,y,18)^Qe.rotrBH(g,y,41),N=Qe.rotrSL(g,y,14)^Qe.rotrSL(g,y,18)^Qe.rotrBL(g,y,41),A=g&w^~g&E,I=y&v^~y&_,k=Qe.add5L(T,N,I,$6[O],xa[O]),x=Qe.add5H(k,S,P,A,D6[O],Ra[O]),B=k|0,q=Qe.rotrSH(r,s,28)^Qe.rotrBH(r,s,34)^Qe.rotrBH(r,s,39),X=Qe.rotrSL(r,s,28)^Qe.rotrBL(r,s,34)^Qe.rotrBL(r,s,39),se=r&a^r&u^a&u,W=s&c^s&d^c&d;S=E|0,T=_|0,E=w|0,_=v|0,w=g|0,v=y|0,{h:g,l:y}=Qe.add(f|0,p|0,x|0,B|0),f=u|0,p=d|0,u=a|0,d=c|0,a=r|0,c=s|0;const M=Qe.add3L(B,X,W);r=Qe.add3H(M,x,q,se),s=M|0}({h:r,l:s}=Qe.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:a,l:c}=Qe.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:d}=Qe.add(this.Ch|0,this.Cl|0,u|0,d|0),{h:f,l:p}=Qe.add(this.Dh|0,this.Dl|0,f|0,p|0),{h:g,l:y}=Qe.add(this.Eh|0,this.El|0,g|0,y|0),{h:w,l:v}=Qe.add(this.Fh|0,this.Fl|0,w|0,v|0),{h:E,l:_}=Qe.add(this.Gh|0,this.Gl|0,E|0,_|0),{h:S,l:T}=Qe.add(this.Hh|0,this.Hl|0,S|0,T|0),this.set(r,s,a,c,u,d,f,p,g,y,w,v,E,_,S,T)}roundClean(){Ra.fill(0),xa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const M6=l6(()=>new U6);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zE=BigInt(0),NI=BigInt(1),k6=BigInt(2);function FE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qE(t){if(!FE(t))throw new Error("Uint8Array expected")}function Zw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const B6=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function HE(t){qE(t);let e="";for(let n=0;n<t.length;n++)e+=B6[t[n]];return e}function OI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?zE:BigInt("0x"+t)}const $i={_0:48,_9:57,A:65,F:70,a:97,f:102};function oT(t){if(t>=$i._0&&t<=$i._9)return t-$i._0;if(t>=$i.A&&t<=$i.F)return t-($i.A-10);if(t>=$i.a&&t<=$i.f)return t-($i.a-10)}function II(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const c=oT(t.charCodeAt(a)),u=oT(t.charCodeAt(a+1));if(c===void 0||u===void 0){const d=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+a)}r[s]=c*16+u}return r}function L6(t){return OI(HE(t))}function Yg(t){return qE(t),OI(HE(Uint8Array.from(t).reverse()))}function RI(t,e){return II(t.toString(16).padStart(e*2,"0"))}function fv(t,e){return RI(t,e).reverse()}function Ui(t,e,n){let r;if(typeof e=="string")try{r=II(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(FE(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function cT(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];qE(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}const Qw=t=>typeof t=="bigint"&&zE<=t;function j6(t,e,n){return Qw(t)&&Qw(e)&&Qw(n)&&e<=t&&t<n}function eh(t,e,n,r){if(!j6(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function z6(t){let e;for(e=0;t>zE;t>>=NI,e+=1);return e}const F6=t=>(k6<<BigInt(t-1))-NI,q6={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||FE(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function VE(t,e,n={}){const r=(s,a,c)=>{const u=q6[a];if(typeof u!="function")throw new Error("invalid validator function");const d=t[s];if(!(c&&d===void 0)&&!u(d,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+d)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}function lT(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}const On=BigInt(0),Jt=BigInt(1),Ko=BigInt(2),H6=BigInt(3),pv=BigInt(4),uT=BigInt(5),dT=BigInt(8);function fn(t,e){const n=t%e;return n>=On?n:e+n}function V6(t,e,n){if(e<On)throw new Error("invalid exponent, negatives unsupported");if(n<=On)throw new Error("invalid modulus");if(n===Jt)return On;let r=Jt;for(;e>On;)e&Jt&&(r=r*t%n),t=t*t%n,e>>=Jt;return r}function Gs(t,e,n){let r=t;for(;e-- >On;)r*=r,r%=n;return r}function hT(t,e){if(t===On)throw new Error("invert: expected non-zero number");if(e<=On)throw new Error("invert: expected positive modulus, got "+e);let n=fn(t,e),r=e,s=On,a=Jt;for(;n!==On;){const c=r/n,u=r%n,d=s-a*c;r=n,n=u,s=a,a=d}if(r!==Jt)throw new Error("invert: does not exist");return fn(s,e)}function G6(t){const e=(t-Jt)/Ko;let n,r,s;for(n=t-Jt,r=0;n%Ko===On;n/=Ko,r++);for(s=Ko;s<t&&V6(s,e,t)!==t-Jt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(t+Jt)/pv;return function(u,d){const f=u.pow(d,c);if(!u.eql(u.sqr(f),d))throw new Error("Cannot find square root");return f}}const a=(n+Jt)/Ko;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=r,f=c.pow(c.mul(c.ONE,s),n),p=c.pow(u,a),g=c.pow(u,n);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let y=1;for(let v=c.sqr(g);y<d&&!c.eql(v,c.ONE);y++)v=c.sqr(v);const w=c.pow(f,Jt<<BigInt(d-y-1));f=c.sqr(w),p=c.mul(p,w),g=c.mul(g,f),d=y}return p}}function W6(t){if(t%pv===H6){const e=(t+Jt)/pv;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%dT===uT){const e=(t-uT)/dT;return function(n,r){const s=n.mul(r,Ko),a=n.pow(s,e),c=n.mul(r,a),u=n.mul(n.mul(c,Ko),a),d=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}}return G6(t)}const K6=(t,e)=>(fn(t,e)&Jt)===Jt,Y6=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Z6(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Y6.reduce((r,s)=>(r[s]="function",r),e);return VE(t,n)}function Q6(t,e,n){if(n<On)throw new Error("invalid exponent, negatives unsupported");if(n===On)return t.ONE;if(n===Jt)return e;let r=t.ONE,s=e;for(;n>On;)n&Jt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Jt;return r}function X6(t,e){const n=new Array(e.length),r=e.reduce((a,c,u)=>t.is0(c)?a:(n[u]=a,t.mul(a,c)),t.ONE),s=t.inv(r);return e.reduceRight((a,c,u)=>t.is0(c)?a:(n[u]=t.mul(a,n[u]),t.mul(a,c)),s),n}function xI(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function PI(t,e,n=!1,r={}){if(t<=On)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=xI(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:F6(s),ZERO:On,ONE:Jt,create:d=>fn(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return On<=d&&d<t},is0:d=>d===On,isOdd:d=>(d&Jt)===Jt,neg:d=>fn(-d,t),eql:(d,f)=>d===f,sqr:d=>fn(d*d,t),add:(d,f)=>fn(d+f,t),sub:(d,f)=>fn(d-f,t),mul:(d,f)=>fn(d*f,t),pow:(d,f)=>Q6(u,d,f),div:(d,f)=>fn(d*hT(f,t),t),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>hT(d,t),sqrt:r.sqrt||(d=>(c||(c=W6(t)),c(u,d))),invertBatch:d=>X6(u,d),cmov:(d,f,p)=>p?f:d,toBytes:d=>n?fv(d,a):RI(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?Yg(d):L6(d)}});return Object.freeze(u)}const fT=BigInt(0),Cg=BigInt(1);function Xw(t,e){const n=e.negate();return t?n:e}function DI(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Jw(t,e){DI(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function J6(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function eM(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const e0=new WeakMap,$I=new WeakMap;function t0(t){return $I.get(t)||1}function tM(t,e){return{constTimeNegate:Xw,hasPrecomputes(n){return t0(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>fT;)r&Cg&&(s=s.add(a)),a=a.double(),r>>=Cg;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=Jw(r,e),c=[];let u=n,d=u;for(let f=0;f<s;f++){d=u,c.push(d);for(let p=1;p<a;p++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(n,r,s){const{windows:a,windowSize:c}=Jw(n,e);let u=t.ZERO,d=t.BASE;const f=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let y=0;y<a;y++){const w=y*c;let v=Number(s&f);s>>=g,v>c&&(v-=p,s+=Cg);const E=w,_=w+Math.abs(v)-1,S=y%2!==0,T=v<0;v===0?d=d.add(Xw(S,r[E])):u=u.add(Xw(T,r[_]))}return{p:u,f:d}},wNAFUnsafe(n,r,s,a=t.ZERO){const{windows:c,windowSize:u}=Jw(n,e),d=BigInt(2**n-1),f=2**n,p=BigInt(n);for(let g=0;g<c;g++){const y=g*u;if(s===fT)break;let w=Number(s&d);if(s>>=p,w>u&&(w-=f,s+=Cg),w===0)continue;let v=r[y+Math.abs(w)-1];w<0&&(v=v.negate()),a=a.add(v)}return a},getPrecomputes(n,r,s){let a=e0.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&e0.set(r,s(a))),a},wNAFCached(n,r,s){const a=t0(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const c=t0(n);return c===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,a)},setWindowSize(n,r){DI(r,e),$I.set(n,r),e0.delete(n)}}}function nM(t,e,n,r){if(J6(n,t),eM(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=z6(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,d=new Array(u+1).fill(s),f=Math.floor((e.BITS-1)/c)*c;let p=s;for(let g=f;g>=0;g-=c){d.fill(s);for(let w=0;w<r.length;w++){const v=r[w],E=Number(v>>BigInt(g)&BigInt(u));d[E]=d[E].add(n[w])}let y=s;for(let w=d.length-1,v=s;w>0;w--)v=v.add(d[w]),y=y.add(v);if(p=p.add(y),g!==0)for(let w=0;w<c;w++)p=p.double()}return p}function rM(t){return Z6(t.Fp),VE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xI(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Cs=BigInt(0),hr=BigInt(1),Ag=BigInt(2),sM=BigInt(8),iM={zip215:!0};function aM(t){const e=rM(t);return VE(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function oM(t){const e=aM(t),{Fp:n,n:r,prehash:s,hash:a,randomBytes:c,nByteLength:u,h:d}=e,f=Ag<<BigInt(u*8)-hr,p=n.create,g=PI(e.n,e.nBitLength),y=e.uvRatio||((M,R)=>{try{return{isValid:!0,value:n.sqrt(M*n.inv(R))}}catch{return{isValid:!1,value:Cs}}}),w=e.adjustScalarBytes||(M=>M),v=e.domain||((M,R,j)=>{if(Zw("phflag",j),R.length||j)throw new Error("Contexts/pre-hash are not supported");return M});function E(M,R){eh("coordinate "+M,R,Cs,f)}function _(M){if(!(M instanceof O))throw new Error("ExtendedPoint expected")}const S=lT((M,R)=>{const{ex:j,ey:H,ez:V}=M,D=M.is0();R==null&&(R=D?sM:n.inv(V));const Y=p(j*R),te=p(H*R),ie=p(V*R);if(D)return{x:Cs,y:hr};if(ie!==hr)throw new Error("invZ was invalid");return{x:Y,y:te}}),T=lT(M=>{const{a:R,d:j}=e;if(M.is0())throw new Error("bad point: ZERO");const{ex:H,ey:V,ez:D,et:Y}=M,te=p(H*H),ie=p(V*V),ee=p(D*D),le=p(ee*ee),ge=p(te*R),He=p(ee*p(ge+ie)),Ne=p(le+p(j*p(te*ie)));if(He!==Ne)throw new Error("bad point: equation left != right (1)");const Re=p(H*V),We=p(D*Y);if(Re!==We)throw new Error("bad point: equation left != right (2)");return!0});class O{constructor(R,j,H,V){this.ex=R,this.ey=j,this.ez=H,this.et=V,E("x",R),E("y",j),E("z",H),E("t",V),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof O)throw new Error("extended point not allowed");const{x:j,y:H}=R||{};return E("x",j),E("y",H),new O(j,H,hr,p(j*H))}static normalizeZ(R){const j=n.invertBatch(R.map(H=>H.ez));return R.map((H,V)=>H.toAffine(j[V])).map(O.fromAffine)}static msm(R,j){return nM(O,g,R,j)}_setWindowSize(R){A.setWindowSize(this,R)}assertValidity(){T(this)}equals(R){_(R);const{ex:j,ey:H,ez:V}=this,{ex:D,ey:Y,ez:te}=R,ie=p(j*te),ee=p(D*V),le=p(H*te),ge=p(Y*V);return ie===ee&&le===ge}is0(){return this.equals(O.ZERO)}negate(){return new O(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:R}=e,{ex:j,ey:H,ez:V}=this,D=p(j*j),Y=p(H*H),te=p(Ag*p(V*V)),ie=p(R*D),ee=j+H,le=p(p(ee*ee)-D-Y),ge=ie+Y,He=ge-te,Ne=ie-Y,Re=p(le*He),We=p(ge*Ne),_t=p(le*Ne),Zt=p(He*ge);return new O(Re,We,Zt,_t)}add(R){_(R);const{a:j,d:H}=e,{ex:V,ey:D,ez:Y,et:te}=this,{ex:ie,ey:ee,ez:le,et:ge}=R;if(j===BigInt(-1)){const zc=p((D-V)*(ee+ie)),Fc=p((D+V)*(ee-ie)),mo=p(Fc-zc);if(mo===Cs)return this.double();const np=p(Y*Ag*ge),rp=p(te*Ag*le),Tr=rp+np,sp=Fc+zc,Zu=rp-np,ip=p(Tr*mo),qc=p(sp*Zu),Cy=p(Tr*Zu),ap=p(mo*sp);return new O(ip,qc,ap,Cy)}const He=p(V*ie),Ne=p(D*ee),Re=p(te*H*ge),We=p(Y*le),_t=p((V+D)*(ie+ee)-He-Ne),Zt=We-Re,Qt=We+Re,Rn=p(Ne-j*He),bs=p(_t*Zt),sa=p(Qt*Rn),Yu=p(_t*Rn),jc=p(Zt*Qt);return new O(bs,sa,jc,Yu)}subtract(R){return this.add(R.negate())}wNAF(R){return A.wNAFCached(this,R,O.normalizeZ)}multiply(R){const j=R;eh("scalar",j,hr,r);const{p:H,f:V}=this.wNAF(j);return O.normalizeZ([H,V])[0]}multiplyUnsafe(R,j=O.ZERO){const H=R;return eh("scalar",H,Cs,r),H===Cs?N:this.is0()||H===hr?this:A.wNAFCachedUnsafe(this,H,O.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(d).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(R){return S(this,R)}clearCofactor(){const{h:R}=e;return R===hr?this:this.multiplyUnsafe(R)}static fromHex(R,j=!1){const{d:H,a:V}=e,D=n.BYTES;R=Ui("pointHex",R,D),Zw("zip215",j);const Y=R.slice(),te=R[D-1];Y[D-1]=te&-129;const ie=Yg(Y),ee=j?f:n.ORDER;eh("pointHex.y",ie,Cs,ee);const le=p(ie*ie),ge=p(le-hr),He=p(H*le-V);let{isValid:Ne,value:Re}=y(ge,He);if(!Ne)throw new Error("Point.fromHex: invalid y coordinate");const We=(Re&hr)===hr,_t=(te&128)!==0;if(!j&&Re===Cs&&_t)throw new Error("Point.fromHex: x=0 and x_0=1");return _t!==We&&(Re=p(-Re)),O.fromAffine({x:Re,y:ie})}static fromPrivateKey(R){return x(R).point}toRawBytes(){const{x:R,y:j}=this.toAffine(),H=fv(j,n.BYTES);return H[H.length-1]|=R&hr?128:0,H}toHex(){return HE(this.toRawBytes())}}O.BASE=new O(e.Gx,e.Gy,hr,p(e.Gx*e.Gy)),O.ZERO=new O(Cs,hr,hr,Cs);const{BASE:P,ZERO:N}=O,A=tM(O,u*8);function I(M){return fn(M,r)}function k(M){return I(Yg(M))}function x(M){const R=n.BYTES;M=Ui("private key",M,R);const j=Ui("hashed private key",a(M),2*R),H=w(j.slice(0,R)),V=j.slice(R,2*R),D=k(H),Y=P.multiply(D),te=Y.toRawBytes();return{head:H,prefix:V,scalar:D,point:Y,pointBytes:te}}function B(M){return x(M).pointBytes}function q(M=new Uint8Array,...R){const j=cT(...R);return k(a(v(j,Ui("context",M),!!s)))}function X(M,R,j={}){M=Ui("message",M),s&&(M=s(M));const{prefix:H,scalar:V,pointBytes:D}=x(R),Y=q(j.context,H,M),te=P.multiply(Y).toRawBytes(),ie=q(j.context,te,D,M),ee=I(Y+ie*V);eh("signature.s",ee,Cs,r);const le=cT(te,fv(ee,n.BYTES));return Ui("result",le,n.BYTES*2)}const se=iM;function W(M,R,j,H=se){const{context:V,zip215:D}=H,Y=n.BYTES;M=Ui("signature",M,2*Y),R=Ui("message",R),j=Ui("publicKey",j,Y),D!==void 0&&Zw("zip215",D),s&&(R=s(R));const te=Yg(M.slice(Y,2*Y));let ie,ee,le;try{ie=O.fromHex(j,D),ee=O.fromHex(M.slice(0,Y),D),le=P.multiplyUnsafe(te)}catch{return!1}if(!D&&ie.isSmallOrder())return!1;const ge=q(V,ee.toRawBytes(),ie.toRawBytes(),R);return ee.add(ie.multiplyUnsafe(ge)).subtract(le).clearCofactor().equals(O.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:X,verify:W,ExtendedPoint:O,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>c(n.BYTES),precompute(M=8,R=O.BASE){return R._setWindowSize(M),R.multiply(BigInt(3)),R}}}}BigInt(0),BigInt(1);const GE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),pT=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const cM=BigInt(1),gT=BigInt(2);BigInt(3);const lM=BigInt(5),uM=BigInt(8);function dM(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),a=GE,c=t*t%a*t%a,u=Gs(c,gT,a)*c%a,d=Gs(u,cM,a)*t%a,f=Gs(d,lM,a)*d%a,p=Gs(f,e,a)*f%a,g=Gs(p,n,a)*p%a,y=Gs(g,r,a)*g%a,w=Gs(y,s,a)*y%a,v=Gs(w,s,a)*y%a,E=Gs(v,e,a)*f%a;return{pow_p_5_8:Gs(E,gT,a)*t%a,b2:c}}function hM(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function fM(t,e){const n=GE,r=fn(e*e*e,n),s=fn(r*r*e,n),a=dM(t*s).pow_p_5_8;let c=fn(t*r*a,n);const u=fn(e*c*c,n),d=c,f=fn(c*pT,n),p=u===t,g=u===fn(-t,n),y=u===fn(-t*pT,n);return p&&(c=d),(g||y)&&(c=f),K6(c,n)&&(c=fn(-c,n)),{isValid:p||g,value:c}}const pM=PI(GE,void 0,!0),gM={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:pM,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:uM,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:M6,randomBytes:SI,adjustScalarBytes:hM,uvRatio:fM},UI=oM(gM),mM="EdDSA",yM="JWT",hm=".",Vm="base64url",MI="utf8",kI="utf8",bM=":",wM="did",vM="key",mT="base58btc",EM="z",_M="K36",CM=32;function WE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function BI(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?WE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function LI(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const n=BI(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return WE(n)}function AM(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var u=t.length,d=t.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,_=0,S=0,T=v.length;S!==T&&v[S]===0;)S++,E++;for(var O=(T-S)*p+1>>>0,P=new Uint8Array(O);S!==T;){for(var N=v[S],A=0,I=O-1;(N!==0||A<_)&&I!==-1;I--,A++)N+=256*P[I]>>>0,P[I]=N%u>>>0,N=N/u>>>0;if(N!==0)throw new Error("Non-zero carry");_=A,S++}for(var k=O-_;k!==O&&P[k]===0;)k++;for(var x=d.repeat(E);k<O;++k)x+=t.charAt(P[k]);return x}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var _=0,S=0;v[E]===d;)_++,E++;for(var T=(v.length-E)*f+1>>>0,O=new Uint8Array(T);v[E];){var P=n[v.charCodeAt(E)];if(P===255)return;for(var N=0,A=T-1;(P!==0||N<S)&&A!==-1;A--,N++)P+=u*O[A]>>>0,O[A]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=N,E++}if(v[E]!==" "){for(var I=T-S;I!==T&&O[I]===0;)I++;for(var k=new Uint8Array(_+(T-I)),x=_;I!==T;)k[x++]=O[I++];return k}}}function w(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:w}}var SM=AM,TM=SM;const jI=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},NM=t=>new TextEncoder().encode(t),OM=t=>new TextDecoder().decode(t);let IM=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},RM=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return zI(this,e)}},xM=class{constructor(e){this.decoders=e}or(e){return zI(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const zI=(t,e)=>new xM({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let PM=class{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new IM(e,n,r),this.decoder=new RM(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Gm=({name:t,prefix:e,encode:n,decode:r})=>new PM(t,e,n,r),Lf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=TM(n,e);return Gm({prefix:t,name:e,encode:r,decode:a=>jI(s(a))})},DM=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,d=0,f=0;for(let p=0;p<a;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|g,u+=n,u>=8&&(u-=8,c[f++]=255&d>>u)}if(u>=n||255&d<<8-u)throw new SyntaxError("Unexpected end of data");return c},$M=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,u=0;for(let d=0;d<t.length;++d)for(u=u<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&u>>c];if(c&&(a+=e[s&u<<n-c]),r)for(;a.length*n&7;)a+="=";return a},jn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Gm({prefix:e,name:t,encode(s){return $M(s,r,n)},decode(s){return DM(s,r,n,t)}}),UM=Gm({prefix:"\0",name:"identity",encode:t=>OM(t),decode:t=>NM(t)});var MM=Object.freeze({__proto__:null,identity:UM});const kM=jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var BM=Object.freeze({__proto__:null,base2:kM});const LM=jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var jM=Object.freeze({__proto__:null,base8:LM});const zM=Lf({prefix:"9",name:"base10",alphabet:"0123456789"});var FM=Object.freeze({__proto__:null,base10:zM});const qM=jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),HM=jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var VM=Object.freeze({__proto__:null,base16:qM,base16upper:HM});const GM=jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),WM=jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),KM=jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),YM=jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ZM=jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),QM=jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),XM=jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),JM=jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ek=jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tk=Object.freeze({__proto__:null,base32:GM,base32upper:WM,base32pad:KM,base32padupper:YM,base32hex:ZM,base32hexupper:QM,base32hexpad:XM,base32hexpadupper:JM,base32z:ek});const nk=Lf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rk=Lf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var sk=Object.freeze({__proto__:null,base36:nk,base36upper:rk});const ik=Lf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ak=Lf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ok=Object.freeze({__proto__:null,base58btc:ik,base58flickr:ak});const ck=jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lk=jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),uk=jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dk=jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hk=Object.freeze({__proto__:null,base64:ck,base64pad:lk,base64url:uk,base64urlpad:dk});const FI=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),fk=FI.reduce((t,e,n)=>(t[n]=e,t),[]),pk=FI.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function gk(t){return t.reduce((e,n)=>(e+=fk[n],e),"")}function mk(t){const e=[];for(const n of t){const r=pk[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const yk=Gm({prefix:"🚀",name:"base256emoji",encode:gk,decode:mk});var bk=Object.freeze({__proto__:null,base256emoji:yk}),wk=qI,yT=128,vk=-128,Ek=Math.pow(2,31);function qI(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Ek;)e[n++]=t&255|yT,t/=128;for(;t&vk;)e[n++]=t&255|yT,t>>>=7;return e[n]=t|0,qI.bytes=n-r+1,e}var _k=gv,Ck=128,bT=127;function gv(t,r){var n=0,r=r||0,s=0,a=r,c,u=t.length;do{if(a>=u)throw gv.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&bT)<<s:(c&bT)*Math.pow(2,s),s+=7}while(c>=Ck);return gv.bytes=a-r,n}var Ak=Math.pow(2,7),Sk=Math.pow(2,14),Tk=Math.pow(2,21),Nk=Math.pow(2,28),Ok=Math.pow(2,35),Ik=Math.pow(2,42),Rk=Math.pow(2,49),xk=Math.pow(2,56),Pk=Math.pow(2,63),Dk=function(t){return t<Ak?1:t<Sk?2:t<Tk?3:t<Nk?4:t<Ok?5:t<Ik?6:t<Rk?7:t<xk?8:t<Pk?9:10},$k={encode:wk,decode:_k,encodingLength:Dk},HI=$k;const wT=(t,e,n=0)=>(HI.encode(t,e,n),e),vT=t=>HI.encodingLength(t),mv=(t,e)=>{const n=e.byteLength,r=vT(t),s=r+vT(n),a=new Uint8Array(s+n);return wT(t,a,0),wT(n,a,r),a.set(e,s),new Uk(t,n,e,a)};let Uk=class{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}};const VI=({name:t,code:e,encode:n})=>new Mk(t,e,n);let Mk=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?mv(this.code,n):n.then(r=>mv(this.code,r))}else throw Error("Unknown type, must be binary type")}};const GI=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),kk=VI({name:"sha2-256",code:18,encode:GI("SHA-256")}),Bk=VI({name:"sha2-512",code:19,encode:GI("SHA-512")});var Lk=Object.freeze({__proto__:null,sha256:kk,sha512:Bk});const WI=0,jk="identity",KI=jI,zk=t=>mv(WI,KI(t)),Fk={code:WI,name:jk,encode:KI,digest:zk};var qk=Object.freeze({__proto__:null,identity:Fk});new TextEncoder,new TextDecoder;const ET={...MM,...BM,...jM,...FM,...VM,...tk,...sk,...ok,...hk,...bk};({...Lk,...qk});function YI(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const _T=YI("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),n0=YI("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=BI(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ZI={utf8:_T,"utf-8":_T,hex:ET.base16,latin1:n0,ascii:n0,binary:n0,...ET};function Wm(t,e="utf8"){const n=ZI[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Bu(t,e="utf8"){const n=ZI[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?WE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function CT(t){return bc(Wm(Bu(t,Vm),MI))}function fm(t){return Wm(Bu(ea(t),MI),Vm)}function QI(t){const e=Bu(_M,mT),n=EM+Wm(LI([e,t]),mT);return[wM,vM,n].join(bM)}function Hk(t){return Wm(t,Vm)}function Vk(t){return Bu(t,Vm)}function Gk(t){return Bu([fm(t.header),fm(t.payload)].join(hm),kI)}function Wk(t){return[fm(t.header),fm(t.payload),Hk(t.signature)].join(hm)}function yv(t){const e=t.split(hm),n=CT(e[0]),r=CT(e[1]),s=Vk(e[2]),a=Bu(e.slice(0,2).join(hm),kI);return{header:n,payload:r,signature:s,data:a}}function AT(t=SI(CM)){const e=UI.getPublicKey(t);return{secretKey:LI([t,e]),publicKey:e}}async function Kk(t,e,n,r,s=pe.fromMiliseconds(Date.now())){const a={alg:mM,typ:yM},c=QI(r.publicKey),u=s+n,d={iss:c,sub:t,aud:e,iat:s,exp:u},f=Gk({header:a,payload:d}),p=UI.sign(f,r.secretKey.slice(0,32));return Wk({header:a,payload:d,signature:p})}var ST=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Yk=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Zk=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Qk=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),Xk=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Jk=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),e4=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,t4=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,TT=3,n4=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e4]],NT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function r4(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Jk:typeof navigator<"u"?i4(navigator.userAgent):o4()}function s4(t){return t!==""&&n4.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var a=s.exec(t);return!!a&&[r,a]},!1)}function i4(t){var e=s4(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Xk;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<TT&&(s=ST(ST([],s,!0),c4(TT-s.length),!0)):s=[];var a=s.join("."),c=a4(t),u=t4.exec(t);return u&&u[1]?new Qk(n,a,c,u[1]):new Yk(n,a,c)}function a4(t){for(var e=0,n=NT.length;e<n;e++){var r=NT[e],s=r[0],a=r[1],c=a.exec(t);if(c)return s}return null}function o4(){var t=typeof process<"u"&&process.version;return t?new Zk(process.version.slice(1)):null}function c4(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Ot={},OT;function XI(){if(OT)return Ot;OT=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.getLocalStorage=Ot.getLocalStorageOrThrow=Ot.getCrypto=Ot.getCryptoOrThrow=Ot.getLocation=Ot.getLocationOrThrow=Ot.getNavigator=Ot.getNavigatorOrThrow=Ot.getDocument=Ot.getDocumentOrThrow=Ot.getFromWindowOrThrow=Ot.getFromWindow=void 0;function t(y){let w;return typeof window<"u"&&typeof window[y]<"u"&&(w=window[y]),w}Ot.getFromWindow=t;function e(y){const w=t(y);if(!w)throw new Error(`${y} is not defined in Window`);return w}Ot.getFromWindowOrThrow=e;function n(){return e("document")}Ot.getDocumentOrThrow=n;function r(){return t("document")}Ot.getDocument=r;function s(){return e("navigator")}Ot.getNavigatorOrThrow=s;function a(){return t("navigator")}Ot.getNavigator=a;function c(){return e("location")}Ot.getLocationOrThrow=c;function u(){return t("location")}Ot.getLocation=u;function d(){return e("crypto")}Ot.getCryptoOrThrow=d;function f(){return t("crypto")}Ot.getCrypto=f;function p(){return e("localStorage")}Ot.getLocalStorageOrThrow=p;function g(){return t("localStorage")}return Ot.getLocalStorage=g,Ot}var wc=XI(),th={},IT;function l4(){if(IT)return th;IT=1,Object.defineProperty(th,"__esModule",{value:!0}),th.getWindowMetadata=void 0;const t=XI();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function s(){const w=n.getElementsByTagName("link"),v=[];for(let E=0;E<w.length;E++){const _=w[E],S=_.getAttribute("rel");if(S&&S.toLowerCase().indexOf("icon")>-1){const T=_.getAttribute("href");if(T)if(T.toLowerCase().indexOf("https:")===-1&&T.toLowerCase().indexOf("http:")===-1&&T.indexOf("//")!==0){let O=r.protocol+"//"+r.host;if(T.indexOf("/")===0)O+=T;else{const P=r.pathname.split("/");P.pop();const N=P.join("/");O+=N+"/"+T}v.push(O)}else if(T.indexOf("//")===0){const O=r.protocol+T;v.push(O)}else v.push(T)}}return v}function a(...w){const v=n.getElementsByTagName("meta");for(let E=0;E<v.length;E++){const _=v[E],S=["itemprop","property","name"].map(T=>_.getAttribute(T)).filter(T=>T?w.includes(T):!1);if(S.length&&S){const T=_.getAttribute("content");if(T)return T}}return""}function c(){let w=a("name","og:site_name","og:title","twitter:title");return w||(w=n.title),w}function u(){return a("description","og:description","twitter:description","keywords")}const d=c(),f=u(),p=r.origin,g=s();return{description:f,url:p,icons:g,name:d}}return th.getWindowMetadata=e,th}var u4=l4();const d4="1.0.8";let gs=class bv extends Error{constructor(e,n={}){var c;const r=n.cause instanceof bv?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details,s=n.cause instanceof bv&&n.cause.docsPath||n.docsPath,a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${d4}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function na(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const JI=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,eR=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tR=/^\(.+?\).*?$/,RT=/^tuple(?<array>(\[(\d*)\])*)$/;function wv(t){let e=t.type;if(RT.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const a=t.components[s];e+=wv(a),s<n-1&&(e+=", ")}const r=na(RT,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,wv({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function nh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=wv(s),r!==n-1&&(e+=", ")}return e}function h4(t){var e;return t.type==="function"?`function ${t.name}(${nh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${nh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${nh(t.inputs)})`:t.type==="error"?`error ${t.name}(${nh(t.inputs)})`:t.type==="constructor"?`constructor(${nh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const nR=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function f4(t){return nR.test(t)}function p4(t){return na(nR,t)}const rR=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function g4(t){return rR.test(t)}function m4(t){return na(rR,t)}const sR=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function y4(t){return sR.test(t)}function b4(t){return na(sR,t)}const iR=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function aR(t){return iR.test(t)}function w4(t){return na(iR,t)}const oR=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function v4(t){return oR.test(t)}function E4(t){return na(oR,t)}const cR=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function _4(t){return cR.test(t)}function C4(t){return na(cR,t)}const A4=/^receive\(\) external payable$/;function S4(t){return A4.test(t)}const T4=new Set(["indexed"]),vv=new Set(["calldata","memory","storage"]);class N4 extends gs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class O4 extends gs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class I4 extends gs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class R4 extends gs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class x4 extends gs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class P4 extends gs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class D4 extends gs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Lu extends gs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class $4 extends gs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class U4 extends gs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class M4 extends gs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class k4 extends gs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function B4(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const c of s[1])a+=`[${c.type}${c.name?`:${c.name}`:""}]`;r+=`(${s[0]}{${a}})`}return e?`${e}:${t}${r}`:t}const r0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function L4(t,e={}){if(y4(t))return j4(t,e);if(g4(t))return z4(t,e);if(f4(t))return F4(t,e);if(v4(t))return q4(t,e);if(_4(t))return H4(t);if(S4(t))return{type:"receive",stateMutability:"payable"};throw new $4({signature:t})}function j4(t,e={}){const n=b4(t);if(!n)throw new Lu({signature:t,type:"function"});const r=Ps(n.parameters),s=[],a=r.length;for(let u=0;u<a;u++)s.push(vc(r[u],{modifiers:vv,structs:e,type:"function"}));const c=[];if(n.returns){const u=Ps(n.returns),d=u.length;for(let f=0;f<d;f++)c.push(vc(u[f],{modifiers:vv,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:c}}function z4(t,e={}){const n=m4(t);if(!n)throw new Lu({signature:t,type:"event"});const r=Ps(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(vc(r[c],{modifiers:T4,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function F4(t,e={}){const n=p4(t);if(!n)throw new Lu({signature:t,type:"error"});const r=Ps(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(vc(r[c],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function q4(t,e={}){const n=E4(t);if(!n)throw new Lu({signature:t,type:"constructor"});const r=Ps(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(vc(r[c],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function H4(t){const e=C4(t);if(!e)throw new Lu({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const V4=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,G4=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,W4=/^u?int$/;function vc(t,e){var g,y;const n=B4(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(r0.has(n))return r0.get(n);const r=tR.test(t),s=na(r?G4:V4,t);if(!s)throw new I4({param:t});if(s.name&&Y4(s.name))throw new R4({param:t,name:s.name});const a=s.name?{name:s.name}:{},c=s.modifier==="indexed"?{indexed:!0}:{},u=(e==null?void 0:e.structs)??{};let d,f={};if(r){d="tuple";const w=Ps(s.type),v=[],E=w.length;for(let _=0;_<E;_++)v.push(vc(w[_],{structs:u}));f={components:v}}else if(s.type in u)d="tuple",f={components:u[s.type]};else if(W4.test(s.type))d=`${s.type}256`;else if(d=s.type,(e==null?void 0:e.type)!=="struct"&&!lR(d))throw new O4({type:d});if(s.modifier){if(!((y=(g=e==null?void 0:e.modifiers)==null?void 0:g.has)!=null&&y.call(g,s.modifier)))throw new x4({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(vv.has(s.modifier)&&!Z4(d,!!s.array))throw new P4({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const p={type:`${d}${s.array??""}`,...a,...c,...f};return r0.set(n,p),p}function Ps(t,e=[],n="",r=0){const s=t.trim().length;for(let a=0;a<s;a++){const c=t[a],u=t.slice(a+1);switch(c){case",":return r===0?Ps(u,[...e,n.trim()]):Ps(u,e,`${n}${c}`,r);case"(":return Ps(u,e,`${n}${c}`,r+1);case")":return Ps(u,e,`${n}${c}`,r-1);default:return Ps(u,e,`${n}${c}`,r)}}if(n==="")return e;if(r!==0)throw new k4({current:n,depth:r});return e.push(n.trim()),e}function lR(t){return t==="address"||t==="bool"||t==="function"||t==="string"||JI.test(t)||eR.test(t)}const K4=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Y4(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||JI.test(t)||eR.test(t)||K4.test(t)}function Z4(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Q4(t){const e={},n=t.length;for(let c=0;c<n;c++){const u=t[c];if(!aR(u))continue;const d=w4(u);if(!d)throw new Lu({signature:u,type:"struct"});const f=d.properties.split(";"),p=[],g=f.length;for(let y=0;y<g;y++){const v=f[y].trim();if(!v)continue;const E=vc(v,{type:"struct"});p.push(E)}if(!p.length)throw new U4({signature:u});e[d.name]=p}const r={},s=Object.entries(e),a=s.length;for(let c=0;c<a;c++){const[u,d]=s[c];r[u]=uR(d,e)}return r}const X4=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function uR(t,e,n=new Set){const r=[],s=t.length;for(let a=0;a<s;a++){const c=t[a];if(tR.test(c.type))r.push(c);else{const d=na(X4,c.type);if(!(d!=null&&d.type))throw new D4({abiParameter:c});const{array:f,type:p}=d;if(p in e){if(n.has(p))throw new M4({type:p});r.push({...c,type:`tuple${f??""}`,components:uR(e[p]??[],e,new Set([...n,p]))})}else if(lR(p))r.push(c);else throw new N4({type:p})}}return r}function dR(t){const e=Q4(t),n=[],r=t.length;for(let s=0;s<r;s++){const a=t[s];aR(a)||n.push(L4(a,e))}return n}function kh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function xT(t){return kh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const hR="2.23.2";let rh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${hR}`},Km=class Ev extends Error{constructor(e,n={}){var u;const r=(()=>{var d;return n.cause instanceof Ev?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof Ev&&n.cause.docsPath||n.docsPath,a=(u=rh.getDocsUrl)==null?void 0:u.call(rh,{...n,docsPath:s}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...rh.version?[`Version: ${rh.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=hR}walk(e){return fR(this,e)}};function fR(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?fR(t.cause,e):e?null:t}let pR=class extends Km{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function ju(t,{dir:e,size:n=32}={}){return typeof t=="string"?J4(t,{dir:e,size:n}):eB(t,{dir:e,size:n})}function J4(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new pR({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function eB(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new pR({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}let tB=class extends Km{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},nB=class extends Km{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function zu(t,{size:e}){if(xT(t)>e)throw new nB({givenSize:xT(t),maxSize:e})}function _v(t,e={}){const{signed:n}=e;e.size&&zu(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function rB(t,e={}){return Number(_v(t,e))}const sB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cv(t,e={}){return typeof t=="number"||typeof t=="bigint"?mR(t,e):typeof t=="string"?oB(t,e):typeof t=="boolean"?iB(t,e):gR(t,e)}function iB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(zu(n,{size:e.size}),ju(n,{size:e.size})):n}function gR(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=sB[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(zu(r,{size:e.size}),ju(r,{dir:"right",size:e.size})):r}function mR(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const d=typeof t=="bigint"?"n":"";throw new tB({max:a?`${a}${d}`:void 0,min:`${c}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ju(u,{size:r}):u}const aB=new TextEncoder;function oB(t,e={}){const n=aB.encode(t);return gR(n,e)}const cB=new TextEncoder;function lB(t,e={}){return typeof t=="number"||typeof t=="bigint"?dB(t,e):typeof t=="boolean"?uB(t,e):kh(t)?yR(t,e):bR(t,e)}function uB(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(zu(n,{size:e.size}),ju(n,{size:e.size})):n}const Mi={zero:48,nine:57,A:65,F:70,a:97,f:102};function PT(t){if(t>=Mi.zero&&t<=Mi.nine)return t-Mi.zero;if(t>=Mi.A&&t<=Mi.F)return t-(Mi.A-10);if(t>=Mi.a&&t<=Mi.f)return t-(Mi.a-10)}function yR(t,e={}){let n=t;e.size&&(zu(n,{size:e.size}),n=ju(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=PT(r.charCodeAt(u++)),f=PT(r.charCodeAt(u++));if(d===void 0||f===void 0)throw new Km(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);a[c]=d*16+f}return a}function dB(t,e){const n=mR(t,e);return yR(n)}function bR(t,e={}){const n=cB.encode(t);return typeof e.size=="number"?(zu(n,{size:e.size}),ju(n,{dir:"right",size:e.size})):n}function pm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ym(t,...e){if(!hB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Qne(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");pm(t.outputLen),pm(t.blockLen)}function DT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fB(t,e){Ym(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Sg=BigInt(2**32-1),$T=BigInt(32);function pB(t,e=!1){return e?{h:Number(t&Sg),l:Number(t>>$T&Sg)}:{h:Number(t>>$T&Sg)|0,l:Number(t&Sg)|0}}function gB(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=pB(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const mB=(t,e,n)=>t<<n|e>>>32-n,yB=(t,e,n)=>e<<n|t>>>32-n,bB=(t,e,n)=>e<<n-32|t>>>64-n,wB=(t,e,n)=>t<<n-32|e>>>64-n,Nl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vB(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Xne(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Jne(t,e){return t<<32-e|t>>>e}const UT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function EB(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function MT(t){for(let e=0;e<t.length;e++)t[e]=EB(t[e])}function _B(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function wR(t){return typeof t=="string"&&(t=_B(t)),Ym(t),t}function ere(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ym(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}let CB=class{clone(){return this._cloneInto()}};function AB(t){const e=r=>t().update(wR(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function nre(t=32){if(Nl&&typeof Nl.getRandomValues=="function")return Nl.getRandomValues(new Uint8Array(t));if(Nl&&typeof Nl.randomBytes=="function")return Nl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const vR=[],ER=[],_R=[],SB=BigInt(0),sh=BigInt(1),TB=BigInt(2),NB=BigInt(7),OB=BigInt(256),IB=BigInt(113);for(let t=0,e=sh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],vR.push(2*(5*r+n)),ER.push((t+1)*(t+2)/2%64);let s=SB;for(let a=0;a<7;a++)e=(e<<sh^(e>>NB)*IB)%OB,e&TB&&(s^=sh<<(sh<<BigInt(a))-sh);_R.push(s)}const[RB,xB]=gB(_R,!0),kT=(t,e,n)=>n>32?bB(t,e,n):mB(t,e,n),BT=(t,e,n)=>n>32?wB(t,e,n):yB(t,e,n);function PB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,d=(c+2)%10,f=n[d],p=n[d+1],g=kT(f,p,1)^n[u],y=BT(f,p,1)^n[u+1];for(let w=0;w<50;w+=10)t[c+w]^=g,t[c+w+1]^=y}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=ER[c],d=kT(s,a,u),f=BT(s,a,u),p=vR[c];s=t[p],a=t[p+1],t[p]=d,t[p+1]=f}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=RB[r],t[1]^=xB[r]}n.fill(0)}let DB=class CR extends CB{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,pm(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=vB(this.state)}keccak(){UT||MT(this.state32),PB(this.state32,this.rounds),UT||MT(this.state32),this.posOut=0,this.pos=0}update(e){DT(this);const{blockLen:n,state:r}=this;e=wR(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){DT(this,!1),Ym(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return pm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(fB(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new CR(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const $B=(t,e,n)=>AB(()=>new DB(e,t,n)),UB=$B(1,136,256/8);function AR(t,e){const n=e||"hex",r=UB(kh(t,{strict:!1})?lB(t):t);return n==="bytes"?r:Cv(r)}let MB=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const s0=new MB(8192);function kB(t,e){if(s0.has(`${t}.${e}`))return s0.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=AR(bR(n),"bytes"),s=n.split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const a=`0x${s.join("")}`;return s0.set(`${t}.${e}`,a),a}function BB(t){const e=AR(`0x${t.substring(4)}`).substring(26);return kB(`0x${e}`)}const LB="modulepreload",jB=function(t){return"/"+t},LT={},rr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=c(n.map(f=>{if(f=jB(f),f in LT)return;LT[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":LB,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((w,v)=>{y.addEventListener("load",w),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};async function zB({hash:t,signature:e}){const n=kh(t)?t:Cv(t),{secp256k1:r}=await rr(async()=>{const{secp256k1:c}=await import("./secp256k1-DsrXfEcx.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:p,v:g,yParity:y}=e,w=Number(y??g),v=jT(w);return new r.Signature(_v(f),_v(p)).addRecoveryBit(v)}const c=kh(e)?e:Cv(e),u=rB(`0x${c.slice(130)}`),d=jT(u);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function jT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function FB({hash:t,signature:e}){return BB(await zB({hash:t,signature:e}))}function qB(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const p=t.charAt(f),g=p.charCodeAt(0);if(e[g]!==255)throw new TypeError(p+" is ambiguous");e[g]=f}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function c(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let p=0,g=0,y=0;const w=f.length;for(;y!==w&&f[y]===0;)y++,p++;const v=(w-y)*a+1>>>0,E=new Uint8Array(v);for(;y!==w;){let T=f[y],O=0;for(let P=v-1;(T!==0||O<g)&&P!==-1;P--,O++)T+=256*E[P]>>>0,E[P]=T%n>>>0,T=T/n>>>0;if(T!==0)throw new Error("Non-zero carry");g=O,y++}let _=v-g;for(;_!==v&&E[_]===0;)_++;let S=r.repeat(p);for(;_<v;++_)S+=t.charAt(E[_]);return S}function u(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let p=0,g=0,y=0;for(;f[p]===r;)g++,p++;const w=(f.length-p)*s+1>>>0,v=new Uint8Array(w);for(;p<f.length;){const T=f.charCodeAt(p);if(T>255)return;let O=e[T];if(O===255)return;let P=0;for(let N=w-1;(O!==0||P<y)&&N!==-1;N--,P++)O+=n*v[N]>>>0,v[N]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");y=P,p++}let E=w-y;for(;E!==w&&v[E]===0;)E++;const _=new Uint8Array(g+(w-E));let S=g;for(;E!==w;)_[S++]=v[E++];return _}function d(f){const p=u(f);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:u,decode:d}}var HB="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const SR=qB(HB);function TR(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Ah(t,e){e||(e=t.reduce((s,a)=>s+a.length,0));const n=TR(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function VB(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var u=t.length,d=t.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,_=0,S=0,T=v.length;S!==T&&v[S]===0;)S++,E++;for(var O=(T-S)*p+1>>>0,P=new Uint8Array(O);S!==T;){for(var N=v[S],A=0,I=O-1;(N!==0||A<_)&&I!==-1;I--,A++)N+=256*P[I]>>>0,P[I]=N%u>>>0,N=N/u>>>0;if(N!==0)throw new Error("Non-zero carry");_=A,S++}for(var k=O-_;k!==O&&P[k]===0;)k++;for(var x=d.repeat(E);k<O;++k)x+=t.charAt(P[k]);return x}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var _=0,S=0;v[E]===d;)_++,E++;for(var T=(v.length-E)*f+1>>>0,O=new Uint8Array(T);v[E];){var P=n[v.charCodeAt(E)];if(P===255)return;for(var N=0,A=T-1;(P!==0||N<S)&&A!==-1;A--,N++)P+=u*O[A]>>>0,O[A]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=N,E++}if(v[E]!==" "){for(var I=T-S;I!==T&&O[I]===0;)I++;for(var k=new Uint8Array(_+(T-I)),x=_;I!==T;)k[x++]=O[I++];return k}}}function w(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:w}}var GB=VB,WB=GB;const KB=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},YB=t=>new TextEncoder().encode(t),ZB=t=>new TextDecoder().decode(t);class QB{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class XB{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return NR(this,e)}}class JB{constructor(e){this.decoders=e}or(e){return NR(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const NR=(t,e)=>new JB({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class eL{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new QB(e,n,r),this.decoder=new XB(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Zm=({name:t,prefix:e,encode:n,decode:r})=>new eL(t,e,n,r),jf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=WB(n,e);return Zm({prefix:t,name:e,encode:r,decode:a=>KB(s(a))})},tL=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,d=0,f=0;for(let p=0;p<a;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|g,u+=n,u>=8&&(u-=8,c[f++]=255&d>>u)}if(u>=n||255&d<<8-u)throw new SyntaxError("Unexpected end of data");return c},nL=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,u=0;for(let d=0;d<t.length;++d)for(u=u<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&u>>c];if(c&&(a+=e[s&u<<n-c]),r)for(;a.length*n&7;)a+="=";return a},zn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Zm({prefix:e,name:t,encode(s){return nL(s,r,n)},decode(s){return tL(s,r,n,t)}}),rL=Zm({prefix:"\0",name:"identity",encode:t=>ZB(t),decode:t=>YB(t)}),sL=Object.freeze(Object.defineProperty({__proto__:null,identity:rL},Symbol.toStringTag,{value:"Module"})),iL=zn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),aL=Object.freeze(Object.defineProperty({__proto__:null,base2:iL},Symbol.toStringTag,{value:"Module"})),oL=zn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),cL=Object.freeze(Object.defineProperty({__proto__:null,base8:oL},Symbol.toStringTag,{value:"Module"})),lL=jf({prefix:"9",name:"base10",alphabet:"0123456789"}),uL=Object.freeze(Object.defineProperty({__proto__:null,base10:lL},Symbol.toStringTag,{value:"Module"})),dL=zn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hL=zn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),fL=Object.freeze(Object.defineProperty({__proto__:null,base16:dL,base16upper:hL},Symbol.toStringTag,{value:"Module"})),pL=zn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gL=zn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mL=zn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yL=zn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bL=zn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wL=zn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vL=zn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),EL=zn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_L=zn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),CL=Object.freeze(Object.defineProperty({__proto__:null,base32:pL,base32hex:bL,base32hexpad:vL,base32hexpadupper:EL,base32hexupper:wL,base32pad:mL,base32padupper:yL,base32upper:gL,base32z:_L},Symbol.toStringTag,{value:"Module"})),AL=jf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),SL=jf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),TL=Object.freeze(Object.defineProperty({__proto__:null,base36:AL,base36upper:SL},Symbol.toStringTag,{value:"Module"})),NL=jf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),OL=jf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),IL=Object.freeze(Object.defineProperty({__proto__:null,base58btc:NL,base58flickr:OL},Symbol.toStringTag,{value:"Module"})),RL=zn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),xL=zn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),PL=zn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),DL=zn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),$L=Object.freeze(Object.defineProperty({__proto__:null,base64:RL,base64pad:xL,base64url:PL,base64urlpad:DL},Symbol.toStringTag,{value:"Module"})),OR=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),UL=OR.reduce((t,e,n)=>(t[n]=e,t),[]),ML=OR.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function kL(t){return t.reduce((e,n)=>(e+=UL[n],e),"")}function BL(t){const e=[];for(const n of t){const r=ML[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const LL=Zm({prefix:"🚀",name:"base256emoji",encode:kL,decode:BL}),jL=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:LL},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const zT={...sL,...aL,...cL,...uL,...fL,...CL,...TL,...IL,...$L,...jL};function IR(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const FT=IR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),i0=IR("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=TR(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),RR={utf8:FT,"utf-8":FT,hex:zT.base16,latin1:i0,ascii:i0,binary:i0,...zT};function ds(t,e="utf8"){const n=RR[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Er(t,e="utf8"){const n=RR[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const zL={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var FL={};const qL=":";function Ql(t){const[e,n]=t.split(qL);return{namespace:e,reference:n}}function xR(t,e){return t.includes(":")?[t]:e.chains||[]}var HL=Object.defineProperty,VL=Object.defineProperties,GL=Object.getOwnPropertyDescriptors,qT=Object.getOwnPropertySymbols,WL=Object.prototype.hasOwnProperty,KL=Object.prototype.propertyIsEnumerable,HT=(t,e,n)=>e in t?HL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VT=(t,e)=>{for(var n in e||(e={}))WL.call(e,n)&&HT(t,n,e[n]);if(qT)for(var n of qT(e))KL.call(e,n)&&HT(t,n,e[n]);return t},YL=(t,e)=>VL(t,GL(e));const ZL="ReactNative",Fr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},QL="js";function gm(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function go(){return!wc.getDocument()&&!!wc.getNavigator()&&navigator.product===ZL}function XL(){return go()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function JL(){return go()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function zf(){return!gm()&&!!wc.getNavigator()&&!!wc.getDocument()}function Ff(){return go()?Fr.reactNative:gm()?Fr.node:zf()?Fr.browser:Fr.unknown}function GT(){var t;try{return go()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function ej(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&n.set(r,s)}return n.toString()}function tj(t){var e,n;const r=PR();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),YL(VT(VT({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),t||r}}function PR(){return u4.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function nj(){if(Ff()===Fr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=r4();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function rj(){var t;const e=Ff();return e===Fr.browser?[e,((t=wc.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function DR(t,e,n){const r=nj(),s=rj();return[[t,e].join("-"),[QL,n].join("-"),r,s].join("/")}function sj({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:s,projectId:a,useOnCloseEvent:c,bundleId:u,packageName:d}){const f=n.split("?"),p=DR(t,e,r),g={auth:s,ua:p,projectId:a,useOnCloseEvent:c,packageName:d||void 0,bundleId:u||void 0},y=ej(f[1]||"",g);return f[0]+"?"+y}function Xo(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Av(t){return Object.fromEntries(t.entries())}function Sv(t){return new Map(Object.entries(t))}function Go(t=pe.FIVE_MINUTES,e){const n=pe.toMiliseconds(t||pe.FIVE_MINUTES);let r,s,a,c;return{resolve:u=>{a&&r&&(clearTimeout(a),r(u),c=Promise.resolve(u))},reject:u=>{a&&s&&(clearTimeout(a),s(u))},done:()=>new Promise((u,d)=>{if(c)return u(c);a=setTimeout(()=>{const f=new Error(e);c=Promise.reject(f),d(f)},n),r=u,s=d})}}function Ja(t,e,n){return new Promise(async(r,s)=>{const a=setTimeout(()=>s(new Error(n)),e);try{const c=await t;r(c)}catch(c){s(c)}clearTimeout(a)})}function $R(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ij(t){return $R("topic",t)}function aj(t){return $R("id",t)}function UR(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function dn(t,e){return pe.fromMiliseconds(Date.now()+pe.toMiliseconds(t))}function Ba(t){return Date.now()>=pe.toMiliseconds(t)}function yt(t,e){return`${t}${e?`:${e}`:""}`}function Zg(t=[],e=[]){return[...new Set([...t,...e])]}async function oj({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,a=s==null?void 0:s.href;if(typeof a!="string")return;const c=cj(a,t,e),u=Ff();if(u===Fr.browser){if(!((r=wc.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}lj(c)}else u===Fr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(s){console.error(s)}}function cj(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const a=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${a}${fj(r,!0)}`}else s=`${s}/wc?${r}`;return s}function lj(t){let e="_self";hj()?e="_top":(dj()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function uj(t,e){let n="";try{if(zf()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function WT(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function KT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function KE(){return typeof process<"u"&&FL.IS_VITEST==="true"}function dj(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function hj(){try{return window.self!==window.top}catch{return!1}}function fj(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function MR(t){return Buffer.from(t,"base64").toString("utf-8")}function pj(t){return new Promise(e=>setTimeout(e,t))}function Bh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function gj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qf(t,...e){if(!gj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function YE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bh(t.outputLen),Bh(t.blockLen)}function mu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kR(t,e){qf(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Tg=BigInt(2**32-1),YT=BigInt(32);function mj(t,e=!1){return e?{h:Number(t&Tg),l:Number(t>>YT&Tg)}:{h:Number(t>>YT&Tg)|0,l:Number(t&Tg)|0}}function yj(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=mj(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const bj=(t,e,n)=>t<<n|e>>>32-n,wj=(t,e,n)=>e<<n|t>>>32-n,vj=(t,e,n)=>e<<n-32|t>>>64-n,Ej=(t,e,n)=>t<<n-32|e>>>64-n,Ol=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function _j(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function a0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ws(t,e){return t<<32-e|t>>>e}const ZT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Cj(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function QT(t){for(let e=0;e<t.length;e++)t[e]=Cj(t[e])}function Aj(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function yu(t){return typeof t=="string"&&(t=Aj(t)),qf(t),t}function Sj(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];qf(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}let ZE=class{clone(){return this._cloneInto()}};function BR(t){const e=r=>t().update(yu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Fu(t=32){if(Ol&&typeof Ol.getRandomValues=="function")return Ol.getRandomValues(new Uint8Array(t));if(Ol&&typeof Ol.randomBytes=="function")return Ol.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const LR=[],jR=[],zR=[],Tj=BigInt(0),ih=BigInt(1),Nj=BigInt(2),Oj=BigInt(7),Ij=BigInt(256),Rj=BigInt(113);for(let t=0,e=ih,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],LR.push(2*(5*r+n)),jR.push((t+1)*(t+2)/2%64);let s=Tj;for(let a=0;a<7;a++)e=(e<<ih^(e>>Oj)*Rj)%Ij,e&Nj&&(s^=ih<<(ih<<BigInt(a))-ih);zR.push(s)}const[xj,Pj]=yj(zR,!0),XT=(t,e,n)=>n>32?vj(t,e,n):bj(t,e,n),JT=(t,e,n)=>n>32?Ej(t,e,n):wj(t,e,n);function Dj(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,d=(c+2)%10,f=n[d],p=n[d+1],g=XT(f,p,1)^n[u],y=JT(f,p,1)^n[u+1];for(let w=0;w<50;w+=10)t[c+w]^=g,t[c+w+1]^=y}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=jR[c],d=XT(s,a,u),f=JT(s,a,u),p=LR[c];s=t[p],a=t[p+1],t[p]=d,t[p+1]=f}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=xj[r],t[1]^=Pj[r]}n.fill(0)}let $j=class FR extends ZE{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Bh(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=_j(this.state)}keccak(){ZT||QT(this.state32),Dj(this.state32,this.rounds),ZT||QT(this.state32),this.posOut=0,this.pos=0}update(e){mu(this);const{blockLen:n,state:r}=this;e=yu(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){mu(this,!1),qf(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Bh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new FR(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const Uj=(t,e,n)=>BR(()=>new $j(e,t,n)),Mj=Uj(1,136,256/8),kj="https://rpc.walletconnect.org/v1";function qR(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Mj(n)).toString("hex")}async function Bj(t,e,n,r,s,a){switch(n.t){case"eip191":return await Lj(t,e,n.s);case"eip1271":return await jj(t,e,n.s,r,s,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Lj(t,e,n){return(await FB({hash:qR(e),signature:n})).toLowerCase()===t.toLowerCase()}async function jj(t,e,n,r,s,a){const c=Ql(r);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const u="0x1626ba7e",d="0000000000000000000000000000000000000000000000000000000000000040",f="0000000000000000000000000000000000000000000000000000000000000041",p=n.substring(2),g=qR(e).substring(2),y=u+g+d+f+p,w=await fetch(`${a||kj}/?chainId=${r}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:zj(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:y},"latest"]})}),{result:v}=await w.json();return v?v.slice(0,u.length).toLowerCase()===u.toLowerCase():!1}catch(u){return console.error("isValidEip1271Signature: ",u),!1}}function zj(){return Date.now()+Math.floor(Math.random()*1e3)}function Fj(t){const e=atob(t),n=new Uint8Array(e.length);for(let c=0;c<e.length;c++)n[c]=e.charCodeAt(c);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const a=Buffer.from(t,"base64").slice(1,65);return SR.encode(a)}var qj=Object.defineProperty,Hj=Object.defineProperties,Vj=Object.getOwnPropertyDescriptors,e2=Object.getOwnPropertySymbols,Gj=Object.prototype.hasOwnProperty,Wj=Object.prototype.propertyIsEnumerable,t2=(t,e,n)=>e in t?qj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kj=(t,e)=>{for(var n in e||(e={}))Gj.call(e,n)&&t2(t,n,e[n]);if(e2)for(var n of e2(e))Wj.call(e,n)&&t2(t,n,e[n]);return t},Yj=(t,e)=>Hj(t,Vj(e));const Zj="did:pkh:",QE=t=>t==null?void 0:t.split(":"),Qj=t=>{const e=t&&QE(t);if(e)return t.includes(Zj)?e[3]:e[1]},Tv=t=>{const e=t&&QE(t);if(e)return e[2]+":"+e[3]},mm=t=>{const e=t&&QE(t);if(e)return e.pop()};async function n2(t){const{cacao:e,projectId:n}=t,{s:r,p:s}=e,a=HR(s,s.iss),c=mm(s.iss);return await Bj(c,a,r,Tv(s.iss),n)}const HR=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=mm(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const a=`URI: ${t.aud||t.uri}`,c=`Version: ${t.version}`,u=`Chain ID: ${Qj(e)}`,d=`Nonce: ${t.nonce}`,f=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,g=t.nbf?`Not Before: ${t.nbf}`:void 0,y=t.requestId?`Request ID: ${t.requestId}`:void 0,w=t.resources?`Resources:${t.resources.map(E=>`
- ${E}`).join("")}`:void 0,v=Qg(t.resources);if(v){const E=Lh(v);s=a9(s,E)}return[n,r,"",s,"",a,c,u,d,f,p,g,y,w].filter(E=>E!=null).join(`
`)};function Xj(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Jj(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Ec(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const a=r[s];if(!Array.isArray(a))throw new Error(`Ability limits ${s} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);a.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${c}`)})})})}function e9(t,e,n,r={}){return n==null||n.sort((s,a)=>s.localeCompare(a)),{att:{[t]:t9(e,n,r)}}}function t9(t,e,n={}){e=e==null?void 0:e.sort((s,a)=>s.localeCompare(a));const r=e.map(s=>({[`${t}/${s}`]:[n]}));return Object.assign({},...r)}function VR(t){return Ec(t),`urn:recap:${Xj(t).replace(/=/g,"")}`}function Lh(t){const e=Jj(t.replace("urn:recap:",""));return Ec(e),e}function n9(t,e,n){const r=e9(t,e,n);return VR(r)}function r9(t){return t&&t.includes("urn:recap:")}function s9(t,e){const n=Lh(t),r=Lh(e),s=i9(n,r);return VR(s)}function i9(t,e){Ec(t),Ec(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,a)=>s.localeCompare(a)),r={att:{}};return n.forEach(s=>{var a,c;Object.keys(((a=t.att)==null?void 0:a[s])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[s])||{})).sort((u,d)=>u.localeCompare(d)).forEach(u=>{var d,f;r.att[s]=Yj(Kj({},r.att[s]),{[u]:((d=t.att[s])==null?void 0:d[u])||((f=e.att[s])==null?void 0:f[u])})})}),r}function a9(t="",e){Ec(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let s=0;Object.keys(e.att).forEach(u=>{const d=Object.keys(e.att[u]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));d.sort((g,y)=>g.action.localeCompare(y.action));const f={};d.forEach(g=>{f[g.ability]||(f[g.ability]=[]),f[g.ability].push(g.action)});const p=Object.keys(f).map(g=>(s++,`(${s}) '${g}': '${f[g].join("', '")}' for '${u}'.`));r.push(p.join(", ").replace(".,","."))});const a=r.join(" "),c=`${n}${a}`;return`${t?t+" ":""}${c}`}function r2(t){var e;const n=Lh(t);Ec(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function s2(t){const e=Lh(t);Ec(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var a;(a=s==null?void 0:s[0])!=null&&a.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Qg(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return r9(e)?e:void 0}function o0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function GR(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function jr(t,...e){if(!GR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function i2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function o9(t,e){jr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function a2(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const no=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),c9=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),l9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!l9)throw new Error("Non little-endian hardware is not supported");function u9(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Nv(t){if(typeof t=="string")t=u9(t);else if(GR(t))t=Ov(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function d9(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function h9(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const f9=(t,e)=>{function n(r,...s){if(jr(r),t.nonceLength!==void 0){const f=s[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?jr(f):jr(f,t.nonceLength)}const a=t.tagLength;a&&s[1]!==void 0&&jr(s[1]);const c=e(r,...s),u=(f,p)=>{if(p!==void 0){if(f!==2)throw new Error("cipher output not supported");jr(p)}};let d=!1;return{encrypt(f,p){if(d)throw new Error("cannot encrypt() twice with same key + nonce");return d=!0,jr(f),u(c.encrypt.length,p),c.encrypt(f,p)},decrypt(f,p){if(jr(f),a&&f.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return u(c.decrypt.length,p),c.decrypt(f,p)}}}return Object.assign(n,t),n};function o2(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!p9(e))throw new Error("invalid output, must be aligned");return e}function c2(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a);t.setUint32(e+4,c,r),t.setUint32(e+0,u,r)}function p9(t){return t.byteOffset%4===0}function Ov(t){return Uint8Array.from(t)}function bu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const WR=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),g9=WR("expand 16-byte k"),m9=WR("expand 32-byte k"),y9=no(g9),b9=no(m9);function ht(t,e){return t<<e|t>>>32-e}function Iv(t){return t.byteOffset%4===0}const Ng=64,w9=16,KR=2**32-1,l2=new Uint32Array;function v9(t,e,n,r,s,a,c,u){const d=s.length,f=new Uint8Array(Ng),p=no(f),g=Iv(s)&&Iv(a),y=g?no(s):l2,w=g?no(a):l2;for(let v=0;v<d;c++){if(t(e,n,r,p,c,u),c>=KR)throw new Error("arx: counter overflow");const E=Math.min(Ng,d-v);if(g&&E===Ng){const _=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let S=0,T;S<w9;S++)T=_+S,w[T]=y[T]^p[S];v+=Ng;continue}for(let _=0,S;_<E;_++)S=v+_,a[S]=s[S]^f[_];v+=E}}function E9(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:a,rounds:c}=d9({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return o0(s),o0(c),a2(a),a2(n),(u,d,f,p,g=0)=>{jr(u),jr(d),jr(f);const y=f.length;if(p===void 0&&(p=new Uint8Array(y)),jr(p),o0(g),g<0||g>=KR)throw new Error("arx: counter overflow");if(p.length<y)throw new Error(`arx: output (${p.length}) is shorter than data (${y})`);const w=[];let v=u.length,E,_;if(v===32)w.push(E=Ov(u)),_=b9;else if(v===16&&n)E=new Uint8Array(32),E.set(u),E.set(u,16),_=y9,w.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);Iv(d)||w.push(d=Ov(d));const S=no(E);if(r){if(d.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(_,S,no(d.subarray(0,16)),S),d=d.subarray(16)}const T=16-s;if(T!==d.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const P=new Uint8Array(12);P.set(d,a?0:12-d.length),d=P,w.push(d)}const O=no(d);return v9(t,_,S,O,f,p,g,c),bu(...w),p}}const $n=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class _9{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Nv(e),jr(e,32);const n=$n(e,0),r=$n(e,2),s=$n(e,4),a=$n(e,6),c=$n(e,8),u=$n(e,10),d=$n(e,12),f=$n(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|a<<9)&8191,this.r[4]=(a>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|u<<2)&8191,this.r[7]=(u>>>11|d<<5)&8065,this.r[8]=(d>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let p=0;p<8;p++)this.pad[p]=$n(e,16+2*p)}process(e,n,r=!1){const s=r?0:2048,{h:a,r:c}=this,u=c[0],d=c[1],f=c[2],p=c[3],g=c[4],y=c[5],w=c[6],v=c[7],E=c[8],_=c[9],S=$n(e,n+0),T=$n(e,n+2),O=$n(e,n+4),P=$n(e,n+6),N=$n(e,n+8),A=$n(e,n+10),I=$n(e,n+12),k=$n(e,n+14);let x=a[0]+(S&8191),B=a[1]+((S>>>13|T<<3)&8191),q=a[2]+((T>>>10|O<<6)&8191),X=a[3]+((O>>>7|P<<9)&8191),se=a[4]+((P>>>4|N<<12)&8191),W=a[5]+(N>>>1&8191),M=a[6]+((N>>>14|A<<2)&8191),R=a[7]+((A>>>11|I<<5)&8191),j=a[8]+((I>>>8|k<<8)&8191),H=a[9]+(k>>>5|s),V=0,D=V+x*u+B*(5*_)+q*(5*E)+X*(5*v)+se*(5*w);V=D>>>13,D&=8191,D+=W*(5*y)+M*(5*g)+R*(5*p)+j*(5*f)+H*(5*d),V+=D>>>13,D&=8191;let Y=V+x*d+B*u+q*(5*_)+X*(5*E)+se*(5*v);V=Y>>>13,Y&=8191,Y+=W*(5*w)+M*(5*y)+R*(5*g)+j*(5*p)+H*(5*f),V+=Y>>>13,Y&=8191;let te=V+x*f+B*d+q*u+X*(5*_)+se*(5*E);V=te>>>13,te&=8191,te+=W*(5*v)+M*(5*w)+R*(5*y)+j*(5*g)+H*(5*p),V+=te>>>13,te&=8191;let ie=V+x*p+B*f+q*d+X*u+se*(5*_);V=ie>>>13,ie&=8191,ie+=W*(5*E)+M*(5*v)+R*(5*w)+j*(5*y)+H*(5*g),V+=ie>>>13,ie&=8191;let ee=V+x*g+B*p+q*f+X*d+se*u;V=ee>>>13,ee&=8191,ee+=W*(5*_)+M*(5*E)+R*(5*v)+j*(5*w)+H*(5*y),V+=ee>>>13,ee&=8191;let le=V+x*y+B*g+q*p+X*f+se*d;V=le>>>13,le&=8191,le+=W*u+M*(5*_)+R*(5*E)+j*(5*v)+H*(5*w),V+=le>>>13,le&=8191;let ge=V+x*w+B*y+q*g+X*p+se*f;V=ge>>>13,ge&=8191,ge+=W*d+M*u+R*(5*_)+j*(5*E)+H*(5*v),V+=ge>>>13,ge&=8191;let He=V+x*v+B*w+q*y+X*g+se*p;V=He>>>13,He&=8191,He+=W*f+M*d+R*u+j*(5*_)+H*(5*E),V+=He>>>13,He&=8191;let Ne=V+x*E+B*v+q*w+X*y+se*g;V=Ne>>>13,Ne&=8191,Ne+=W*p+M*f+R*d+j*u+H*(5*_),V+=Ne>>>13,Ne&=8191;let Re=V+x*_+B*E+q*v+X*w+se*y;V=Re>>>13,Re&=8191,Re+=W*g+M*p+R*f+j*d+H*u,V+=Re>>>13,Re&=8191,V=(V<<2)+V|0,V=V+D|0,D=V&8191,V=V>>>13,Y+=V,a[0]=D,a[1]=Y,a[2]=te,a[3]=ie,a[4]=ee,a[5]=le,a[6]=ge,a[7]=He,a[8]=Ne,a[9]=Re}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let u=2;u<10;u++)e[u]+=s,s=e[u]>>>13,e[u]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let u=1;u<10;u++)r[u]=e[u]+s,s=r[u]>>>13,r[u]&=8191;r[9]-=8192;let a=(s^1)-1;for(let u=0;u<10;u++)r[u]&=a;a=~a;for(let u=0;u<10;u++)e[u]=e[u]&a|r[u];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+n[0];e[0]=c&65535;for(let u=1;u<8;u++)c=(e[u]+n[u]|0)+(c>>>16)|0,e[u]=c&65535;bu(r)}update(e){i2(this);const{buffer:n,blockLen:r}=this;e=Nv(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(r-this.pos,s-a);if(c===r){for(;r<=s-a;a+=r)this.process(e,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){bu(this.h,this.r,this.buffer,this.pad)}digestInto(e){i2(this),o9(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let c=0;c<8;c++)e[a++]=r[c]>>>0,e[a++]=r[c]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function C9(t){const e=(r,s)=>t(s).update(Nv(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const A9=C9(t=>new _9(t));function S9(t,e,n,r,s,a=20){let c=t[0],u=t[1],d=t[2],f=t[3],p=e[0],g=e[1],y=e[2],w=e[3],v=e[4],E=e[5],_=e[6],S=e[7],T=s,O=n[0],P=n[1],N=n[2],A=c,I=u,k=d,x=f,B=p,q=g,X=y,se=w,W=v,M=E,R=_,j=S,H=T,V=O,D=P,Y=N;for(let ie=0;ie<a;ie+=2)A=A+B|0,H=ht(H^A,16),W=W+H|0,B=ht(B^W,12),A=A+B|0,H=ht(H^A,8),W=W+H|0,B=ht(B^W,7),I=I+q|0,V=ht(V^I,16),M=M+V|0,q=ht(q^M,12),I=I+q|0,V=ht(V^I,8),M=M+V|0,q=ht(q^M,7),k=k+X|0,D=ht(D^k,16),R=R+D|0,X=ht(X^R,12),k=k+X|0,D=ht(D^k,8),R=R+D|0,X=ht(X^R,7),x=x+se|0,Y=ht(Y^x,16),j=j+Y|0,se=ht(se^j,12),x=x+se|0,Y=ht(Y^x,8),j=j+Y|0,se=ht(se^j,7),A=A+q|0,Y=ht(Y^A,16),R=R+Y|0,q=ht(q^R,12),A=A+q|0,Y=ht(Y^A,8),R=R+Y|0,q=ht(q^R,7),I=I+X|0,H=ht(H^I,16),j=j+H|0,X=ht(X^j,12),I=I+X|0,H=ht(H^I,8),j=j+H|0,X=ht(X^j,7),k=k+se|0,V=ht(V^k,16),W=W+V|0,se=ht(se^W,12),k=k+se|0,V=ht(V^k,8),W=W+V|0,se=ht(se^W,7),x=x+B|0,D=ht(D^x,16),M=M+D|0,B=ht(B^M,12),x=x+B|0,D=ht(D^x,8),M=M+D|0,B=ht(B^M,7);let te=0;r[te++]=c+A|0,r[te++]=u+I|0,r[te++]=d+k|0,r[te++]=f+x|0,r[te++]=p+B|0,r[te++]=g+q|0,r[te++]=y+X|0,r[te++]=w+se|0,r[te++]=v+W|0,r[te++]=E+M|0,r[te++]=_+R|0,r[te++]=S+j|0,r[te++]=T+H|0,r[te++]=O+V|0,r[te++]=P+D|0,r[te++]=N+Y|0}const T9=E9(S9,{counterRight:!1,counterLength:4,allowShortKeys:!1}),N9=new Uint8Array(16),u2=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(N9.subarray(n))},O9=new Uint8Array(32);function d2(t,e,n,r,s){const a=t(e,n,O9),c=A9.create(a);s&&u2(c,s),u2(c,r);const u=new Uint8Array(16),d=c9(u);c2(d,0,BigInt(s?s.length:0),!0),c2(d,8,BigInt(r.length),!0),c.update(u);const f=c.digest();return bu(a,u),f}const I9=t=>(e,n,r)=>({encrypt(s,a){const c=s.length;a=o2(c+16,a,!1),a.set(s);const u=a.subarray(0,-16);t(e,n,u,u,1);const d=d2(t,e,n,u,r);return a.set(d,c),bu(d),a},decrypt(s,a){a=o2(s.length-16,a,!1);const c=s.subarray(0,-16),u=s.subarray(-16),d=d2(t,e,n,c,r);if(!h9(u,d))throw new Error("invalid tag");return a.set(s.subarray(0,-16)),t(e,n,a,a,1),bu(d),a}}),YR=f9({blockSize:64,nonceLength:12,tagLength:16},I9(T9));let ZR=class extends ZE{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,YE(e);const r=yu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return mu(this),this.iHash.update(e),this}digestInto(e){mu(this),qf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Qm=(t,e,n)=>new ZR(t,e).update(n).digest();Qm.create=(t,e)=>new ZR(t,e);function R9(t,e,n){return YE(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Qm(t,yu(n),yu(e))}const c0=new Uint8Array([0]),h2=new Uint8Array;function x9(t,e,n,r=32){if(YE(t),Bh(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/t.outputLen);n===void 0&&(n=h2);const a=new Uint8Array(s*t.outputLen),c=Qm.create(t,e),u=c._cloneInto(),d=new Uint8Array(c.outputLen);for(let f=0;f<s;f++)c0[0]=f+1,u.update(f===0?h2:d).update(n).update(c0).digestInto(d),a.set(d,t.outputLen*f),c._cloneInto(u);return c.destroy(),u.destroy(),d.fill(0),c0.fill(0),a.slice(0,r)}const P9=(t,e,n,r,s)=>x9(t,R9(t,e,n),r,s);function D9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a),d=r?4:0,f=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+f,u,r)}function $9(t,e,n){return t&e^~t&n}function U9(t,e,n){return t&e^t&n^e&n}let M9=class extends ZE{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=a0(this.buffer)}update(e){mu(this);const{view:n,buffer:r,blockLen:s}=this;e=yu(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const d=a0(e);for(;s<=a-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mu(this),kR(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;D9(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=a0(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}};const k9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Da=new Uint32Array(64);class B9 extends M9{constructor(){super(64,32,8,!1),this.A=Pa[0]|0,this.B=Pa[1]|0,this.C=Pa[2]|0,this.D=Pa[3]|0,this.E=Pa[4]|0,this.F=Pa[5]|0,this.G=Pa[6]|0,this.H=Pa[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:c,G:u,H:d}=this;return[e,n,r,s,a,c,u,d]}set(e,n,r,s,a,c,u,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=d|0}process(e,n){for(let g=0;g<16;g++,n+=4)Da[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=Da[g-15],w=Da[g-2],v=Ws(y,7)^Ws(y,18)^y>>>3,E=Ws(w,17)^Ws(w,19)^w>>>10;Da[g]=E+Da[g-7]+v+Da[g-16]|0}let{A:r,B:s,C:a,D:c,E:u,F:d,G:f,H:p}=this;for(let g=0;g<64;g++){const y=Ws(u,6)^Ws(u,11)^Ws(u,25),w=p+y+$9(u,d,f)+k9[g]+Da[g]|0,v=(Ws(r,2)^Ws(r,13)^Ws(r,22))+U9(r,s,a)|0;p=f,f=d,d=u,u=c+w|0,c=a,a=s,s=r,r=w+v|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,s,a,c,u,d,f,p)}roundClean(){Da.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Hf=BR(()=>new B9);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xm=BigInt(0),Jm=BigInt(1),L9=BigInt(2);function _c(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Vf(t){if(!_c(t))throw new Error("Uint8Array expected")}function wu(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const j9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vu(t){Vf(t);let e="";for(let n=0;n<t.length;n++)e+=j9[t[n]];return e}function Yl(t){const e=t.toString(16);return e.length&1?"0"+e:e}function XE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Xm:BigInt("0x"+t)}const ki={_0:48,_9:57,A:65,F:70,a:97,f:102};function f2(t){if(t>=ki._0&&t<=ki._9)return t-ki._0;if(t>=ki.A&&t<=ki.F)return t-(ki.A-10);if(t>=ki.a&&t<=ki.f)return t-(ki.a-10)}function Eu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const c=f2(t.charCodeAt(a)),u=f2(t.charCodeAt(a+1));if(c===void 0||u===void 0){const d=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+a)}r[s]=c*16+u}return r}function hc(t){return XE(vu(t))}function jh(t){return Vf(t),XE(vu(Uint8Array.from(t).reverse()))}function _u(t,e){return Eu(t.toString(16).padStart(e*2,"0"))}function ey(t,e){return _u(t,e).reverse()}function z9(t){return Eu(Yl(t))}function Lr(t,e,n){let r;if(typeof e=="string")try{r=Eu(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(_c(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function zh(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Vf(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}function F9(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function q9(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const l0=t=>typeof t=="bigint"&&Xm<=t;function ty(t,e,n){return l0(t)&&l0(e)&&l0(n)&&e<=t&&t<n}function Yi(t,e,n,r){if(!ty(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function QR(t){let e;for(e=0;t>Xm;t>>=Jm,e+=1);return e}function H9(t,e){return t>>BigInt(e)&Jm}function V9(t,e,n){return t|(n?Jm:Xm)<<BigInt(e)}const JE=t=>(L9<<BigInt(t-1))-Jm,u0=t=>new Uint8Array(t),p2=t=>Uint8Array.from(t);function XR(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=u0(t),s=u0(t),a=0;const c=()=>{r.fill(1),s.fill(0),a=0},u=(...p)=>n(s,r,...p),d=(p=u0())=>{s=u(p2([0]),p),r=u(),p.length!==0&&(s=u(p2([1]),p),r=u())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const g=[];for(;p<e;){r=u();const y=r.slice();g.push(y),p+=r.length}return zh(...g)};return(p,g)=>{c(),d(p);let y;for(;!(y=g(f()));)d();return c(),y}}const G9={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||_c(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function qu(t,e,n={}){const r=(s,a,c)=>{const u=G9[a];if(typeof u!="function")throw new Error("invalid validator function");const d=t[s];if(!(c&&d===void 0)&&!u(d,t))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+d)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}const W9=()=>{throw new Error("not implemented")};function Rv(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}var K9=Object.freeze({__proto__:null,isBytes:_c,abytes:Vf,abool:wu,bytesToHex:vu,numberToHexUnpadded:Yl,hexToNumber:XE,hexToBytes:Eu,bytesToNumberBE:hc,bytesToNumberLE:jh,numberToBytesBE:_u,numberToBytesLE:ey,numberToVarBytesBE:z9,ensureBytes:Lr,concatBytes:zh,equalBytes:F9,utf8ToBytes:q9,inRange:ty,aInRange:Yi,bitLen:QR,bitGet:H9,bitSet:V9,bitMask:JE,createHmacDrbg:XR,validateObject:qu,notImplemented:W9,memoized:Rv});const In=BigInt(0),en=BigInt(1),Yo=BigInt(2),Y9=BigInt(3),xv=BigInt(4),g2=BigInt(5),m2=BigInt(8);function vr(t,e){const n=t%e;return n>=In?n:e+n}function JR(t,e,n){if(e<In)throw new Error("invalid exponent, negatives unsupported");if(n<=In)throw new Error("invalid modulus");if(n===en)return In;let r=en;for(;e>In;)e&en&&(r=r*t%n),t=t*t%n,e>>=en;return r}function Ns(t,e,n){let r=t;for(;e-- >In;)r*=r,r%=n;return r}function Pv(t,e){if(t===In)throw new Error("invert: expected non-zero number");if(e<=In)throw new Error("invert: expected positive modulus, got "+e);let n=vr(t,e),r=e,s=In,a=en;for(;n!==In;){const c=r/n,u=r%n,d=s-a*c;r=n,n=u,s=a,a=d}if(r!==en)throw new Error("invert: does not exist");return vr(s,e)}function Z9(t){const e=(t-en)/Yo;let n,r,s;for(n=t-en,r=0;n%Yo===In;n/=Yo,r++);for(s=Yo;s<t&&JR(s,e,t)!==t-en;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(t+en)/xv;return function(u,d){const f=u.pow(d,c);if(!u.eql(u.sqr(f),d))throw new Error("Cannot find square root");return f}}const a=(n+en)/Yo;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let d=r,f=c.pow(c.mul(c.ONE,s),n),p=c.pow(u,a),g=c.pow(u,n);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let y=1;for(let v=c.sqr(g);y<d&&!c.eql(v,c.ONE);y++)v=c.sqr(v);const w=c.pow(f,en<<BigInt(d-y-1));f=c.sqr(w),p=c.mul(p,w),g=c.mul(g,f),d=y}return p}}function Q9(t){if(t%xv===Y9){const e=(t+en)/xv;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%m2===g2){const e=(t-g2)/m2;return function(n,r){const s=n.mul(r,Yo),a=n.pow(s,e),c=n.mul(r,a),u=n.mul(n.mul(c,Yo),a),d=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(d),r))throw new Error("Cannot find square root");return d}}return Z9(t)}const X9=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function J9(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=X9.reduce((r,s)=>(r[s]="function",r),e);return qu(t,n)}function e7(t,e,n){if(n<In)throw new Error("invalid exponent, negatives unsupported");if(n===In)return t.ONE;if(n===en)return e;let r=t.ONE,s=e;for(;n>In;)n&en&&(r=t.mul(r,s)),s=t.sqr(s),n>>=en;return r}function t7(t,e){const n=new Array(e.length),r=e.reduce((a,c,u)=>t.is0(c)?a:(n[u]=a,t.mul(a,c)),t.ONE),s=t.inv(r);return e.reduceRight((a,c,u)=>t.is0(c)?a:(n[u]=t.mul(a,n[u]),t.mul(a,c)),s),n}function ex(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function tx(t,e,n=!1,r={}){if(t<=In)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:a}=ex(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:a,MASK:JE(s),ZERO:In,ONE:en,create:d=>vr(d,t),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return In<=d&&d<t},is0:d=>d===In,isOdd:d=>(d&en)===en,neg:d=>vr(-d,t),eql:(d,f)=>d===f,sqr:d=>vr(d*d,t),add:(d,f)=>vr(d+f,t),sub:(d,f)=>vr(d-f,t),mul:(d,f)=>vr(d*f,t),pow:(d,f)=>e7(u,d,f),div:(d,f)=>vr(d*Pv(f,t),t),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>Pv(d,t),sqrt:r.sqrt||(d=>(c||(c=Q9(t)),c(u,d))),invertBatch:d=>t7(u,d),cmov:(d,f,p)=>p?f:d,toBytes:d=>n?ey(d,a):_u(d,a),fromBytes:d=>{if(d.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+d.length);return n?jh(d):hc(d)}});return Object.freeze(u)}function nx(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function rx(t){const e=nx(t);return e+Math.ceil(e/2)}function n7(t,e,n=!1){const r=t.length,s=nx(e),a=rx(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const c=n?jh(t):hc(t),u=vr(c,e-en)+en;return n?ey(u,s):_u(u,s)}const y2=BigInt(0),Og=BigInt(1);function d0(t,e){const n=e.negate();return t?n:e}function sx(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function h0(t,e){sx(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function r7(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function s7(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const f0=new WeakMap,ix=new WeakMap;function p0(t){return ix.get(t)||1}function i7(t,e){return{constTimeNegate:d0,hasPrecomputes(n){return p0(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>y2;)r&Og&&(s=s.add(a)),a=a.double(),r>>=Og;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=h0(r,e),c=[];let u=n,d=u;for(let f=0;f<s;f++){d=u,c.push(d);for(let p=1;p<a;p++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(n,r,s){const{windows:a,windowSize:c}=h0(n,e);let u=t.ZERO,d=t.BASE;const f=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let y=0;y<a;y++){const w=y*c;let v=Number(s&f);s>>=g,v>c&&(v-=p,s+=Og);const E=w,_=w+Math.abs(v)-1,S=y%2!==0,T=v<0;v===0?d=d.add(d0(S,r[E])):u=u.add(d0(T,r[_]))}return{p:u,f:d}},wNAFUnsafe(n,r,s,a=t.ZERO){const{windows:c,windowSize:u}=h0(n,e),d=BigInt(2**n-1),f=2**n,p=BigInt(n);for(let g=0;g<c;g++){const y=g*u;if(s===y2)break;let w=Number(s&d);if(s>>=p,w>u&&(w-=f,s+=Og),w===0)continue;let v=r[y+Math.abs(w)-1];w<0&&(v=v.negate()),a=a.add(v)}return a},getPrecomputes(n,r,s){let a=f0.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&f0.set(r,s(a))),a},wNAFCached(n,r,s){const a=p0(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const c=p0(n);return c===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,a)},setWindowSize(n,r){sx(r,e),ix.set(n,r),f0.delete(n)}}}function a7(t,e,n,r){if(r7(n,t),s7(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=QR(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,d=new Array(u+1).fill(s),f=Math.floor((e.BITS-1)/c)*c;let p=s;for(let g=f;g>=0;g-=c){d.fill(s);for(let w=0;w<r.length;w++){const v=r[w],E=Number(v>>BigInt(g)&BigInt(u));d[E]=d[E].add(n[w])}let y=s;for(let w=d.length-1,v=s;w>0;w--)v=v.add(d[w]),y=y.add(v);if(p=p.add(y),g!==0)for(let w=0;w<c;w++)p=p.double()}return p}function ax(t){return J9(t.Fp),qu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ex(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Il=BigInt(0),g0=BigInt(1);function o7(t){return qu(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function c7(t){const e=o7(t),{P:n}=e,r=T=>vr(T,n),s=e.montgomeryBits,a=Math.ceil(s/8),c=e.nByteLength,u=e.adjustScalarBytes||(T=>T),d=e.powPminus2||(T=>JR(T,n-BigInt(2),n));function f(T,O,P){const N=r(T*(O-P));return O=r(O-N),P=r(P+N),[O,P]}const p=(e.a-BigInt(2))/BigInt(4);function g(T,O){Yi("u",T,Il,n),Yi("scalar",O,Il,n);const P=O,N=T;let A=g0,I=Il,k=T,x=g0,B=Il,q;for(let se=BigInt(s-1);se>=Il;se--){const W=P>>se&g0;B^=W,q=f(B,A,k),A=q[0],k=q[1],q=f(B,I,x),I=q[0],x=q[1],B=W;const M=A+I,R=r(M*M),j=A-I,H=r(j*j),V=R-H,D=k+x,Y=k-x,te=r(Y*M),ie=r(D*j),ee=te+ie,le=te-ie;k=r(ee*ee),x=r(N*r(le*le)),A=r(R*H),I=r(V*(R+r(p*V)))}q=f(B,A,k),A=q[0],k=q[1],q=f(B,I,x),I=q[0],x=q[1];const X=d(I);return r(A*X)}function y(T){return ey(r(T),a)}function w(T){const O=Lr("u coordinate",T,a);return c===32&&(O[31]&=127),jh(O)}function v(T){const O=Lr("scalar",T),P=O.length;if(P!==a&&P!==c){let N=""+a+" or "+c;throw new Error("invalid scalar, expected "+N+" bytes, got "+P)}return jh(u(O))}function E(T,O){const P=w(O),N=v(T),A=g(P,N);if(A===Il)throw new Error("invalid private or public key received");return y(A)}const _=y(e.Gu);function S(T){return E(T,_)}return{scalarMult:E,scalarMultBase:S,getSharedSecret:(T,O)=>E(T,O),getPublicKey:T=>S(T),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:_}}const Dv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const l7=BigInt(1),b2=BigInt(2),u7=BigInt(3),d7=BigInt(5);BigInt(8);function h7(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),a=Dv,c=t*t%a*t%a,u=Ns(c,b2,a)*c%a,d=Ns(u,l7,a)*t%a,f=Ns(d,d7,a)*d%a,p=Ns(f,e,a)*f%a,g=Ns(p,n,a)*p%a,y=Ns(g,r,a)*g%a,w=Ns(y,s,a)*y%a,v=Ns(w,s,a)*y%a,E=Ns(v,e,a)*f%a;return{pow_p_5_8:Ns(E,b2,a)*t%a,b2:c}}function f7(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const $v=c7({P:Dv,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=Dv,{pow_p_5_8:n,b2:r}=h7(t);return vr(Ns(n,u7,e)*r,e)},adjustScalarBytes:f7,randomBytes:Fu});function w2(t){t.lowS!==void 0&&wu("lowS",t.lowS),t.prehash!==void 0&&wu("prehash",t.prehash)}function p7(t){const e=ax(t);qu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:g7,hexToBytes:m7}=K9;class y7 extends Error{constructor(e=""){super(e)}}const qi={Err:y7,_tlv:{encode:(t,e)=>{const{Err:n}=qi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Yl(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Yl(s.length/2|128):"";return Yl(t)+a+s+e},decode(t,e){const{Err:n}=qi;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let c=0;if(!a)c=s;else{const d=s&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+d);if(f.length!==d)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of f)c=c<<8|p;if(r+=d,c<128)throw new n("tlv.decode(long): not minimal encoding")}const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: wrong value length");return{v:u,l:e.subarray(r+c)}}},_int:{encode(t){const{Err:e}=qi;if(t<Wi)throw new e("integer: negative integers are not allowed");let n=Yl(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=qi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return g7(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=qi,s=typeof t=="string"?m7(t):t;Vf(s);const{v:a,l:c}=r.decode(48,s);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:d}=r.decode(2,a),{v:f,l:p}=r.decode(2,d);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(u),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=qi,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),a=r+s;return e.encode(48,a)}},Wi=BigInt(0),An=BigInt(1);BigInt(2);const v2=BigInt(3);BigInt(4);function b7(t){const e=p7(t),{Fp:n}=e,r=tx(e.n,e.nBitLength),s=e.toBytes||((E,_,S)=>{const T=_.toAffine();return zh(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),a=e.fromBytes||(E=>{const _=E.subarray(1),S=n.fromBytes(_.subarray(0,n.BYTES)),T=n.fromBytes(_.subarray(n.BYTES,2*n.BYTES));return{x:S,y:T}});function c(E){const{a:_,b:S}=e,T=n.sqr(E),O=n.mul(T,E);return n.add(n.add(O,n.mul(E,_)),S)}if(!n.eql(n.sqr(e.Gy),c(e.Gx)))throw new Error("bad generator point: equation left != right");function u(E){return ty(E,An,e.n)}function d(E){const{allowedPrivateKeyLengths:_,nByteLength:S,wrapPrivateKey:T,n:O}=e;if(_&&typeof E!="bigint"){if(_c(E)&&(E=vu(E)),typeof E!="string"||!_.includes(E.length))throw new Error("invalid private key");E=E.padStart(S*2,"0")}let P;try{P=typeof E=="bigint"?E:hc(Lr("private key",E,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof E)}return T&&(P=vr(P,O)),Yi("private key",P,An,O),P}function f(E){if(!(E instanceof y))throw new Error("ProjectivePoint expected")}const p=Rv((E,_)=>{const{px:S,py:T,pz:O}=E;if(n.eql(O,n.ONE))return{x:S,y:T};const P=E.is0();_==null&&(_=P?n.ONE:n.inv(O));const N=n.mul(S,_),A=n.mul(T,_),I=n.mul(O,_);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:N,y:A}}),g=Rv(E=>{if(E.is0()){if(e.allowInfinityPoint&&!n.is0(E.py))return;throw new Error("bad point: ZERO")}const{x:_,y:S}=E.toAffine();if(!n.isValid(_)||!n.isValid(S))throw new Error("bad point: x or y not FE");const T=n.sqr(S),O=c(_);if(!n.eql(T,O))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(_,S,T){if(this.px=_,this.py=S,this.pz=T,_==null||!n.isValid(_))throw new Error("x required");if(S==null||!n.isValid(S))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required");Object.freeze(this)}static fromAffine(_){const{x:S,y:T}=_||{};if(!_||!n.isValid(S)||!n.isValid(T))throw new Error("invalid affine point");if(_ instanceof y)throw new Error("projective point not allowed");const O=P=>n.eql(P,n.ZERO);return O(S)&&O(T)?y.ZERO:new y(S,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const S=n.invertBatch(_.map(T=>T.pz));return _.map((T,O)=>T.toAffine(S[O])).map(y.fromAffine)}static fromHex(_){const S=y.fromAffine(a(Lr("pointHex",_)));return S.assertValidity(),S}static fromPrivateKey(_){return y.BASE.multiply(d(_))}static msm(_,S){return a7(y,r,_,S)}_setWindowSize(_){v.setWindowSize(this,_)}assertValidity(){g(this)}hasEvenY(){const{y:_}=this.toAffine();if(n.isOdd)return!n.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){f(_);const{px:S,py:T,pz:O}=this,{px:P,py:N,pz:A}=_,I=n.eql(n.mul(S,A),n.mul(P,O)),k=n.eql(n.mul(T,A),n.mul(N,O));return I&&k}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:_,b:S}=e,T=n.mul(S,v2),{px:O,py:P,pz:N}=this;let A=n.ZERO,I=n.ZERO,k=n.ZERO,x=n.mul(O,O),B=n.mul(P,P),q=n.mul(N,N),X=n.mul(O,P);return X=n.add(X,X),k=n.mul(O,N),k=n.add(k,k),A=n.mul(_,k),I=n.mul(T,q),I=n.add(A,I),A=n.sub(B,I),I=n.add(B,I),I=n.mul(A,I),A=n.mul(X,A),k=n.mul(T,k),q=n.mul(_,q),X=n.sub(x,q),X=n.mul(_,X),X=n.add(X,k),k=n.add(x,x),x=n.add(k,x),x=n.add(x,q),x=n.mul(x,X),I=n.add(I,x),q=n.mul(P,N),q=n.add(q,q),x=n.mul(q,X),A=n.sub(A,x),k=n.mul(q,B),k=n.add(k,k),k=n.add(k,k),new y(A,I,k)}add(_){f(_);const{px:S,py:T,pz:O}=this,{px:P,py:N,pz:A}=_;let I=n.ZERO,k=n.ZERO,x=n.ZERO;const B=e.a,q=n.mul(e.b,v2);let X=n.mul(S,P),se=n.mul(T,N),W=n.mul(O,A),M=n.add(S,T),R=n.add(P,N);M=n.mul(M,R),R=n.add(X,se),M=n.sub(M,R),R=n.add(S,O);let j=n.add(P,A);return R=n.mul(R,j),j=n.add(X,W),R=n.sub(R,j),j=n.add(T,O),I=n.add(N,A),j=n.mul(j,I),I=n.add(se,W),j=n.sub(j,I),x=n.mul(B,R),I=n.mul(q,W),x=n.add(I,x),I=n.sub(se,x),x=n.add(se,x),k=n.mul(I,x),se=n.add(X,X),se=n.add(se,X),W=n.mul(B,W),R=n.mul(q,R),se=n.add(se,W),W=n.sub(X,W),W=n.mul(B,W),R=n.add(R,W),X=n.mul(se,R),k=n.add(k,X),X=n.mul(j,R),I=n.mul(M,I),I=n.sub(I,X),X=n.mul(M,se),x=n.mul(j,x),x=n.add(x,X),new y(I,k,x)}subtract(_){return this.add(_.negate())}is0(){return this.equals(y.ZERO)}wNAF(_){return v.wNAFCached(this,_,y.normalizeZ)}multiplyUnsafe(_){const{endo:S,n:T}=e;Yi("scalar",_,Wi,T);const O=y.ZERO;if(_===Wi)return O;if(this.is0()||_===An)return this;if(!S||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,_,y.normalizeZ);let{k1neg:P,k1:N,k2neg:A,k2:I}=S.splitScalar(_),k=O,x=O,B=this;for(;N>Wi||I>Wi;)N&An&&(k=k.add(B)),I&An&&(x=x.add(B)),B=B.double(),N>>=An,I>>=An;return P&&(k=k.negate()),A&&(x=x.negate()),x=new y(n.mul(x.px,S.beta),x.py,x.pz),k.add(x)}multiply(_){const{endo:S,n:T}=e;Yi("scalar",_,An,T);let O,P;if(S){const{k1neg:N,k1:A,k2neg:I,k2:k}=S.splitScalar(_);let{p:x,f:B}=this.wNAF(A),{p:q,f:X}=this.wNAF(k);x=v.constTimeNegate(N,x),q=v.constTimeNegate(I,q),q=new y(n.mul(q.px,S.beta),q.py,q.pz),O=x.add(q),P=B.add(X)}else{const{p:N,f:A}=this.wNAF(_);O=N,P=A}return y.normalizeZ([O,P])[0]}multiplyAndAddUnsafe(_,S,T){const O=y.BASE,P=(A,I)=>I===Wi||I===An||!A.equals(O)?A.multiplyUnsafe(I):A.multiply(I),N=P(this,S).add(P(_,T));return N.is0()?void 0:N}toAffine(_){return p(this,_)}isTorsionFree(){const{h:_,isTorsionFree:S}=e;if(_===An)return!0;if(S)return S(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:S}=e;return _===An?this:S?S(y,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return wu("isCompressed",_),this.assertValidity(),s(y,this,_)}toHex(_=!0){return wu("isCompressed",_),vu(this.toRawBytes(_))}}y.BASE=new y(e.Gx,e.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const w=e.nBitLength,v=i7(y,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:c,isWithinCurveOrder:u}}function w7(t){const e=ax(t);return qu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function v7(t){const e=w7(t),{Fp:n,n:r}=e,s=n.BYTES+1,a=2*n.BYTES+1;function c(W){return vr(W,r)}function u(W){return Pv(W,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:p,isWithinCurveOrder:g}=b7({...e,toBytes(W,M,R){const j=M.toAffine(),H=n.toBytes(j.x),V=zh;return wu("isCompressed",R),R?V(Uint8Array.from([M.hasEvenY()?2:3]),H):V(Uint8Array.from([4]),H,n.toBytes(j.y))},fromBytes(W){const M=W.length,R=W[0],j=W.subarray(1);if(M===s&&(R===2||R===3)){const H=hc(j);if(!ty(H,An,n.ORDER))throw new Error("Point is not on curve");const V=p(H);let D;try{D=n.sqrt(V)}catch(te){const ie=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+ie)}const Y=(D&An)===An;return(R&1)===1!==Y&&(D=n.neg(D)),{x:H,y:D}}else if(M===a&&R===4){const H=n.fromBytes(j.subarray(0,n.BYTES)),V=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:H,y:V}}else{const H=s,V=a;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+V+", got "+M)}}}),y=W=>vu(_u(W,e.nByteLength));function w(W){const M=r>>An;return W>M}function v(W){return w(W)?c(-W):W}const E=(W,M,R)=>hc(W.slice(M,R));class _{constructor(M,R,j){this.r=M,this.s=R,this.recovery=j,this.assertValidity()}static fromCompact(M){const R=e.nByteLength;return M=Lr("compactSignature",M,R*2),new _(E(M,0,R),E(M,R,2*R))}static fromDER(M){const{r:R,s:j}=qi.toSig(Lr("DER",M));return new _(R,j)}assertValidity(){Yi("r",this.r,An,r),Yi("s",this.s,An,r)}addRecoveryBit(M){return new _(this.r,this.s,M)}recoverPublicKey(M){const{r:R,s:j,recovery:H}=this,V=A(Lr("msgHash",M));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const D=H===2||H===3?R+e.n:R;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=(H&1)===0?"02":"03",te=d.fromHex(Y+y(D)),ie=u(D),ee=c(-V*ie),le=c(j*ie),ge=d.BASE.multiplyAndAddUnsafe(te,ee,le);if(!ge)throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Eu(this.toDERHex())}toDERHex(){return qi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Eu(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const S={isValidPrivateKey(W){try{return f(W),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const W=rx(e.n);return n7(e.randomBytes(W),e.n)},precompute(W=8,M=d.BASE){return M._setWindowSize(W),M.multiply(BigInt(3)),M}};function T(W,M=!0){return d.fromPrivateKey(W).toRawBytes(M)}function O(W){const M=_c(W),R=typeof W=="string",j=(M||R)&&W.length;return M?j===s||j===a:R?j===2*s||j===2*a:W instanceof d}function P(W,M,R=!0){if(O(W))throw new Error("first arg must be private key");if(!O(M))throw new Error("second arg must be public key");return d.fromHex(M).multiply(f(W)).toRawBytes(R)}const N=e.bits2int||function(W){if(W.length>8192)throw new Error("input is too large");const M=hc(W),R=W.length*8-e.nBitLength;return R>0?M>>BigInt(R):M},A=e.bits2int_modN||function(W){return c(N(W))},I=JE(e.nBitLength);function k(W){return Yi("num < 2^"+e.nBitLength,W,Wi,I),_u(W,e.nByteLength)}function x(W,M,R=B){if(["recovered","canonical"].some(Ne=>Ne in R))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:H}=e;let{lowS:V,prehash:D,extraEntropy:Y}=R;V==null&&(V=!0),W=Lr("msgHash",W),w2(R),D&&(W=Lr("prehashed msgHash",j(W)));const te=A(W),ie=f(M),ee=[k(ie),k(te)];if(Y!=null&&Y!==!1){const Ne=Y===!0?H(n.BYTES):Y;ee.push(Lr("extraEntropy",Ne))}const le=zh(...ee),ge=te;function He(Ne){const Re=N(Ne);if(!g(Re))return;const We=u(Re),_t=d.BASE.multiply(Re).toAffine(),Zt=c(_t.x);if(Zt===Wi)return;const Qt=c(We*c(ge+Zt*ie));if(Qt===Wi)return;let Rn=(_t.x===Zt?0:2)|Number(_t.y&An),bs=Qt;return V&&w(Qt)&&(bs=v(Qt),Rn^=1),new _(Zt,bs,Rn)}return{seed:le,k2sig:He}}const B={lowS:e.lowS,prehash:!1},q={lowS:e.lowS,prehash:!1};function X(W,M,R=B){const{seed:j,k2sig:H}=x(W,M,R),V=e;return XR(V.hash.outputLen,V.nByteLength,V.hmac)(j,H)}d.BASE._setWindowSize(8);function se(W,M,R,j=q){var Qt;const H=W;M=Lr("msgHash",M),R=Lr("publicKey",R);const{lowS:V,prehash:D,format:Y}=j;if(w2(j),"strict"in j)throw new Error("options.strict was renamed to lowS");if(Y!==void 0&&Y!=="compact"&&Y!=="der")throw new Error("format must be compact or der");const te=typeof H=="string"||_c(H),ie=!te&&!Y&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!te&&!ie)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,le;try{if(ie&&(ee=new _(H.r,H.s)),te){try{Y!=="compact"&&(ee=_.fromDER(H))}catch(Rn){if(!(Rn instanceof qi.Err))throw Rn}!ee&&Y!=="der"&&(ee=_.fromCompact(H))}le=d.fromHex(R)}catch{return!1}if(!ee||V&&ee.hasHighS())return!1;D&&(M=e.hash(M));const{r:ge,s:He}=ee,Ne=A(M),Re=u(He),We=c(Ne*Re),_t=c(ge*Re),Zt=(Qt=d.BASE.multiplyAndAddUnsafe(le,We,_t))==null?void 0:Qt.toAffine();return Zt?c(Zt.x)===ge:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:P,sign:X,verify:se,ProjectivePoint:d,Signature:_,utils:S}}function E7(t){return{hash:t,hmac:(e,...n)=>Qm(t,e,Sj(...n)),randomBytes:Fu}}function _7(t,e){const n=r=>v7({...t,...E7(r)});return{...n(e),create:n}}const ox=tx(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),C7=ox.create(BigInt("-3")),A7=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),S7=_7({a:C7,b:A7,Fp:ox,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Hf),cx="base10",ar="base16",$s="base64pad",ja="base64url",Gf="utf8",lx=0,Zi=1,Wf=2,T7=0,E2=1,Sh=12,e1=32;function N7(){const t=$v.utils.randomPrivateKey(),e=$v.getPublicKey(t);return{privateKey:Er(t,ar),publicKey:Er(e,ar)}}function Uv(){const t=Fu(e1);return Er(t,ar)}function O7(t,e){const n=$v.getSharedSecret(ds(t,ar),ds(e,ar)),r=P9(Hf,n,void 0,void 0,e1);return Er(r,ar)}function Xg(t){const e=Hf(ds(t,ar));return Er(e,ar)}function si(t){const e=Hf(ds(t,Gf));return Er(e,ar)}function ux(t){return ds(`${t}`,cx)}function Cc(t){return Number(Er(t,cx))}function dx(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function hx(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function I7(t){const e=ux(typeof t.type<"u"?t.type:lx);if(Cc(e)===Zi&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ds(t.senderPublicKey,ar):void 0,r=typeof t.iv<"u"?ds(t.iv,ar):Fu(Sh),s=ds(t.symKey,ar),a=YR(s,r).encrypt(ds(t.message,Gf)),c=fx({type:e,sealed:a,iv:r,senderPublicKey:n});return t.encoding===ja?dx(c):c}function R7(t){const e=ds(t.symKey,ar),{sealed:n,iv:r}=Fh({encoded:t.encoded,encoding:t.encoding}),s=YR(e,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Er(s,Gf)}function x7(t,e){const n=ux(Wf),r=Fu(Sh),s=ds(t,Gf),a=fx({type:n,sealed:s,iv:r});return e===ja?dx(a):a}function P7(t,e){const{sealed:n}=Fh({encoded:t,encoding:e});return Er(n,Gf)}function fx(t){if(Cc(t.type)===Wf)return Er(Ah([t.type,t.sealed]),$s);if(Cc(t.type)===Zi){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Er(Ah([t.type,t.senderPublicKey,t.iv,t.sealed]),$s)}return Er(Ah([t.type,t.iv,t.sealed]),$s)}function Fh(t){const e=(t.encoding||$s)===ja?hx(t.encoded):t.encoded,n=ds(e,$s),r=n.slice(T7,E2),s=E2;if(Cc(r)===Zi){const d=s+e1,f=d+Sh,p=n.slice(s,d),g=n.slice(d,f),y=n.slice(f);return{type:r,sealed:y,iv:g,senderPublicKey:p}}if(Cc(r)===Wf){const d=n.slice(s),f=Fu(Sh);return{type:r,sealed:d,iv:f}}const a=s+Sh,c=n.slice(s,a),u=n.slice(a);return{type:r,sealed:u,iv:c}}function D7(t,e){const n=Fh({encoded:t,encoding:e==null?void 0:e.encoding});return px({type:Cc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Er(n.senderPublicKey,ar):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function px(t){const e=(t==null?void 0:t.type)||lx;if(e===Zi){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function _2(t){return t.type===Zi&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function C2(t){return t.type===Wf}function $7(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Ah([new Uint8Array([4]),e,n])}function U7(t,e){const[n,r,s]=t.split("."),a=Buffer.from(hx(s),"base64");if(a.length!==64)throw new Error("Invalid signature length");const c=a.slice(0,32),u=a.slice(32,64),d=`${n}.${r}`,f=Hf(d),p=$7(e);if(!S7.verify(Ah([c,u]),f,p))throw new Error("Invalid signature");return yv(t).payload}const M7="irn";function ym(t){return(t==null?void 0:t.relay)||{protocol:M7}}function bh(t){const e=zL[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function k7(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(r)){const a=s.replace(r,""),c=t[s];n[a]=c}}),n}function A2(t){if(!t.includes("wc:")){const f=MR(t);f!=null&&f.includes("wc:")&&(t=f)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n).split("@"),a=typeof n<"u"?t.substring(n):"",c=new URLSearchParams(a),u={};c.forEach((f,p)=>{u[p]=f});const d=typeof u.methods=="string"?u.methods.split(","):void 0;return{protocol:r,topic:B7(s[0]),version:parseInt(s[1],10),symKey:u.symKey,relay:k7(u),methods:d,expiryTimestamp:u.expiryTimestamp?parseInt(u.expiryTimestamp,10):void 0}}function B7(t){return t.startsWith("//")?t.substring(2):t}function L7(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(s=>{const a=s,c=n+e+a;t[a]&&(r[c]=t[a])}),r}function S2(t){const e=new URLSearchParams,n=L7(t.relay);Object.keys(n).sort().forEach(s=>{e.set(s,n[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Ig(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function Hu(t){const e=[];return t.forEach(n=>{const[r,s]=n.split(":");e.push(`${r}:${s}`)}),e}function j7(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Hu(n.accounts))}),e}function z7(t,e){const n=[];return Object.values(t).forEach(r=>{Hu(r.accounts).includes(e)&&n.push(...r.methods)}),n}function F7(t,e){const n=[];return Object.values(t).forEach(r=>{Hu(r.accounts).includes(e)&&n.push(...r.events)}),n}function t1(t){return t.includes(":")}function wh(t){return t1(t)?t.split(":")[0]:t}function q7(t){const e={};return t==null||t.forEach(n=>{var r;const[s,a]=n.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(n),(r=e[s].chains)==null||r.push(`${s}:${a}`)}),e}function T2(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=q7(e);for(const[r,s]of Object.entries(n))s.methods?s.methods=Zg(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return n}const H7={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},V7={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function me(t,e){const{message:n,code:r}=V7[t];return{message:e?`${n} ${e}`:n,code:r}}function Tt(t,e){const{message:n,code:r}=H7[t];return{message:e?`${n} ${e}`:n,code:r}}function ro(t,e){return!!Array.isArray(t)}function qh(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Bn(t){return typeof t>"u"}function on(t,e){return e&&Bn(t)?!0:typeof t=="string"&&!!t.trim().length}function n1(t,e){return e&&Bn(t)?!0:typeof t=="number"&&!isNaN(t)}function G7(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),s=Object.keys(n);let a=!0;return Xo(s,r)?(r.forEach(c=>{const{accounts:u,methods:d,events:f}=t.namespaces[c],p=Hu(u),g=n[c];(!Xo(xR(c,g),p)||!Xo(g.methods,d)||!Xo(g.events,f))&&(a=!1)}),a):!1}function bm(t){return on(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function W7(t){if(on(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&bm(n)}}return!1}function K7(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(on(t,!1)){if(e(t))return!0;const n=MR(t);return e(n)}}catch{}return!1}function Y7(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Z7(t){return t==null?void 0:t.topic}function Q7(t,e){let n=null;return on(t==null?void 0:t.publicKey,!1)||(n=me("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function N2(t){let e=!0;return ro(t)?t.length&&(e=t.every(n=>on(n,!1))):e=!1,e}function X7(t,e,n){let r=null;return ro(e)&&e.length?e.forEach(s=>{r||bm(s)||(r=Tt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):bm(t)||(r=Tt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function J7(t,e,n){let r=null;return Object.entries(t).forEach(([s,a])=>{if(r)return;const c=X7(s,xR(s,a),`${e} ${n}`);c&&(r=c)}),r}function ez(t,e){let n=null;return ro(t)?t.forEach(r=>{n||W7(r)||(n=Tt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Tt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function tz(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=ez(r==null?void 0:r.accounts,`${e} namespace`);s&&(n=s)}),n}function nz(t,e){let n=null;return N2(t==null?void 0:t.methods)?N2(t==null?void 0:t.events)||(n=Tt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Tt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function gx(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const s=nz(r,`${e}, namespace`);s&&(n=s)}),n}function rz(t,e,n){let r=null;if(t&&qh(t)){const s=gx(t,e);s&&(r=s);const a=J7(t,e,n);a&&(r=a)}else r=me("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function m0(t,e){let n=null;if(t&&qh(t)){const r=gx(t,e);r&&(n=r);const s=tz(t,e);s&&(n=s)}else n=me("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function mx(t){return on(t.protocol,!0)}function sz(t,e){let n=!1;return t?t&&ro(t)&&t.length&&t.forEach(r=>{n=mx(r)}):n=!0,n}function iz(t){return typeof t=="number"}function yr(t){return typeof t<"u"&&typeof t!==null}function az(t){return!(!t||typeof t!="object"||!t.code||!n1(t.code,!1)||!t.message||!on(t.message,!1))}function oz(t){return!(Bn(t)||!on(t.method,!1))}function cz(t){return!(Bn(t)||Bn(t.result)&&Bn(t.error)||!n1(t.id,!1)||!on(t.jsonrpc,!1))}function lz(t){return!(Bn(t)||!on(t.name,!1))}function O2(t,e){return!(!bm(e)||!j7(t).includes(e))}function uz(t,e,n){return on(n,!1)?z7(t,e).includes(n):!1}function dz(t,e,n){return on(n,!1)?F7(t,e).includes(n):!1}function I2(t,e,n){let r=null;const s=hz(t),a=fz(e),c=Object.keys(s),u=Object.keys(a),d=R2(Object.keys(t)),f=R2(Object.keys(e)),p=d.filter(g=>!f.includes(g));return p.length&&(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Xo(c,u)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||r)return;const y=Hu(e[g].accounts);y.includes(g)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),c.forEach(g=>{r||(Xo(s[g].methods,a[g].methods)?Xo(s[g].events,a[g].events)||(r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${g}`)):r=me("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${g}`))}),r}function hz(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(s=>{e[s]={methods:t[n].methods,events:t[n].events}})}),e}function R2(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function fz(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Hu(t[n].accounts);r==null||r.forEach(s=>{e[s]={accounts:t[n].accounts.filter(a=>a.includes(`${s}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function pz(t,e){return n1(t,!1)&&t<=e.max&&t>=e.min}function x2(){const t=Ff();return new Promise(e=>{switch(t){case Fr.browser:e(gz());break;case Fr.reactNative:e(mz());break;case Fr.node:e(yz());break;default:e(!0)}})}function gz(){return zf()&&(navigator==null?void 0:navigator.onLine)}async function mz(){if(go()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function yz(){return!0}function bz(t){switch(Ff()){case Fr.browser:wz(t);break;case Fr.reactNative:vz(t);break}}function wz(t){!go()&&zf()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function vz(t){go()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const y0={};class ah{static get(e){return y0[e]}static set(e,n){y0[e]=n}static delete(e){delete y0[e]}}const Ez="PARSE_ERROR",_z="INVALID_REQUEST",Cz="METHOD_NOT_FOUND",Az="INVALID_PARAMS",yx="INTERNAL_ERROR",r1="SERVER_ERROR",Sz=[-32700,-32600,-32601,-32602,-32603],Th={[Ez]:{code:-32700,message:"Parse error"},[_z]:{code:-32600,message:"Invalid Request"},[Cz]:{code:-32601,message:"Method not found"},[Az]:{code:-32602,message:"Invalid params"},[yx]:{code:-32603,message:"Internal error"},[r1]:{code:-32e3,message:"Server error"}},bx=r1;function Tz(t){return Sz.includes(t)}function P2(t){return Object.keys(Th).includes(t)?Th[t]:Th[bx]}function Nz(t){const e=Object.values(Th).find(n=>n.code===t);return e||Th[bx]}function wx(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var b0={},Bi={},D2;function Oz(){if(D2)return Bi;D2=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.isBrowserCryptoAvailable=Bi.getSubtleCrypto=Bi.getBrowerCrypto=void 0;function t(){return(ri==null?void 0:ri.crypto)||(ri==null?void 0:ri.msCrypto)||{}}Bi.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Bi.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Bi.isBrowserCryptoAvailable=n,Bi}var Li={},$2;function Iz(){if($2)return Li;$2=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.isBrowser=Li.isNode=Li.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Li.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Li.isNode=e;function n(){return!t()&&!e()}return Li.isBrowser=n,Li}var U2;function Rz(){return U2||(U2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Uf;e.__exportStar(Oz(),t),e.__exportStar(Iz(),t)}(b0)),b0}var xz=Rz();function Xs(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Jo(t=6){return BigInt(Xs(t))}function eo(t,e,n){return{id:n||Xs(),jsonrpc:"2.0",method:t,params:e}}function ny(t,e){return{id:t,jsonrpc:"2.0",result:e}}function ry(t,e,n){return{id:t,jsonrpc:"2.0",error:Pz(e)}}function Pz(t,e){return typeof t>"u"?P2(yx):(typeof t=="string"&&(t=Object.assign(Object.assign({},P2(r1)),{message:t})),Tz(t.code)&&(t=Nz(t.code)),t)}let Dz=class{},$z=class extends Dz{constructor(){super()}},Uz=class extends $z{constructor(e){super()}};const Mz="^https?:",kz="^wss?:";function Bz(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function vx(t,e){const n=Bz(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function M2(t){return vx(t,Mz)}function k2(t){return vx(t,kz)}function Lz(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Ex(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function s1(t){return Ex(t)&&"method"in t}function sy(t){return Ex(t)&&(Js(t)||us(t))}function Js(t){return"result"in t}function us(t){return"error"in t}let ms=class extends Uz{constructor(e){super(e),this.events=new ps.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(eo(e.method,e.params||[],e.id||Jo().toString()),n)}async requestStrict(e,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(a){s(a)}this.events.on(`${e.id}`,a=>{us(a)?s(a.error):r(a.result)});try{await this.connection.send(e,n)}catch(a){s(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),sy(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const jz=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),zz=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",B2=t=>t.split("?")[0],L2=10,Fz=jz();let qz=class{constructor(e){if(this.url=e,this.events=new ps.EventEmitter,this.registering=!1,!k2(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ea(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!k2(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const s=xz.isReactNative()?void 0:{rejectUnauthorized:!Lz(e)},a=new Fz(e,[],s);zz()?a.onerror=c=>{const u=c;r(this.emitError(u.error))}:a.on("error",c=>{r(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),n(a)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?bc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),a=ry(e,s);this.events.emit("payload",a)}parseError(e,n=this.url){return wx(e,B2(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>L2&&this.events.setMaxListeners(L2)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${B2(this.url)}`));return this.events.emit("register_error",n),n}};var Hz={};const _x="wc",Cx=2,Mv="core",ci=`${_x}@2:${Mv}:`,Vz={logger:"error"},Gz={database:":memory:"},Wz="crypto",j2="client_ed25519_seed",Kz=pe.ONE_DAY,Yz="keychain",Zz="0.3",Qz="messages",Xz="0.3",z2=pe.SIX_HOURS,Jz="publisher",Ax="irn",eF="error",Sx="wss://relay.walletconnect.org",tF="relayer",Tn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},nF="_subscription",rs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},rF=.1,kv="2.19.2",kt={link_mode:"link_mode",relay:"relay"},Jg={inbound:"inbound",outbound:"outbound"},sF="0.3",iF="WALLETCONNECT_CLIENT_ID",F2="WALLETCONNECT_LINK_MODE_APPS",Br={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},aF="subscription",oF="0.3",cF="pairing",lF="0.3",oh={wc_pairingDelete:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:pe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:pe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:0},res:{ttl:pe.ONE_DAY,prompt:!1,tag:0}}},Zo={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},As={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},uF="history",dF="0.3",hF="expirer",cs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},fF="0.3",pF="verify-api",gF="https://verify.walletconnect.com",Tx="https://verify.walletconnect.org",Nh=Tx,mF=`${Nh}/v3`,yF=[gF,Tx],bF="echo",wF="https://echo.walletconnect.com",Qs={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},zi={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ss={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},zo={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Fo={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ch={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},vF=.1,EF="event-client",_F=86400,CF="https://pulse.walletconnect.org/batch";function AF(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var a=t.charAt(s),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=s}var u=t.length,d=t.charAt(0),f=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,_=0,S=0,T=v.length;S!==T&&v[S]===0;)S++,E++;for(var O=(T-S)*p+1>>>0,P=new Uint8Array(O);S!==T;){for(var N=v[S],A=0,I=O-1;(N!==0||A<_)&&I!==-1;I--,A++)N+=256*P[I]>>>0,P[I]=N%u>>>0,N=N/u>>>0;if(N!==0)throw new Error("Non-zero carry");_=A,S++}for(var k=O-_;k!==O&&P[k]===0;)k++;for(var x=d.repeat(E);k<O;++k)x+=t.charAt(P[k]);return x}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var _=0,S=0;v[E]===d;)_++,E++;for(var T=(v.length-E)*f+1>>>0,O=new Uint8Array(T);v[E];){var P=n[v.charCodeAt(E)];if(P===255)return;for(var N=0,A=T-1;(P!==0||N<S)&&A!==-1;A--,N++)P+=u*O[A]>>>0,O[A]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=N,E++}if(v[E]!==" "){for(var I=T-S;I!==T&&O[I]===0;)I++;for(var k=new Uint8Array(_+(T-I)),x=_;I!==T;)k[x++]=O[I++];return k}}}function w(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:w}}var SF=AF,TF=SF;const Nx=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},NF=t=>new TextEncoder().encode(t),OF=t=>new TextDecoder().decode(t);class IF{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class RF{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Ox(this,e)}}class xF{constructor(e){this.decoders=e}or(e){return Ox(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ox=(t,e)=>new xF({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class PF{constructor(e,n,r,s){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new IF(e,n,r),this.decoder=new RF(e,n,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const iy=({name:t,prefix:e,encode:n,decode:r})=>new PF(t,e,n,r),Kf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:s}=TF(n,e);return iy({prefix:t,name:e,encode:r,decode:a=>Nx(s(a))})},DF=(t,e,n,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,d=0,f=0;for(let p=0;p<a;++p){const g=s[t[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);d=d<<n|g,u+=n,u>=8&&(u-=8,c[f++]=255&d>>u)}if(u>=n||255&d<<8-u)throw new SyntaxError("Unexpected end of data");return c},$F=(t,e,n)=>{const r=e[e.length-1]==="=",s=(1<<n)-1;let a="",c=0,u=0;for(let d=0;d<t.length;++d)for(u=u<<8|t[d],c+=8;c>n;)c-=n,a+=e[s&u>>c];if(c&&(a+=e[s&u<<n-c]),r)for(;a.length*n&7;)a+="=";return a},Fn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>iy({prefix:e,name:t,encode(s){return $F(s,r,n)},decode(s){return DF(s,r,n,t)}}),UF=iy({prefix:"\0",name:"identity",encode:t=>OF(t),decode:t=>NF(t)});var MF=Object.freeze({__proto__:null,identity:UF});const kF=Fn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var BF=Object.freeze({__proto__:null,base2:kF});const LF=Fn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var jF=Object.freeze({__proto__:null,base8:LF});const zF=Kf({prefix:"9",name:"base10",alphabet:"0123456789"});var FF=Object.freeze({__proto__:null,base10:zF});const qF=Fn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),HF=Fn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var VF=Object.freeze({__proto__:null,base16:qF,base16upper:HF});const GF=Fn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),WF=Fn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),KF=Fn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),YF=Fn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ZF=Fn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),QF=Fn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),XF=Fn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),JF=Fn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eq=Fn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tq=Object.freeze({__proto__:null,base32:GF,base32upper:WF,base32pad:KF,base32padupper:YF,base32hex:ZF,base32hexupper:QF,base32hexpad:XF,base32hexpadupper:JF,base32z:eq});const nq=Kf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rq=Kf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var sq=Object.freeze({__proto__:null,base36:nq,base36upper:rq});const iq=Kf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),aq=Kf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var oq=Object.freeze({__proto__:null,base58btc:iq,base58flickr:aq});const cq=Fn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lq=Fn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),uq=Fn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dq=Fn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hq=Object.freeze({__proto__:null,base64:cq,base64pad:lq,base64url:uq,base64urlpad:dq});const Ix=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),fq=Ix.reduce((t,e,n)=>(t[n]=e,t),[]),pq=Ix.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function gq(t){return t.reduce((e,n)=>(e+=fq[n],e),"")}function mq(t){const e=[];for(const n of t){const r=pq[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const yq=iy({prefix:"🚀",name:"base256emoji",encode:gq,decode:mq});var bq=Object.freeze({__proto__:null,base256emoji:yq}),wq=Rx,q2=128,vq=-128,Eq=Math.pow(2,31);function Rx(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Eq;)e[n++]=t&255|q2,t/=128;for(;t&vq;)e[n++]=t&255|q2,t>>>=7;return e[n]=t|0,Rx.bytes=n-r+1,e}var _q=Bv,Cq=128,H2=127;function Bv(t,r){var n=0,r=r||0,s=0,a=r,c,u=t.length;do{if(a>=u)throw Bv.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=s<28?(c&H2)<<s:(c&H2)*Math.pow(2,s),s+=7}while(c>=Cq);return Bv.bytes=a-r,n}var Aq=Math.pow(2,7),Sq=Math.pow(2,14),Tq=Math.pow(2,21),Nq=Math.pow(2,28),Oq=Math.pow(2,35),Iq=Math.pow(2,42),Rq=Math.pow(2,49),xq=Math.pow(2,56),Pq=Math.pow(2,63),Dq=function(t){return t<Aq?1:t<Sq?2:t<Tq?3:t<Nq?4:t<Oq?5:t<Iq?6:t<Rq?7:t<xq?8:t<Pq?9:10},$q={encode:wq,decode:_q,encodingLength:Dq},xx=$q;const V2=(t,e,n=0)=>(xx.encode(t,e,n),e),G2=t=>xx.encodingLength(t),Lv=(t,e)=>{const n=e.byteLength,r=G2(t),s=r+G2(n),a=new Uint8Array(s+n);return V2(t,a,0),V2(n,a,r),a.set(e,s),new Uq(t,n,e,a)};class Uq{constructor(e,n,r,s){this.code=e,this.size=n,this.digest=r,this.bytes=s}}const Px=({name:t,code:e,encode:n})=>new Mq(t,e,n);class Mq{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Lv(this.code,n):n.then(r=>Lv(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Dx=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),kq=Px({name:"sha2-256",code:18,encode:Dx("SHA-256")}),Bq=Px({name:"sha2-512",code:19,encode:Dx("SHA-512")});var Lq=Object.freeze({__proto__:null,sha256:kq,sha512:Bq});const $x=0,jq="identity",Ux=Nx,zq=t=>Lv($x,Ux(t)),Fq={code:$x,name:jq,encode:Ux,digest:zq};var qq=Object.freeze({__proto__:null,identity:Fq});new TextEncoder,new TextDecoder;const W2={...MF,...BF,...jF,...FF,...VF,...tq,...sq,...oq,...hq,...bq};({...Lq,...qq});function Hq(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Mx(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const K2=Mx("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),w0=Mx("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Hq(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Vq={utf8:K2,"utf-8":K2,hex:W2.base16,latin1:w0,ascii:w0,binary:w0,...W2};function Gq(t,e="utf8"){const n=Vq[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var Wq=Object.defineProperty,Kq=(t,e,n)=>e in t?Wq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ks=(t,e,n)=>Kq(t,typeof e!="symbol"?e+"":e,n);class Yq{constructor(e,n){this.core=e,this.logger=n,Ks(this,"keychain",new Map),Ks(this,"name",Yz),Ks(this,"version",Zz),Ks(this,"initialized",!1),Ks(this,"storagePrefix",ci),Ks(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ks(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ks(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Ks(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:a}=me("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(a)}return s}),Ks(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Qn(n,this.name)}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Av(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Sv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Zq=Object.defineProperty,Qq=(t,e,n)=>e in t?Zq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Un=(t,e,n)=>Qq(t,typeof e!="symbol"?e+"":e,n);class Xq{constructor(e,n,r){this.core=e,this.logger=n,Un(this,"name",Wz),Un(this,"keychain"),Un(this,"randomSessionIdentifier",Uv()),Un(this,"initialized",!1),Un(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Un(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Un(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),a=AT(s);return QI(a.publicKey)}),Un(this,"generateKeyPair",()=>{this.isInitialized();const s=N7();return this.setPrivateKey(s.publicKey,s.privateKey)}),Un(this,"signJWT",async s=>{this.isInitialized();const a=await this.getClientSeed(),c=AT(a),u=this.randomSessionIdentifier;return await Kk(u,s,Kz,c)}),Un(this,"generateSharedKey",(s,a,c)=>{this.isInitialized();const u=this.getPrivateKey(s),d=O7(u,a);return this.setSymKey(d,c)}),Un(this,"setSymKey",async(s,a)=>{this.isInitialized();const c=a||Xg(s);return await this.keychain.set(c,s),c}),Un(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Un(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Un(this,"encode",async(s,a,c)=>{this.isInitialized();const u=px(c),d=ea(a);if(C2(u))return x7(d,c==null?void 0:c.encoding);if(_2(u)){const y=u.senderPublicKey,w=u.receiverPublicKey;s=await this.generateSharedKey(y,w)}const f=this.getSymKey(s),{type:p,senderPublicKey:g}=u;return I7({type:p,symKey:f,message:d,senderPublicKey:g,encoding:c==null?void 0:c.encoding})}),Un(this,"decode",async(s,a,c)=>{this.isInitialized();const u=D7(a,c);if(C2(u)){const d=P7(a,c==null?void 0:c.encoding);return bc(d)}if(_2(u)){const d=u.receiverPublicKey,f=u.senderPublicKey;s=await this.generateSharedKey(d,f)}try{const d=this.getSymKey(s),f=R7({symKey:d,encoded:a,encoding:c==null?void 0:c.encoding});return bc(f)}catch(d){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(d)}}),Un(this,"getPayloadType",(s,a=$s)=>{const c=Fh({encoded:s,encoding:a});return Cc(c.type)}),Un(this,"getPayloadSenderPublicKey",(s,a=$s)=>{const c=Fh({encoded:s,encoding:a});return c.senderPublicKey?Er(c.senderPublicKey,ar):void 0}),this.core=e,this.logger=Qn(n,this.name),this.keychain=r||new Yq(this.core,this.logger)}get context(){return Ar(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(j2)}catch{e=Uv(),await this.keychain.set(j2,e)}return Gq(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Jq=Object.defineProperty,eH=Object.defineProperties,tH=Object.getOwnPropertyDescriptors,Y2=Object.getOwnPropertySymbols,nH=Object.prototype.hasOwnProperty,rH=Object.prototype.propertyIsEnumerable,jv=(t,e,n)=>e in t?Jq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sH=(t,e)=>{for(var n in e||(e={}))nH.call(e,n)&&jv(t,n,e[n]);if(Y2)for(var n of Y2(e))rH.call(e,n)&&jv(t,n,e[n]);return t},iH=(t,e)=>eH(t,tH(e)),Mr=(t,e,n)=>jv(t,typeof e!="symbol"?e+"":e,n);class aH extends GU{constructor(e,n){super(e,n),this.logger=e,this.core=n,Mr(this,"messages",new Map),Mr(this,"messagesWithoutClientAck",new Map),Mr(this,"name",Qz),Mr(this,"version",Xz),Mr(this,"initialized",!1),Mr(this,"storagePrefix",ci),Mr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Mr(this,"set",async(r,s,a)=>{this.isInitialized();const c=si(s);let u=this.messages.get(r);if(typeof u>"u"&&(u={}),typeof u[c]<"u")return c;if(u[c]=s,this.messages.set(r,u),a===Jg.inbound){const d=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,iH(sH({},d),{[c]:s}))}return await this.persist(),c}),Mr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Mr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const a of r){const c=this.messagesWithoutClientAck.get(a)||{};s[a]=Object.values(c)}return s}),Mr(this,"has",(r,s)=>{this.isInitialized();const a=this.get(r),c=si(s);return typeof a[c]<"u"}),Mr(this,"ack",async(r,s)=>{this.isInitialized();const a=this.messagesWithoutClientAck.get(r);if(typeof a>"u")return;const c=si(s);delete a[c],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,a),await this.persist()}),Mr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Qn(e,this.name),this.core=n}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Av(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Av(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Sv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Sv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var oH=Object.defineProperty,cH=Object.defineProperties,lH=Object.getOwnPropertyDescriptors,Z2=Object.getOwnPropertySymbols,uH=Object.prototype.hasOwnProperty,dH=Object.prototype.propertyIsEnumerable,zv=(t,e,n)=>e in t?oH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rg=(t,e)=>{for(var n in e||(e={}))uH.call(e,n)&&zv(t,n,e[n]);if(Z2)for(var n of Z2(e))dH.call(e,n)&&zv(t,n,e[n]);return t},v0=(t,e)=>cH(t,lH(e)),Ts=(t,e,n)=>zv(t,typeof e!="symbol"?e+"":e,n);class hH extends WU{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ts(this,"events",new ps.EventEmitter),Ts(this,"name",Jz),Ts(this,"queue",new Map),Ts(this,"publishTimeout",pe.toMiliseconds(pe.ONE_MINUTE)),Ts(this,"initialPublishTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),Ts(this,"needsTransportRestart",!1),Ts(this,"publish",async(r,s,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:a}});const u=(a==null?void 0:a.ttl)||z2,d=ym(a),f=(a==null?void 0:a.prompt)||!1,p=(a==null?void 0:a.tag)||0,g=(a==null?void 0:a.id)||Jo().toString(),y={topic:r,message:s,opts:{ttl:u,relay:d,prompt:f,tag:p,id:g,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}},w=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{const v=new Promise(async E=>{const _=({id:T})=>{y.opts.id===T&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(Tn.publish,_),E(y))};this.relayer.events.on(Tn.publish,_);const S=Ja(new Promise((T,O)=>{this.rpcPublish({topic:r,message:s,ttl:u,prompt:f,tag:p,id:g,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}).then(T).catch(P=>{this.logger.warn(P,P==null?void 0:P.message),O(P)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await S,this.events.removeListener(Tn.publish,_)}catch(T){this.queue.set(g,v0(Rg({},y),{attempt:1})),this.logger.warn(T,T==null?void 0:T.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:r,message:s,opts:a}}),await Ja(v,this.publishTimeout,w)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(c=a==null?void 0:a.internal)!=null&&c.throwOnFailedPublish)throw v}finally{this.queue.delete(g)}}),Ts(this,"on",(r,s)=>{this.events.on(r,s)}),Ts(this,"once",(r,s)=>{this.events.once(r,s)}),Ts(this,"off",(r,s)=>{this.events.off(r,s)}),Ts(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Qn(n,this.name),this.registerEventListeners()}get context(){return Ar(this.logger)}async rpcPublish(e){var n,r,s,a;const{topic:c,message:u,ttl:d=z2,prompt:f,tag:p,id:g,attestation:y,tvf:w}=e,v={method:bh(ym().protocol).publish,params:Rg({topic:c,message:u,ttl:d,prompt:f,tag:p,attestation:y},w),id:g};Bn((n=v.params)==null?void 0:n.prompt)&&((r=v.params)==null||delete r.prompt),Bn((s=v.params)==null?void 0:s.tag)&&((a=v.params)==null||delete a.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v});const E=await this.relayer.request(v);return this.relayer.events.emit(Tn.publish,e),this.logger.debug("Successfully Published Payload"),E}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,v0(Rg({},e),{attempt:r}));const{topic:s,message:a,opts:c,attestation:u}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(v0(Rg({},e),{topic:s,message:a,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:u,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Mu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Tn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Tn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var fH=Object.defineProperty,pH=(t,e,n)=>e in t?fH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rl=(t,e,n)=>pH(t,typeof e!="symbol"?e+"":e,n);class gH{constructor(){Rl(this,"map",new Map),Rl(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Rl(this,"get",e=>this.map.get(e)||[]),Rl(this,"exists",(e,n)=>this.get(e).includes(n)),Rl(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const s=r.filter(a=>a!==n);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Rl(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var mH=Object.defineProperty,yH=Object.defineProperties,bH=Object.getOwnPropertyDescriptors,Q2=Object.getOwnPropertySymbols,wH=Object.prototype.hasOwnProperty,vH=Object.prototype.propertyIsEnumerable,Fv=(t,e,n)=>e in t?mH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lh=(t,e)=>{for(var n in e||(e={}))wH.call(e,n)&&Fv(t,n,e[n]);if(Q2)for(var n of Q2(e))vH.call(e,n)&&Fv(t,n,e[n]);return t},E0=(t,e)=>yH(t,bH(e)),It=(t,e,n)=>Fv(t,typeof e!="symbol"?e+"":e,n);class EH extends ZU{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,It(this,"subscriptions",new Map),It(this,"topicMap",new gH),It(this,"events",new ps.EventEmitter),It(this,"name",aF),It(this,"version",oF),It(this,"pending",new Map),It(this,"cached",[]),It(this,"initialized",!1),It(this,"storagePrefix",ci),It(this,"subscribeTimeout",pe.toMiliseconds(pe.ONE_MINUTE)),It(this,"initialSubscribeTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),It(this,"clientId"),It(this,"batchSubscribeTopicsLimit",500),It(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),It(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const a=ym(s),c={topic:r,relay:a,transportType:s==null?void 0:s.transportType};this.pending.set(r,c);const u=await this.rpcSubscribe(r,a,s);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),It(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),It(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),It(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(a=>a.topic===r))})),It(this,"on",(r,s)=>{this.events.on(r,s)}),It(this,"once",(r,s)=>{this.events.once(r,s)}),It(this,"off",(r,s)=>{this.events.off(r,s)}),It(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),It(this,"start",async()=>{await this.onConnect()}),It(this,"stop",async()=>{await this.onDisconnect()}),It(this,"restart",async()=>{await this.restore(),await this.onRestart()}),It(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),It(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Mu.pulse,async()=>{await this.checkPending()}),this.events.on(Br.created,async r=>{const s=Br.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Br.deleted,async r=>{const s=Br.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Qn(n,this.name),this.clientId=""}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const s=ym(r);await this.restartToComplete({topic:e,id:n,relay:s}),await this.rpcUnsubscribe(e,n,s);const a=Tt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,n,r){var s;(!r||(r==null?void 0:r.transportType)===kt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:bh(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const u=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===kt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},pe.toMiliseconds(pe.ONE_SECOND)),u;const d=new Promise(async p=>{const g=y=>{y.topic===e&&(this.events.removeListener(Br.created,g),p(y.id))};this.events.on(Br.created,g);try{const y=await Ja(new Promise((w,v)=>{this.relayer.request(a).catch(E=>{this.logger.warn(E,E==null?void 0:E.message),v(E)}).then(w)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Br.created,g),p(y)}catch{}}),f=await Ja(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!f&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return f?u:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Tn.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:bh(n.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Ja(new Promise(s=>{this.relayer.request(r).catch(a=>this.logger.warn(a)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Tn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:bh(n.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Ja(new Promise((a,c)=>{this.relayer.request(r).catch(u=>{this.logger.warn(u),c(u)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Tn.connection_stalled)}return s}rpcUnsubscribe(e,n,r){const s={method:bh(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,n){this.setSubscription(e,E0(lh({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,lh({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,lh({},n)),this.topicMap.set(n.topic,e),this.events.emit(Br.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Br.deleted,E0(lh({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Br.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Br.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>E0(lh({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await pj(pe.toMiliseconds(pe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return si(e+await this.getClientId())}}var _H=Object.defineProperty,X2=Object.getOwnPropertySymbols,CH=Object.prototype.hasOwnProperty,AH=Object.prototype.propertyIsEnumerable,qv=(t,e,n)=>e in t?_H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J2=(t,e)=>{for(var n in e||(e={}))CH.call(e,n)&&qv(t,n,e[n]);if(X2)for(var n of X2(e))AH.call(e,n)&&qv(t,n,e[n]);return t},ft=(t,e,n)=>qv(t,typeof e!="symbol"?e+"":e,n);class SH extends KU{constructor(e){super(e),ft(this,"protocol","wc"),ft(this,"version",2),ft(this,"core"),ft(this,"logger"),ft(this,"events",new ps.EventEmitter),ft(this,"provider"),ft(this,"messages"),ft(this,"subscriber"),ft(this,"publisher"),ft(this,"name",tF),ft(this,"transportExplicitlyClosed",!1),ft(this,"initialized",!1),ft(this,"connectionAttemptInProgress",!1),ft(this,"relayUrl"),ft(this,"projectId"),ft(this,"packageName"),ft(this,"bundleId"),ft(this,"hasExperiencedNetworkDisruption",!1),ft(this,"pingTimeout"),ft(this,"heartBeatTimeout",pe.toMiliseconds(pe.THIRTY_SECONDS+pe.FIVE_SECONDS)),ft(this,"reconnectTimeout"),ft(this,"connectPromise"),ft(this,"reconnectInProgress",!1),ft(this,"requestsInFlight",[]),ft(this,"connectTimeout",pe.toMiliseconds(pe.ONE_SECOND*15)),ft(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const a=n.id||Jo().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const c=`${a}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),ft(this,"resetPingTimeout",()=>{gm()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(c){this.logger.warn(c,c==null?void 0:c.message)}},this.heartBeatTimeout))}),ft(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ft(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Tn.connect)}),ft(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),ft(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Tn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ft(this,"registerProviderListeners",()=>{this.provider.on(rs.payload,this.onPayloadHandler),this.provider.on(rs.connect,this.onConnectHandler),this.provider.on(rs.disconnect,this.onDisconnectHandler),this.provider.on(rs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Qn(e.logger,this.name):kf(ku({level:e.logger||eF})),this.messages=new aH(this.logger,e.core),this.subscriber=new EH(this,this.logger),this.publisher=new hH(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Sx,this.projectId=e.projectId,XL()?this.packageName=GT():JL()&&(this.bundleId=GT()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Ar(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:kt.relay},Jg.outbound)}async subscribe(e,n){var r,s,a;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const c=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let u=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",d;const f=p=>{p.topic===e&&(this.subscriber.off(Br.created,f),d())};return await Promise.all([new Promise(p=>{d=p,this.subscriber.on(Br.created,f)}),new Promise(async(p,g)=>{u=await this.subscriber.subscribe(e,J2({internal:{throwOnFailedPublish:c}},n)).catch(y=>{c&&g(y)})||u,p()})]),u}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ja(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await x2())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const s=dn(pe.FIVE_MINUTES),a={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,a)}this.events.emit(Tn.message,e),await this.recordMessageEvent(e,Jg.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const a=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(rs.disconnect,a),await Ja(new Promise((c,u)=>{this.provider.connect().then(c).catch(u)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{s(c)}).finally(()=>{this.provider.off(rs.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,u)=>{const d=()=>{u(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(rs.disconnect,d),await this.subscriber.start().then(c).catch(u).finally(()=>{this.provider.off(rs.disconnect,d)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,pe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,s,a;if(gm())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((a=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c==null?void 0:c.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ms(new qz(sj({sdkVersion:kv,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:s}=e;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),s1(e)){if(!e.method.endsWith(nF))return;const n=e.params,{topic:r,message:s,publishedAt:a,attestation:c}=n.data,u={topic:r,message:s,publishedAt:a,transportType:kt.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(J2({type:"event",event:n.id},u)),this.events.emit(n.id,u),await this.acknowledgePayload(e),await this.onMessageEvent(u)}else sy(e)&&this.events.emit(Tn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Jg.inbound),this.events.emit(Tn.message,e))}async acknowledgePayload(e){const n=ny(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(rs.payload,this.onPayloadHandler),this.provider.off(rs.connect,this.onConnectHandler),this.provider.off(rs.disconnect,this.onDisconnectHandler),this.provider.off(rs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await x2();bz(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Tn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},pe.toMiliseconds(rF)))))}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function TH(){}function eN(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function tN(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function nN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const NH="[object RegExp]",OH="[object String]",IH="[object Number]",RH="[object Boolean]",rN="[object Arguments]",xH="[object Symbol]",PH="[object Date]",DH="[object Map]",$H="[object Set]",UH="[object Array]",MH="[object Function]",kH="[object ArrayBuffer]",_0="[object Object]",BH="[object Error]",LH="[object DataView]",jH="[object Uint8Array]",zH="[object Uint8ClampedArray]",FH="[object Uint16Array]",qH="[object Uint32Array]",HH="[object BigUint64Array]",VH="[object Int8Array]",GH="[object Int16Array]",WH="[object Int32Array]",KH="[object BigInt64Array]",YH="[object Float32Array]",ZH="[object Float64Array]";function QH(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function XH(t,e,n){return vh(t,e,void 0,void 0,void 0,void 0,n)}function vh(t,e,n,r,s,a,c){const u=c(t,e,n,r,s,a);if(u!==void 0)return u;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Oh(t,e,a,c)}return Oh(t,e,a,c)}function Oh(t,e,n,r){if(Object.is(t,e))return!0;let s=nN(t),a=nN(e);if(s===rN&&(s=_0),a===rN&&(a=_0),s!==a)return!1;switch(s){case OH:return t.toString()===e.toString();case IH:{const d=t.valueOf(),f=e.valueOf();return QH(d,f)}case RH:case PH:case xH:return Object.is(t.valueOf(),e.valueOf());case NH:return t.source===e.source&&t.flags===e.flags;case MH:return t===e}n=n??new Map;const c=n.get(t),u=n.get(e);if(c!=null&&u!=null)return c===e;n.set(t,e),n.set(e,t);try{switch(s){case DH:{if(t.size!==e.size)return!1;for(const[d,f]of t.entries())if(!e.has(d)||!vh(f,e.get(d),d,t,e,n,r))return!1;return!0}case $H:{if(t.size!==e.size)return!1;const d=Array.from(t.values()),f=Array.from(e.values());for(let p=0;p<d.length;p++){const g=d[p],y=f.findIndex(w=>vh(g,w,void 0,t,e,n,r));if(y===-1)return!1;f.splice(y,1)}return!0}case UH:case jH:case zH:case FH:case qH:case HH:case VH:case GH:case WH:case KH:case YH:case ZH:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let d=0;d<t.length;d++)if(!vh(t[d],e[d],d,t,e,n,r))return!1;return!0}case kH:return t.byteLength!==e.byteLength?!1:Oh(new Uint8Array(t),new Uint8Array(e),n,r);case LH:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Oh(new Uint8Array(t),new Uint8Array(e),n,r);case BH:return t.name===e.name&&t.message===e.message;case _0:{if(!(Oh(t.constructor,e.constructor,n,r)||eN(t)&&eN(e)))return!1;const d=[...Object.keys(t),...tN(t)],f=[...Object.keys(e),...tN(e)];if(d.length!==f.length)return!1;for(let p=0;p<d.length;p++){const g=d[p],y=t[g];if(!Object.hasOwn(e,g))return!1;const w=e[g];if(!vh(y,w,g,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function JH(t,e){return XH(t,e,TH)}var eV=Object.defineProperty,sN=Object.getOwnPropertySymbols,tV=Object.prototype.hasOwnProperty,nV=Object.prototype.propertyIsEnumerable,Hv=(t,e,n)=>e in t?eV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iN=(t,e)=>{for(var n in e||(e={}))tV.call(e,n)&&Hv(t,n,e[n]);if(sN)for(var n of sN(e))nV.call(e,n)&&Hv(t,n,e[n]);return t},fr=(t,e,n)=>Hv(t,typeof e!="symbol"?e+"":e,n);class Bc extends YU{constructor(e,n,r,s=ci,a=void 0){super(e,n,r,s),this.core=e,this.logger=n,this.name=r,fr(this,"map",new Map),fr(this,"version",sF),fr(this,"cached",[]),fr(this,"initialized",!1),fr(this,"getKey"),fr(this,"storagePrefix",ci),fr(this,"recentlyDeleted",[]),fr(this,"recentlyDeletedLimit",200),fr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Bn(c)?this.map.set(this.getKey(c),c):Y7(c)?this.map.set(c.id,c):Z7(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),fr(this,"set",async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())}),fr(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),fr(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(d=>JH(u[d],c[d]))):this.values)),fr(this,"update",async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const d=iN(iN({},this.getData(c)),u);this.map.set(c,d),await this.persist()}),fr(this,"delete",async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=Qn(n,this.name),this.storagePrefix=s,this.getKey=a}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:s}=me("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var rV=Object.defineProperty,sV=(t,e,n)=>e in t?rV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,it=(t,e,n)=>sV(t,typeof e!="symbol"?e+"":e,n);class iV{constructor(e,n){this.core=e,this.logger=n,it(this,"name",cF),it(this,"version",lF),it(this,"events",new BE),it(this,"pairings"),it(this,"initialized",!1),it(this,"storagePrefix",ci),it(this,"ignoredPayloadTypes",[Zi]),it(this,"registeredMethods",[]),it(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),it(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),it(this,"create",async r=>{this.isInitialized();const s=Uv(),a=await this.core.crypto.setSymKey(s),c=dn(pe.FIVE_MINUTES),u={protocol:Ax},d={topic:a,expiry:c,relay:u,active:!1,methods:r==null?void 0:r.methods},f=S2({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:s,relay:u,expiryTimestamp:c,methods:r==null?void 0:r.methods});return this.events.emit(Zo.create,d),this.core.expirer.set(a,c),await this.pairings.set(a,d),await this.core.relayer.subscribe(a,{transportType:r==null?void 0:r.transportType}),{topic:a,uri:f}}),it(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Qs.pairing_started]}});this.isValidPair(r,s);const{topic:a,symKey:c,relay:u,expiryTimestamp:d,methods:f}=A2(r.uri);s.props.properties.topic=a,s.addTrace(Qs.pairing_uri_validation_success),s.addTrace(Qs.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(a)){if(p=this.pairings.get(a),s.addTrace(Qs.existing_pairing),p.active)throw s.setError(zi.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);s.addTrace(Qs.pairing_not_expired)}const g=d||dn(pe.FIVE_MINUTES),y={topic:a,relay:u,expiry:g,active:!1,methods:f};this.core.expirer.set(a,g),await this.pairings.set(a,y),s.addTrace(Qs.store_new_pairing),r.activatePairing&&await this.activate({topic:a}),this.events.emit(Zo.create,y),s.addTrace(Qs.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(c,a),s.addTrace(Qs.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(zi.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:u})}catch(w){throw s.setError(zi.subscribe_pairing_topic_failure),w}return s.addTrace(Qs.subscribe_pairing_topic_success),y}),it(this,"activate",async({topic:r})=>{this.isInitialized();const s=dn(pe.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),it(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const a=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:u,reject:d}=Go();this.events.once(yt("pairing_ping",a),({error:f})=>{f?d(f):u()}),await c()}}),it(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),it(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),it(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),it(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Tt("USER_DISCONNECTED")),await this.deletePairing(s))}),it(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:a,expiry:c,methods:u}=r,d=this.core.crypto.keychain.get(s);return S2({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:d,relay:a,expiryTimestamp:c,methods:u})}),it(this,"sendRequest",async(r,s,a)=>{const c=eo(s,a),u=await this.core.crypto.encode(r,c),d=oh[s].req;return this.core.history.set(r,c),this.core.relayer.publish(r,u,d),c.id}),it(this,"sendResult",async(r,s,a)=>{const c=ny(r,a),u=await this.core.crypto.encode(s,c),d=(await this.core.history.get(s,r)).request.method,f=oh[d].res;await this.core.relayer.publish(s,u,f),await this.core.history.resolve(c)}),it(this,"sendError",async(r,s,a)=>{const c=ry(r,a),u=await this.core.crypto.encode(s,c),d=(await this.core.history.get(s,r)).request.method,f=oh[d]?oh[d].res:oh.unregistered_method.res;await this.core.relayer.publish(s,u,f),await this.core.history.resolve(c)}),it(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Tt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),it(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Ba(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),it(this,"onRelayEventRequest",async r=>{const{topic:s,payload:a}=r;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,a);default:return await this.onUnknownRpcMethodRequest(s,a)}}),it(this,"onRelayEventResponse",async r=>{const{topic:s,payload:a}=r,c=(await this.core.history.get(s,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,a);default:return this.onUnknownRpcMethodResponse(c)}}),it(this,"onPairingPingRequest",async(r,s)=>{const{id:a}=s;try{this.isValidPing({topic:r}),await this.sendResult(a,r,!0),this.events.emit(Zo.ping,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),it(this,"onPairingPingResponse",(r,s)=>{const{id:a}=s;setTimeout(()=>{Js(s)?this.events.emit(yt("pairing_ping",a),{}):us(s)&&this.events.emit(yt("pairing_ping",a),{error:s.error})},500)}),it(this,"onPairingDeleteRequest",async(r,s)=>{const{id:a}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Zo.delete,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),it(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:a,method:c}=s;try{if(this.registeredMethods.includes(c))return;const u=Tt("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,r,u),this.logger.error(u)}catch(u){await this.sendError(a,r,u),this.logger.error(u)}}),it(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Tt("WC_METHOD_UNSUPPORTED",r))}),it(this,"isValidPair",(r,s)=>{var a;if(!yr(r)){const{message:u}=me("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(zi.malformed_pairing_uri),new Error(u)}if(!K7(r.uri)){const{message:u}=me("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(zi.malformed_pairing_uri),new Error(u)}const c=A2(r==null?void 0:r.uri);if(!((a=c==null?void 0:c.relay)!=null&&a.protocol)){const{message:u}=me("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(zi.malformed_pairing_uri),new Error(u)}if(!(c!=null&&c.symKey)){const{message:u}=me("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(zi.malformed_pairing_uri),new Error(u)}if(c!=null&&c.expiryTimestamp&&pe.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){s.setError(zi.pairing_expired);const{message:u}=me("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(u)}}),it(this,"isValidPing",async r=>{if(!yr(r)){const{message:a}=me("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),it(this,"isValidDisconnect",async r=>{if(!yr(r)){const{message:a}=me("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),it(this,"isValidPairingTopic",async r=>{if(!on(r,!1)){const{message:s}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Ba(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=me("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Qn(n,this.name),this.pairings=new Bc(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ar(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Tn.message,async e=>{const{topic:n,message:r,transportType:s}=e;if(this.pairings.keys.includes(n)&&s!==kt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const a=await this.core.crypto.decode(n,r);s1(a)?(this.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a})):sy(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a}),this.core.history.delete(n,a.id)),await this.core.relayer.messages.ack(n,r)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(cs.expired,async e=>{const{topic:n}=UR(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Zo.expire,{topic:n}))})}}var aV=Object.defineProperty,oV=(t,e,n)=>e in t?aV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mn=(t,e,n)=>oV(t,typeof e!="symbol"?e+"":e,n);class cV extends VU{constructor(e,n){super(e,n),this.core=e,this.logger=n,Mn(this,"records",new Map),Mn(this,"events",new ps.EventEmitter),Mn(this,"name",uF),Mn(this,"version",dF),Mn(this,"cached",[]),Mn(this,"initialized",!1),Mn(this,"storagePrefix",ci),Mn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Mn(this,"set",(r,s,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:a}),this.records.has(s.id))return;const c={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:a,expiry:dn(pe.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(As.created,c)}),Mn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=us(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(As.updated,s))}),Mn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Mn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(a=>{if(a.topic===r){if(typeof s<"u"&&a.id!==s)return;this.records.delete(a.id),this.events.emit(As.deleted,a)}}),this.persist()}),Mn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Mn(this,"on",(r,s)=>{this.events.on(r,s)}),Mn(this,"once",(r,s)=>{this.events.once(r,s)}),Mn(this,"off",(r,s)=>{this.events.off(r,s)}),Mn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Qn(n,this.name)}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:eo(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(As.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(As.created,e=>{const n=As.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(As.updated,e=>{const n=As.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(As.deleted,e=>{const n=As.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Mu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{pe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(As.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lV=Object.defineProperty,uV=(t,e,n)=>e in t?lV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gn=(t,e,n)=>uV(t,typeof e!="symbol"?e+"":e,n);class dV extends QU{constructor(e,n){super(e,n),this.core=e,this.logger=n,Gn(this,"expirations",new Map),Gn(this,"events",new ps.EventEmitter),Gn(this,"name",hF),Gn(this,"version",fF),Gn(this,"cached",[]),Gn(this,"initialized",!1),Gn(this,"storagePrefix",ci),Gn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Gn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Gn(this,"set",(r,s)=>{this.isInitialized();const a=this.formatTarget(r),c={target:a,expiry:s};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(cs.created,{target:a,expiration:c})}),Gn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Gn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),a=this.getExpiration(s);this.expirations.delete(s),this.events.emit(cs.deleted,{target:s,expiration:a})}}),Gn(this,"on",(r,s)=>{this.events.on(r,s)}),Gn(this,"once",(r,s)=>{this.events.once(r,s)}),Gn(this,"off",(r,s)=>{this.events.off(r,s)}),Gn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Qn(n,this.name)}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ij(e);if(typeof e=="number")return aj(e);const{message:n}=me("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(cs.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=me("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=me("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;pe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(cs.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Mu.pulse,()=>this.checkExpirations()),this.events.on(cs.created,e=>{const n=cs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(cs.expired,e=>{const n=cs.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(cs.deleted,e=>{const n=cs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}}var hV=Object.defineProperty,fV=(t,e,n)=>e in t?hV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,an=(t,e,n)=>fV(t,typeof e!="symbol"?e+"":e,n);class pV extends XU{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,an(this,"name",pF),an(this,"abortController"),an(this,"isDevEnv"),an(this,"verifyUrlV3",mF),an(this,"storagePrefix",ci),an(this,"version",Cx),an(this,"publicKey"),an(this,"fetchPromise"),an(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&pe.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),an(this,"register",async s=>{if(!zf()||this.isDevEnv)return;const a=window.location.origin,{id:c,decryptedId:u}=s,d=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${c}&decryptedId=${u}`;try{const f=wc.getDocument(),p=this.startAbortTimer(pe.ONE_SECOND*5),g=await new Promise((y,w)=>{const v=()=>{window.removeEventListener("message",_),f.body.removeChild(E),w("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const E=f.createElement("iframe");E.src=d,E.style.display="none",E.addEventListener("error",v,{signal:this.abortController.signal});const _=S=>{if(S.data&&typeof S.data=="string")try{const T=JSON.parse(S.data);if(T.type==="verify_attestation"){if(yv(T.attestation).payload.id!==c)return;clearInterval(p),f.body.removeChild(E),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",_),y(T.attestation===null?"":T.attestation)}}catch(T){this.logger.warn(T)}};f.body.appendChild(E),window.addEventListener("message",_,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",g),g}catch(f){this.logger.warn(f)}return""}),an(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:a,hash:c,encryptedId:u}=s;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if(yv(a).payload.id!==u)return;const f=await this.isValidJwtAttestation(a);if(f){if(!f.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return f}}if(!c)return;const d=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(c,d)}),an(this,"fetchAttestation",async(s,a)=>{this.logger.debug(`resolving attestation: ${s} from url: ${a}`);const c=this.startAbortTimer(pe.ONE_SECOND*5),u=await fetch(`${a}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),u.status===200?await u.json():void 0}),an(this,"getVerifyUrl",s=>{let a=s||Nh;return yF.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${Nh}`),a=Nh),a}),an(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(pe.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await a.json()}catch(s){this.logger.warn(s)}}),an(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),an(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),an(this,"isValidJwtAttestation",async s=>{const a=await this.getPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(s,c)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}}),an(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),an(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),a(c))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),an(this,"validateAttestation",(s,a)=>{const c=U7(s,a.publicKey),u={hasExpired:pe.toMiliseconds(c.exp)<Date.now(),payload:c};if(u.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:u.payload.origin,isScam:u.payload.isScam,isVerified:u.payload.isVerified}}),this.logger=Qn(n,this.name),this.abortController=new AbortController,this.isDevEnv=KE(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ar(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),pe.toMiliseconds(e))}}var gV=Object.defineProperty,mV=(t,e,n)=>e in t?gV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aN=(t,e,n)=>mV(t,typeof e!="symbol"?e+"":e,n);class yV extends JU{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,aN(this,"context",bF),aN(this,"registerDeviceToken",async r=>{const{clientId:s,token:a,notificationType:c,enableEncrypted:u=!1}=r,d=`${wF}/${this.projectId}/clients`;await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:c,token:a,always_raw:u})})}),this.logger=Qn(n,this.context)}}var bV=Object.defineProperty,oN=Object.getOwnPropertySymbols,wV=Object.prototype.hasOwnProperty,vV=Object.prototype.propertyIsEnumerable,Vv=(t,e,n)=>e in t?bV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uh=(t,e)=>{for(var n in e||(e={}))wV.call(e,n)&&Vv(t,n,e[n]);if(oN)for(var n of oN(e))vV.call(e,n)&&Vv(t,n,e[n]);return t},En=(t,e,n)=>Vv(t,typeof e!="symbol"?e+"":e,n);class EV extends e6{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,En(this,"context",EF),En(this,"storagePrefix",ci),En(this,"storageVersion",vF),En(this,"events",new Map),En(this,"shouldPersist",!1),En(this,"init",async()=>{if(!KE())try{const s={eventId:KT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:DR(this.core.relayer.protocol,this.core.relayer.version,kv)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),En(this,"createEvent",s=>{const{event:a="ERROR",type:c="",properties:{topic:u,trace:d}}=s,f=KT(),p=this.core.projectId||"",g=Date.now(),y=uh({eventId:f,timestamp:g,props:{event:a,type:c,properties:{topic:u,trace:d}},bundleId:p,domain:this.getAppDomain()},this.setMethods(f));return this.telemetryEnabled&&(this.events.set(f,y),this.shouldPersist=!0),y}),En(this,"getEvent",s=>{const{eventId:a,topic:c}=s;if(a)return this.events.get(a);const u=Array.from(this.events.values()).find(d=>d.props.properties.topic===c);if(u)return uh(uh({},u),this.setMethods(u.eventId))}),En(this,"deleteEvent",s=>{const{eventId:a}=s;this.events.delete(a),this.shouldPersist=!0}),En(this,"setEventListeners",()=>{this.core.heartbeat.on(Mu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{pe.fromMiliseconds(Date.now())-pe.fromMiliseconds(s.timestamp)>_F&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),En(this,"setMethods",s=>({addTrace:a=>this.addTrace(s,a),setError:a=>this.setError(s,a)})),En(this,"addTrace",(s,a)=>{const c=this.events.get(s);c&&(c.props.properties.trace.push(a),this.events.set(s,c),this.shouldPersist=!0)}),En(this,"setError",(s,a)=>{const c=this.events.get(s);c&&(c.props.type=a,c.timestamp=Date.now(),this.events.set(s,c),this.shouldPersist=!0)}),En(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),En(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(a=>{this.events.set(a.eventId,uh(uh({},a),this.setMethods(a.eventId)))})}catch(s){this.logger.warn(s)}}),En(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[a,c]of this.events)c.props.type&&s.push(c);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const a of s)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),En(this,"sendEvent",async s=>{const a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${CF}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${kv}${a}`,{method:"POST",body:JSON.stringify(s)})}),En(this,"getAppDomain",()=>PR().url),this.logger=Qn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var _V=Object.defineProperty,cN=Object.getOwnPropertySymbols,CV=Object.prototype.hasOwnProperty,AV=Object.prototype.propertyIsEnumerable,Gv=(t,e,n)=>e in t?_V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lN=(t,e)=>{for(var n in e||(e={}))CV.call(e,n)&&Gv(t,n,e[n]);if(cN)for(var n of cN(e))AV.call(e,n)&&Gv(t,n,e[n]);return t},Dt=(t,e,n)=>Gv(t,typeof e!="symbol"?e+"":e,n);let SV=class kx extends zU{constructor(e){var n;super(e),Dt(this,"protocol",_x),Dt(this,"version",Cx),Dt(this,"name",Mv),Dt(this,"relayUrl"),Dt(this,"projectId"),Dt(this,"customStoragePrefix"),Dt(this,"events",new ps.EventEmitter),Dt(this,"logger"),Dt(this,"heartbeat"),Dt(this,"relayer"),Dt(this,"crypto"),Dt(this,"storage"),Dt(this,"history"),Dt(this,"expirer"),Dt(this,"pairing"),Dt(this,"verify"),Dt(this,"echoClient"),Dt(this,"linkModeSupportedApps"),Dt(this,"eventClient"),Dt(this,"initialized",!1),Dt(this,"logChunkController"),Dt(this,"on",(u,d)=>this.events.on(u,d)),Dt(this,"once",(u,d)=>this.events.once(u,d)),Dt(this,"off",(u,d)=>this.events.off(u,d)),Dt(this,"removeListener",(u,d)=>this.events.removeListener(u,d)),Dt(this,"dispatchEnvelope",({topic:u,message:d,sessionExists:f})=>{if(!u||!d)return;const p={topic:u,message:d,publishedAt:Date.now(),transportType:kt.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:f})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(u){console.warn("Failed to copy global core",u)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Sx,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=ku({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Vz.logger,name:Mv}),{logger:a,chunkLoggerController:c}=jE({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=c,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var u,d;(u=this.logChunkController)!=null&&u.downloadLogsBlobInBrowser&&((d=this.logChunkController)==null||d.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Qn(a,this.name),this.heartbeat=new j8,this.crypto=new Xq(this,this.logger,e==null?void 0:e.keychain),this.history=new cV(this,this.logger),this.expirer=new dV(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _U(lN(lN({},Gz),e==null?void 0:e.storageOptions)),this.relayer=new SH({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new iV(this,this.logger),this.verify=new pV(this,this.logger,this.storage),this.echoClient=new yV(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new EV(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new kx(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(iF,r),n}get context(){return Ar(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(F2,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(F2)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Hz.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const TV=SV,Bx="wc",Lx=2,jx="client",i1=`${Bx}@${Lx}:${jx}:`,C0={name:jx,logger:"error"},uN="WALLETCONNECT_DEEPLINK_CHOICE",NV="proposal",dN="Proposal expired",OV="session",xl=pe.SEVEN_DAYS,IV="engine",_n={wc_sessionPropose:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:pe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:pe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:pe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:pe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:pe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:pe.FIVE_MINUTES,prompt:!1,tag:1119}}},A0={min:pe.FIVE_MINUTES,max:pe.SEVEN_DAYS},Ys={idle:"IDLE",active:"ACTIVE"},hN={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},RV="request",xV=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],PV="wc",DV="auth",$V="authKeys",UV="pairingTopics",MV="requests",ay=`${PV}@${1.5}:${DV}:`,em=`${ay}:PUB_KEY`;var kV=Object.defineProperty,BV=Object.defineProperties,LV=Object.getOwnPropertyDescriptors,fN=Object.getOwnPropertySymbols,jV=Object.prototype.hasOwnProperty,zV=Object.prototype.propertyIsEnumerable,Wv=(t,e,n)=>e in t?kV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rt=(t,e)=>{for(var n in e||(e={}))jV.call(e,n)&&Wv(t,n,e[n]);if(fN)for(var n of fN(e))zV.call(e,n)&&Wv(t,n,e[n]);return t},er=(t,e)=>BV(t,LV(e)),ce=(t,e,n)=>Wv(t,typeof e!="symbol"?e+"":e,n);class FV extends s6{constructor(e){super(e),ce(this,"name",IV),ce(this,"events",new BE),ce(this,"initialized",!1),ce(this,"requestQueue",{state:Ys.idle,queue:[]}),ce(this,"sessionRequestQueue",{state:Ys.idle,queue:[]}),ce(this,"requestQueueDelay",pe.ONE_SECOND),ce(this,"expectedPairingMethodMap",new Map),ce(this,"recentlyDeletedMap",new Map),ce(this,"recentlyDeletedLimit",200),ce(this,"relayMessageCache",[]),ce(this,"pendingSessions",new Map),ce(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(_n)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},pe.toMiliseconds(this.requestQueueDelay)))}),ce(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=er(Rt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:s,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,scopedProperties:d,relays:f}=r;let p=s,g,y=!1;try{if(p){const A=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=A.active}}catch(A){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),A}if(!p||!y){const{topic:A,uri:I}=await this.client.core.pairing.create();p=A,g=I}if(!p){const{message:A}=me("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(A)}const w=await this.client.core.crypto.generateKeyPair(),v=_n.wc_sessionPropose.req.ttl||pe.FIVE_MINUTES,E=dn(v),_=er(Rt(Rt({requiredNamespaces:a,optionalNamespaces:c,relays:f??[{protocol:Ax}],proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:p},u&&{sessionProperties:u}),d&&{scopedProperties:d}),{id:Xs()}),S=yt("session_connect",_.id),{reject:T,resolve:O,done:P}=Go(v,dN),N=({id:A})=>{A===_.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(_.id),this.events.emit(S,{error:{message:dN,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(S,({error:A,session:I})=>{this.client.events.off("proposal_expire",N),A?T(A):I&&O(I)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:_,throwOnFailedPublish:!0,clientRpcId:_.id}),await this.setProposal(_.id,_),{uri:g,approval:P}}),ce(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ce(this,"approve",async n=>{var r,s,a;const c=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ss.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(x){throw c.setError(zo.no_internet_connection),x}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(x){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),c.setError(zo.proposal_not_found),x}try{await this.isValidApprove(n)}catch(x){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(zo.session_approve_namespace_validation_failure),x}const{id:u,relayProtocol:d,namespaces:f,sessionProperties:p,scopedProperties:g,sessionConfig:y}=n,w=this.client.proposal.get(u);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:v,proposer:E,requiredNamespaces:_,optionalNamespaces:S}=w;let T=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:v});T||(T=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:Ss.session_approve_started,properties:{topic:v,trace:[Ss.session_approve_started,Ss.session_namespaces_validation_success]}}));const O=await this.client.core.crypto.generateKeyPair(),P=E.publicKey,N=await this.client.core.crypto.generateSharedKey(O,P),A=Rt(Rt(Rt({relay:{protocol:d??"irn"},namespaces:f,controller:{publicKey:O,metadata:this.client.metadata},expiry:dn(xl)},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),I=kt.relay;T.addTrace(Ss.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:I})}catch(x){throw T.setError(zo.subscribe_session_topic_failure),x}T.addTrace(Ss.subscribe_session_topic_success);const k=er(Rt({},A),{topic:N,requiredNamespaces:_,optionalNamespaces:S,pairingTopic:v,acknowledged:!1,self:A.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:O,transportType:kt.relay});await this.client.session.set(N,k),T.addTrace(Ss.store_session);try{T.addTrace(Ss.publishing_session_settle),await this.sendRequest({topic:N,method:"wc_sessionSettle",params:A,throwOnFailedPublish:!0}).catch(x=>{throw T==null||T.setError(zo.session_settle_publish_failure),x}),T.addTrace(Ss.session_settle_publish_success),T.addTrace(Ss.publishing_session_approve),await this.sendResult({id:u,topic:v,result:{relay:{protocol:d??"irn"},responderPublicKey:O},throwOnFailedPublish:!0}).catch(x=>{throw T==null||T.setError(zo.session_approve_publish_failure),x}),T.addTrace(Ss.session_approve_publish_success)}catch(x){throw this.client.logger.error(x),this.client.session.delete(N,Tt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),x}return this.client.core.eventClient.deleteEvent({eventId:T.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:E.metadata}),await this.client.proposal.delete(u,Tt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(N,dn(xl)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),ce(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:r,reason:s}=n;let a;try{a=this.client.proposal.get(r).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),c}a&&(await this.sendError({id:r,topic:a,error:s,rpcOpts:_n.wc_sessionPropose.reject}),await this.client.proposal.delete(r,Tt("USER_DISCONNECTED")))}),ce(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:r,namespaces:s}=n,{done:a,resolve:c,reject:u}=Go(),d=Xs(),f=Jo().toString(),p=this.client.session.get(r).namespaces;return this.events.once(yt("session_update",d),({error:g})=>{g?u(g):c()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:d,relayRpcId:f}).catch(g=>{this.client.logger.error(g),this.client.session.update(r,{namespaces:p}),u(g)}),{acknowledged:a}}),ce(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(d){throw this.client.logger.error("extend() -> isValidExtend() failed"),d}const{topic:r}=n,s=Xs(),{done:a,resolve:c,reject:u}=Go();return this.events.once(yt("session_extend",s),({error:d})=>{d?u(d):c()}),await this.setExpiry(r,dn(xl)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(d=>{u(d)}),{acknowledged:a}}),ce(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:r,request:s,topic:a,expiry:c=_n.wc_sessionRequest.req.ttl}=n,u=this.client.session.get(a);(u==null?void 0:u.transportType)===kt.relay&&await this.confirmOnlineStateOrThrow();const d=Xs(),f=Jo().toString(),{done:p,resolve:g,reject:y}=Go(c,"Request expired. Please try again.");this.events.once(yt("session_request",d),({error:S,result:T})=>{S?y(S):g(T)});const w="wc_sessionRequest",v=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);if(v)return await this.sendRequest({clientRpcId:d,relayRpcId:f,topic:a,method:w,params:{request:er(Rt({},s),{expiryTimestamp:dn(c)}),chainId:r},expiry:c,throwOnFailedPublish:!0,appLink:v}).catch(S=>y(S)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:d}),await p();const E={request:er(Rt({},s),{expiryTimestamp:dn(c)}),chainId:r},_=this.shouldSetTVF(w,E);return await Promise.all([new Promise(async S=>{await this.sendRequest(Rt({clientRpcId:d,relayRpcId:f,topic:a,method:w,params:E,expiry:c,throwOnFailedPublish:!0},_&&{tvf:this.getTVFParams(d,E)})).catch(T=>y(T)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:d}),S()}),new Promise(async S=>{var T;if(!((T=u.sessionConfig)!=null&&T.disableDeepLink)){const O=await uj(this.client.core.storage,uN);await oj({id:d,topic:a,wcDeepLink:O})}S()}),p()]).then(S=>S[2])}),ce(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:a}=s,c=this.client.session.get(r);c.transportType===kt.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);Js(s)?await this.sendResult({id:a,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:u}):us(s)&&await this.sendError({id:a,topic:r,error:s.error,appLink:u}),this.cleanupAfterResponse(n)}),ce(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=Xs(),a=Jo().toString(),{done:c,resolve:u,reject:d}=Go();this.events.once(yt("session_ping",s),({error:f})=>{f?d(f):u()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:a}),c()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ce(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:a}=n,c=Jo().toString(),u=Xs();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:a},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:u})}),ce(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Tt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=me("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),ce(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>G7(r,n)))),ce(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ce(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const a=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),c=a?kt.link_mode:kt.relay;c===kt.relay&&await this.confirmOnlineStateOrThrow();const{chains:u,statement:d="",uri:f,domain:p,nonce:g,type:y,exp:w,nbf:v,methods:E=[],expiry:_}=n,S=[...n.resources||[]],{topic:T,uri:O}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:T,uri:O}});const P=await this.client.core.crypto.generateKeyPair(),N=Xg(P);if(await Promise.all([this.client.auth.authKeys.set(em,{responseTopic:N,publicKey:P}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:T})]),await this.client.core.relayer.subscribe(N,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${T}`),E.length>0){const{namespace:V}=Ql(u[0]);let D=n9(V,"request",E);Qg(S)&&(D=s9(D,S.pop())),S.push(D)}const A=_&&_>_n.wc_sessionAuthenticate.req.ttl?_:_n.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:y??"caip122",chains:u,statement:d,aud:f,domain:p,version:"1",nonce:g,iat:new Date().toISOString(),exp:w,nbf:v,resources:S},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:dn(A)},k={eip155:{chains:u,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},x={requiredNamespaces:{},optionalNamespaces:k,relays:[{protocol:"irn"}],pairingTopic:T,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:dn(_n.wc_sessionPropose.req.ttl),id:Xs()},{done:B,resolve:q,reject:X}=Go(A,"Request expired"),se=Xs(),W=yt("session_connect",x.id),M=yt("session_request",se),R=async({error:V,session:D})=>{this.events.off(M,j),V?X(V):D&&q({session:D})},j=async V=>{var D,Y,te;if(await this.deletePendingAuthRequest(se,{message:"fulfilled",code:0}),V.error){const Re=Tt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return V.error.code===Re.code?void 0:(this.events.off(W,R),X(V.error.message))}await this.deleteProposal(x.id),this.events.off(W,R);const{cacaos:ie,responder:ee}=V.result,le=[],ge=[];for(const Re of ie){await n2({cacao:Re,projectId:this.client.core.projectId})||(this.client.logger.error(Re,"Signature verification failed"),X(Tt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:We}=Re,_t=Qg(We.resources),Zt=[Tv(We.iss)],Qt=mm(We.iss);if(_t){const Rn=r2(_t),bs=s2(_t);le.push(...Rn),Zt.push(...bs)}for(const Rn of Zt)ge.push(`${Rn}:${Qt}`)}const He=await this.client.core.crypto.generateSharedKey(P,ee.publicKey);let Ne;le.length>0&&(Ne={topic:He,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:ee,controller:ee.publicKey,expiry:dn(xl),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:T,namespaces:T2([...new Set(le)],[...new Set(ge)]),transportType:c},await this.client.core.relayer.subscribe(He,{transportType:c}),await this.client.session.set(He,Ne),T&&await this.client.core.pairing.updateMetadata({topic:T,metadata:ee.metadata}),Ne=this.client.session.get(He)),(D=this.client.metadata.redirect)!=null&&D.linkMode&&(Y=ee.metadata.redirect)!=null&&Y.linkMode&&(te=ee.metadata.redirect)!=null&&te.universal&&r&&(this.client.core.addLinkModeSupportedApp(ee.metadata.redirect.universal),this.client.session.update(He,{transportType:kt.link_mode})),q({auths:ie,session:Ne})};this.events.once(W,R),this.events.once(M,j);let H;try{if(a){const V=eo("wc_sessionAuthenticate",I,se);this.client.core.history.set(T,V);const D=await this.client.core.crypto.encode("",V,{type:Wf,encoding:ja});H=Ig(r,T,D)}else await Promise.all([this.sendRequest({topic:T,method:"wc_sessionAuthenticate",params:I,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:se}),this.sendRequest({topic:T,method:"wc_sessionPropose",params:x,expiry:_n.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(V){throw this.events.off(W,R),this.events.off(M,j),V}return await this.setProposal(x.id,x),await this.setAuthRequest(se,{request:er(Rt({},I),{verifyContext:{}}),pairingTopic:T,transportType:c}),{uri:H??O,response:B}}),ce(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,a=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Fo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(_){throw a.setError(ch.no_internet_connection),_}const c=this.getPendingAuthRequest(r);if(!c)throw a.setError(ch.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const u=c.transportType||kt.relay;u===kt.relay&&await this.confirmOnlineStateOrThrow();const d=c.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),p=Xg(d),g={type:Zi,receiverPublicKey:d,senderPublicKey:f},y=[],w=[];for(const _ of s){if(!await n2({cacao:_,projectId:this.client.core.projectId})){a.setError(ch.invalid_cacao);const N=Tt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:N,encodeOpts:g}),new Error(N.message)}a.addTrace(Fo.cacaos_verified);const{p:S}=_,T=Qg(S.resources),O=[Tv(S.iss)],P=mm(S.iss);if(T){const N=r2(T),A=s2(T);y.push(...N),O.push(...A)}for(const N of O)w.push(`${N}:${P}`)}const v=await this.client.core.crypto.generateSharedKey(f,d);a.addTrace(Fo.create_authenticated_session_topic);let E;if((y==null?void 0:y.length)>0){E={topic:v,acknowledged:!0,self:{publicKey:f,metadata:this.client.metadata},peer:{publicKey:d,metadata:c.requester.metadata},controller:d,expiry:dn(xl),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:T2([...new Set(y)],[...new Set(w)]),transportType:u},a.addTrace(Fo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:u})}catch(_){throw a.setError(ch.subscribe_authenticated_session_topic_failure),_}a.addTrace(Fo.subscribe_authenticated_session_topic_success),await this.client.session.set(v,E),a.addTrace(Fo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}a.addTrace(Fo.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:s,responder:{publicKey:f,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,u)})}catch(_){throw a.setError(ch.authenticated_session_approve_publish_failure),_}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:E}}),ce(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,a=this.getPendingAuthRequest(r);if(!a)throw new Error(`Could not find pending auth request with id ${r}`);a.transportType===kt.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),d=Xg(c),f={type:Zi,receiverPublicKey:c,senderPublicKey:u};await this.sendError({id:r,topic:d,error:s,encodeOpts:f,rpcOpts:_n.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,Tt("USER_DISCONNECTED"))}),ce(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return HR(r,s)}),ce(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ce(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===n.peer.metadata.url&&a.topic&&a.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ce(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:a=!1,emitEvent:c=!0,id:u=0}=n,{self:d}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Tt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(d.publicKey)&&await this.client.core.crypto.deleteKeyPair(d.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),a||this.client.core.expirer.del(s),this.client.core.storage.removeItem(uN).catch(f=>this.client.logger.warn(f)),this.getPendingSessionRequests().forEach(f=>{f.topic===s&&this.deletePendingSessionRequest(f.id,Tt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Ys.idle),c&&this.client.events.emit("session_delete",{id:u,topic:s})}),ce(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),a=this.client.core.eventClient.getEvent({topic:s.pairingTopic});a==null||a.setError(zo.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Tt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ce(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==n),s&&(this.sessionRequestQueue.state=Ys.idle,this.client.events.emit("session_request_expire",{id:n}))}),ce(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),ce(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ce(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,dn(_n.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ce(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:a,transportType:c=kt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:a,verifyContext:s.verifyContext,transportType:c})}),ce(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:a,verifyContext:c}=n,u=a.request.expiryTimestamp||dn(_n.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,u),await this.client.pendingRequest.set(r,{id:r,topic:s,params:a,verifyContext:c})}),ce(this,"sendRequest",async n=>{const{topic:r,method:s,params:a,expiry:c,relayRpcId:u,clientRpcId:d,throwOnFailedPublish:f,appLink:p,tvf:g}=n,y=eo(s,a,d);let w;const v=!!p;try{const S=v?ja:$s;w=await this.client.core.crypto.encode(r,y,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),S}let E;if(xV.includes(s)){const S=si(JSON.stringify(y)),T=si(w);E=await this.client.core.verify.register({id:T,decryptedId:S})}const _=_n[s].req;if(_.attestation=E,c&&(_.ttl=c),u&&(_.id=u),this.client.core.history.set(r,y),v){const S=Ig(p,r,w);await global.Linking.openURL(S,this.client.name)}else{const S=_n[s].req;c&&(S.ttl=c),u&&(S.id=u),S.tvf=er(Rt({},g),{correlationId:y.id}),f?(S.internal=er(Rt({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,w,S)):this.client.core.relayer.publish(r,w,S).catch(T=>this.client.logger.error(T))}return y.id}),ce(this,"sendResult",async n=>{const{id:r,topic:s,result:a,throwOnFailedPublish:c,encodeOpts:u,appLink:d}=n,f=ny(r,a);let p;const g=d&&typeof(global==null?void 0:global.Linking)<"u";try{const v=g?ja:$s;p=await this.client.core.crypto.encode(s,f,er(Rt({},u||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),v}let y,w;try{y=await this.client.core.history.get(s,r);const v=y.request;try{this.shouldSetTVF(v.method,v.params)&&(w=this.getTVFParams(r,v.params,a))}catch(E){this.client.logger.warn("sendResult() -> getTVFParams() failed",E)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),v}if(g){const v=Ig(d,s,p);await global.Linking.openURL(v,this.client.name)}else{const v=y.request.method,E=_n[v].res;E.tvf=er(Rt({},w),{correlationId:r}),c?(E.internal=er(Rt({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,E)):this.client.core.relayer.publish(s,p,E).catch(_=>this.client.logger.error(_))}await this.client.core.history.resolve(f)}),ce(this,"sendError",async n=>{const{id:r,topic:s,error:a,encodeOpts:c,rpcOpts:u,appLink:d}=n,f=ry(r,a);let p;const g=d&&typeof(global==null?void 0:global.Linking)<"u";try{const w=g?ja:$s;p=await this.client.core.crypto.encode(s,f,er(Rt({},c||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),w}let y;try{y=await this.client.core.history.get(s,r)}catch(w){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),w}if(g){const w=Ig(d,s,p);await global.Linking.openURL(w,this.client.name)}else{const w=y.request.method,v=u||_n[w].res;this.client.core.relayer.publish(s,p,v)}await this.client.core.history.resolve(f)}),ce(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let a=!1;Ba(s.expiry)&&(a=!0),this.client.core.crypto.keychain.has(s.topic)||(a=!0),a&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Ba(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),ce(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ce(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ce(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ys.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ys.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Ys.idle}),ce(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:a,transportType:c,encryptedId:u}=n,d=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:d}))switch(d){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:a,encryptedId:u});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:a,encryptedId:u,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:a,encryptedId:u,transportType:c});default:return this.client.logger.info(`Unsupported request method ${d}`)}}),ce(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:a}=n,c=(await this.client.core.history.get(r,s.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,a);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),ce(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=me("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ce(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,a=this.expectedPairingMethodMap.get(r);return!a||a.includes(s)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ce(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:a,encryptedId:c}=n,{params:u,id:d}=s;try{const f=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),f==null||f.setError(zi.proposal_listener_not_found)),this.isValidConnect(Rt({},s.params));const p=u.expiryTimestamp||dn(_n.wc_sessionPropose.req.ttl),g=Rt({id:d,pairingTopic:r,expiryTimestamp:p},u);await this.setProposal(d,g);const y=await this.getVerifyContext({attestationId:a,hash:si(JSON.stringify(s)),encryptedId:c,metadata:g.proposer.metadata});f==null||f.addTrace(Qs.emit_session_proposal),this.client.events.emit("session_proposal",{id:d,params:g,verifyContext:y})}catch(f){await this.sendError({id:d,topic:r,error:f,rpcOpts:_n.wc_sessionPropose.autoReject}),this.client.logger.error(f)}}),ce(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:a}=r;if(Js(r)){const{result:c}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const u=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:u});const d=u.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:d});const f=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const p=await this.client.core.crypto.generateSharedKey(d,f);this.pendingSessions.set(a,{sessionTopic:p,pairingTopic:n,proposalId:a,publicKey:d});const g=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:n})}else if(us(r)){await this.client.proposal.delete(a,Tt("USER_DISCONNECTED"));const c=yt("session_connect",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:r.error})}}),ce(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:a}=r;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:d,namespaces:f,sessionProperties:p,scopedProperties:g,sessionConfig:y}=r.params,w=[...this.pendingSessions.values()].find(_=>_.sessionTopic===n);if(!w)return this.client.logger.error(`Pending session not found for topic ${n}`);const v=this.client.proposal.get(w.proposalId),E=er(Rt(Rt(Rt({topic:n,relay:c,expiry:d,namespaces:f,acknowledged:!0,pairingTopic:w.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:u.publicKey,self:{publicKey:w.publicKey,metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),{transportType:kt.relay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:w.pairingTopic,metadata:E.peer.metadata}),this.client.events.emit("session_connect",{session:E}),this.events.emit(yt("session_connect",w.proposalId),{session:E}),this.pendingSessions.delete(w.proposalId),this.deleteProposal(w.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),ce(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;Js(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(yt("session_approve",s),{})):us(r)&&(await this.client.session.delete(n,Tt("USER_DISCONNECTED")),this.events.emit(yt("session_approve",s),{error:r.error}))}),ce(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:a}=r;try{const c=`${n}_session_update`,u=ah.get(c);if(u&&this.isRequestOutOfSync(u,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:n,error:Tt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Rt({topic:n},s));try{ah.set(c,a),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:a,topic:n,result:!0,throwOnFailedPublish:!0})}catch(d){throw ah.delete(c),d}this.client.events.emit("session_update",{id:a,topic:n,params:s})}catch(c){await this.sendError({id:a,topic:n,error:c}),this.client.logger.error(c)}}),ce(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ce(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,a=yt("session_update",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);Js(r)?this.events.emit(yt("session_update",s),{}):us(r)&&this.events.emit(yt("session_update",s),{error:r.error})}),ce(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,dn(xl)),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ce(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,a=yt("session_extend",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);Js(r)?this.events.emit(yt("session_extend",s),{}):us(r)&&this.events.emit(yt("session_extend",s),{error:r.error})}),ce(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ce(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,a=yt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);Js(r)?this.events.emit(yt("session_ping",s),{}):us(r)&&this.events.emit(yt("session_ping",s),{error:r.error})},500)}),ce(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(a=>{this.client.core.relayer.once(Tn.publish,async()=>{a(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Tt("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),ce(this,"onSessionRequest",async n=>{var r,s,a;const{topic:c,payload:u,attestation:d,encryptedId:f,transportType:p}=n,{id:g,params:y}=u;try{await this.isValidRequest(Rt({topic:c},y));const w=this.client.session.get(c),v=await this.getVerifyContext({attestationId:d,hash:si(JSON.stringify(eo("wc_sessionRequest",y,g))),encryptedId:f,metadata:w.peer.metadata,transportType:p}),E={id:g,topic:c,params:y,verifyContext:v};await this.setPendingSessionRequest(E),p===kt.link_mode&&(r=w.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=w.peer.metadata.redirect)==null?void 0:s.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(w){await this.sendError({id:g,topic:c,error:w}),this.client.logger.error(w)}}),ce(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,a=yt("session_request",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);Js(r)?this.events.emit(yt("session_request",s),{result:r.result}):us(r)&&this.events.emit(yt("session_request",s),{error:r.error})}),ce(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:a}=r;try{const c=`${n}_session_event_${a.event.name}`,u=ah.get(c);if(u&&this.isRequestOutOfSync(u,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Rt({topic:n},a)),this.client.events.emit("session_event",{id:s,topic:n,params:a}),ah.set(c,s)}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),ce(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Js(r)?this.events.emit(yt("session_request",s),{result:r.result}):us(r)&&this.events.emit(yt("session_request",s),{error:r.error})}),ce(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:a,attestation:c,encryptedId:u,transportType:d}=n;try{const{requester:f,authPayload:p,expiryTimestamp:g}=a.params,y=await this.getVerifyContext({attestationId:c,hash:si(JSON.stringify(a)),encryptedId:u,metadata:f.metadata,transportType:d}),w={requester:f,pairingTopic:s,id:a.id,authPayload:p,verifyContext:y,expiryTimestamp:g};await this.setAuthRequest(a.id,{request:w,pairingTopic:s,transportType:d}),d===kt.link_mode&&(r=f.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(f.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:a.params,id:a.id,verifyContext:y})}catch(f){this.client.logger.error(f);const p=a.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(a.params.requester.metadata,d),w={type:Zi,receiverPublicKey:p,senderPublicKey:g};await this.sendError({id:a.id,topic:s,error:f,encodeOpts:w,rpcOpts:_n.wc_sessionAuthenticate.autoReject,appLink:y})}}),ce(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ce(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ys.idle,this.processSessionRequestQueue()},pe.toMiliseconds(this.requestQueueDelay))}),ce(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(a=>a.topic===n&&a.request.method==="wc_sessionRequest").forEach(a=>{const c=a.request.id,u=yt("session_request",c);if(this.events.listenerCount(u)===0)throw new Error(`emitting ${u} without any listeners`);this.events.emit(yt("session_request",a.request.id),{error:r})})}),ce(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ys.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Ys.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ce(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ce(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:eo("wc_sessionPropose",er(Rt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),ce(this,"isValidConnect",async n=>{if(!yr(n)){const{message:f}=me("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(f)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:d}=n;if(Bn(r)||await this.isValidPairingTopic(r),!sz(d)){const{message:f}=me("MISSING_OR_INVALID",`connect() relays: ${d}`);throw new Error(f)}if(!Bn(s)&&qh(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Bn(a)&&qh(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),Bn(c)||this.validateSessionProps(c,"sessionProperties"),!Bn(u)){this.validateSessionProps(u,"scopedProperties");const f=Object.keys(s||{}).concat(Object.keys(a||{}));if(!Object.keys(u).every(p=>f.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(u)}, required/optional namespaces: ${JSON.stringify(f)}`)}}),ce(this,"validateNamespaces",(n,r)=>{const s=rz(n,"connect()",r);if(s)throw new Error(s.message)}),ce(this,"isValidApprove",async n=>{if(!yr(n))throw new Error(me("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:a,sessionProperties:c,scopedProperties:u}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const d=this.client.proposal.get(r),f=m0(s,"approve()");if(f)throw new Error(f.message);const p=I2(d.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!on(a,!0)){const{message:g}=me("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(g)}if(Bn(c)||this.validateSessionProps(c,"sessionProperties"),!Bn(u)){this.validateSessionProps(u,"scopedProperties");const g=new Set(Object.keys(s));if(!Object.keys(u).every(y=>g.has(y)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(u)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),ce(this,"isValidReject",async n=>{if(!yr(n)){const{message:a}=me("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(a)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!az(s)){const{message:a}=me("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(a)}}),ce(this,"isValidSessionSettleRequest",n=>{if(!yr(n)){const{message:f}=me("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(f)}const{relay:r,controller:s,namespaces:a,expiry:c}=n;if(!mx(r)){const{message:f}=me("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}const u=Q7(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);const d=m0(a,"onSessionSettleRequest()");if(d)throw new Error(d.message);if(Ba(c)){const{message:f}=me("EXPIRED","onSessionSettleRequest()");throw new Error(f)}}),ce(this,"isValidUpdate",async n=>{if(!yr(n)){const{message:d}=me("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(d)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const a=this.client.session.get(r),c=m0(s,"update()");if(c)throw new Error(c.message);const u=I2(a.requiredNamespaces,s,"update()");if(u)throw new Error(u.message)}),ce(this,"isValidExtend",async n=>{if(!yr(n)){const{message:s}=me("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ce(this,"isValidRequest",async n=>{if(!yr(n)){const{message:d}=me("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(d)}const{topic:r,request:s,chainId:a,expiry:c}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:u}=this.client.session.get(r);if(!O2(u,a)){const{message:d}=me("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(d)}if(!oz(s)){const{message:d}=me("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(d)}if(!uz(u,a,s.method)){const{message:d}=me("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(d)}if(c&&!pz(c,A0)){const{message:d}=me("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${A0.min} and ${A0.max}`);throw new Error(d)}}),ce(this,"isValidRespond",async n=>{var r;if(!yr(n)){const{message:c}=me("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:s,response:a}=n;try{await this.isValidSessionTopic(s)}catch(c){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!cz(a)){const{message:c}=me("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(c)}}),ce(this,"isValidPing",async n=>{if(!yr(n)){const{message:s}=me("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ce(this,"isValidEmit",async n=>{if(!yr(n)){const{message:u}=me("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(u)}const{topic:r,event:s,chainId:a}=n;await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!O2(c,a)){const{message:u}=me("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!lz(s)){const{message:u}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}if(!dz(c,a,s.name)){const{message:u}=me("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}}),ce(this,"isValidDisconnect",async n=>{if(!yr(n)){const{message:s}=me("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ce(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:a,nonce:c}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!on(s,!1))throw new Error("uri is required parameter");if(!on(a,!1))throw new Error("domain is required parameter");if(!on(c,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(d=>Ql(d).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:u}=Ql(r[0]);if(u!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ce(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:a,metadata:c,transportType:u}=n,d={verified:{verifyUrl:c.verifyUrl||Nh,validation:"UNKNOWN",origin:c.url||""}};try{if(u===kt.link_mode){const p=this.getAppLinkIfEnabled(c,u);return d.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",d}const f=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:a,verifyUrl:c.verifyUrl});f&&(d.verified.origin=f.origin,d.verified.isScam=f.isScam,d.verified.validation=f.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(f){this.client.logger.warn(f)}return this.client.logger.debug(`Verify context: ${JSON.stringify(d)}`),d}),ce(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,a)=>{if(s==null){const{message:c}=me("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[a]}`);throw new Error(c)}})}),ce(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ce(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const a=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(s++>=a)break;this.recentlyDeletedMap.delete(c)}}}),ce(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=me("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),ce(this,"isLinkModeEnabled",(n,r)=>{var s,a,c,u,d,f,p,g,y;return!n||r!==kt.link_mode?!1:((a=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:a.linkMode)===!0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==void 0&&((f=(d=this.client.metadata)==null?void 0:d.redirect)==null?void 0:f.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.universal)!==void 0&&((g=n==null?void 0:n.redirect)==null?void 0:g.universal)!==""&&((y=n==null?void 0:n.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ce(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),ce(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=WT(n,"topic")||"",s=decodeURIComponent(WT(n,"wc_ev")||""),a=this.client.session.keys.includes(r);a&&this.client.session.update(r,{transportType:kt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:a})}),ce(this,"registerLinkModeListeners",async()=>{var n;if(KE()||go()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ce(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:s}=r;return Object.keys(hN).includes(s.method)}),ce(this,"getTVFParams",(n,r,s)=>{var a,c;try{const u=r.request.method,d=this.extractTxHashesFromResult(u,s);return er(Rt({correlationId:n,rpcMethods:[u],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]}),{txHashes:d})}catch(u){this.client.logger.warn("Error getting TVF params",u)}return{}}),ce(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const a=s.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),ce(this,"extractTxHashesFromResult",(n,r)=>{try{const s=hN[n];if(typeof r=="string")return[r];const a=r[s.key];if(ro(a))return n==="solana_signAllTransactions"?a.map(c=>Fj(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(n))for(const a of s)try{await this.onProviderMessageEvent({topic:r,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=me("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Tn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:s,transportType:a}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes(em)?this.client.auth.authKeys.get(em):{publicKey:void 0};try{const u=await this.client.core.crypto.decode(n,r,{receiverPublicKey:c,encoding:a===kt.link_mode?ja:$s});s1(u)?(this.client.core.history.set(n,u),await this.onRelayEventRequest({topic:n,payload:u,attestation:s,transportType:a,encryptedId:si(r)})):sy(u)?(await this.client.core.history.resolve(u),await this.onRelayEventResponse({topic:n,payload:u,transportType:a}),this.client.core.history.delete(n,u.id)):await this.onRelayEventUnknownPayload({topic:n,payload:u,transportType:a}),await this.client.core.relayer.messages.ack(n,r)}catch(u){this.client.logger.error(u)}}registerExpirerEvents(){this.client.core.expirer.on(cs.expired,async e=>{const{topic:n,id:r}=UR(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,me("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,me("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Zo.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Zo.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!on(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ba(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=me("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!on(e,!1)){const{message:n}=me("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ba(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=me("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=me("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(on(e,!1)){const{message:n}=me("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=me("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!iz(e)){const{message:n}=me("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=me("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ba(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=me("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class qV extends Bc{constructor(e,n){super(e,n,NV,i1),this.core=e,this.logger=n}}let HV=class extends Bc{constructor(e,n){super(e,n,OV,i1),this.core=e,this.logger=n}};class VV extends Bc{constructor(e,n){super(e,n,RV,i1,r=>r.id),this.core=e,this.logger=n}}class GV extends Bc{constructor(e,n){super(e,n,$V,ay,()=>em),this.core=e,this.logger=n}}class WV extends Bc{constructor(e,n){super(e,n,UV,ay),this.core=e,this.logger=n}}class KV extends Bc{constructor(e,n){super(e,n,MV,ay,r=>r.id),this.core=e,this.logger=n}}var YV=Object.defineProperty,ZV=(t,e,n)=>e in t?YV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S0=(t,e,n)=>ZV(t,typeof e!="symbol"?e+"":e,n);class QV{constructor(e,n){this.core=e,this.logger=n,S0(this,"authKeys"),S0(this,"pairingTopics"),S0(this,"requests"),this.authKeys=new GV(this.core,this.logger),this.pairingTopics=new WV(this.core,this.logger),this.requests=new KV(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var XV=Object.defineProperty,JV=(t,e,n)=>e in t?XV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,at=(t,e,n)=>JV(t,typeof e!="symbol"?e+"":e,n);let eG=class zx extends r6{constructor(e){super(e),at(this,"protocol",Bx),at(this,"version",Lx),at(this,"name",C0.name),at(this,"metadata"),at(this,"core"),at(this,"logger"),at(this,"events",new ps.EventEmitter),at(this,"engine"),at(this,"session"),at(this,"proposal"),at(this,"pendingRequest"),at(this,"auth"),at(this,"signConfig"),at(this,"on",(r,s)=>this.events.on(r,s)),at(this,"once",(r,s)=>this.events.once(r,s)),at(this,"off",(r,s)=>this.events.off(r,s)),at(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),at(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),at(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),at(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(a){throw this.logger.error(a.message),a}}),at(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),at(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||C0.name,this.metadata=tj(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:kf(ku({level:(e==null?void 0:e.logger)||C0.logger}));this.core=(e==null?void 0:e.core)||new TV(e),this.logger=Qn(n,this.name),this.session=new HV(this.core,this.logger),this.proposal=new qV(this.core,this.logger),this.pendingRequest=new VV(this.core,this.logger),this.engine=new FV(this),this.auth=new QV(this.core,this.logger)}static async init(e){const n=new zx(e);return await n.initialize(),n}get context(){return Ar(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},pe.toMiliseconds(pe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var xg={exports:{}},pN;function tG(){return pN||(pN=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ri<"u"&&ri,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(c){var u=typeof a<"u"&&a||typeof self<"u"&&self||typeof ri<"u"&&ri||{},d={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function f(M){return M&&DataView.prototype.isPrototypeOf(M)}if(d.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(M){return M&&p.indexOf(Object.prototype.toString.call(M))>-1};function y(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function w(M){return typeof M!="string"&&(M=String(M)),M}function v(M){var R={next:function(){var j=M.shift();return{done:j===void 0,value:j}}};return d.iterable&&(R[Symbol.iterator]=function(){return R}),R}function E(M){this.map={},M instanceof E?M.forEach(function(R,j){this.append(j,R)},this):Array.isArray(M)?M.forEach(function(R){if(R.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+R.length);this.append(R[0],R[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(R){this.append(R,M[R])},this)}E.prototype.append=function(M,R){M=y(M),R=w(R);var j=this.map[M];this.map[M]=j?j+", "+R:R},E.prototype.delete=function(M){delete this.map[y(M)]},E.prototype.get=function(M){return M=y(M),this.has(M)?this.map[M]:null},E.prototype.has=function(M){return this.map.hasOwnProperty(y(M))},E.prototype.set=function(M,R){this.map[y(M)]=w(R)},E.prototype.forEach=function(M,R){for(var j in this.map)this.map.hasOwnProperty(j)&&M.call(R,this.map[j],j,this)},E.prototype.keys=function(){var M=[];return this.forEach(function(R,j){M.push(j)}),v(M)},E.prototype.values=function(){var M=[];return this.forEach(function(R){M.push(R)}),v(M)},E.prototype.entries=function(){var M=[];return this.forEach(function(R,j){M.push([j,R])}),v(M)},d.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function _(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function S(M){return new Promise(function(R,j){M.onload=function(){R(M.result)},M.onerror=function(){j(M.error)}})}function T(M){var R=new FileReader,j=S(R);return R.readAsArrayBuffer(M),j}function O(M){var R=new FileReader,j=S(R),H=/charset=([A-Za-z0-9_-]+)/.exec(M.type),V=H?H[1]:"utf-8";return R.readAsText(M,V),j}function P(M){for(var R=new Uint8Array(M),j=new Array(R.length),H=0;H<R.length;H++)j[H]=String.fromCharCode(R[H]);return j.join("")}function N(M){if(M.slice)return M.slice(0);var R=new Uint8Array(M.byteLength);return R.set(new Uint8Array(M)),R.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:d.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:d.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():d.arrayBuffer&&d.blob&&f(M)?(this._bodyArrayBuffer=N(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||g(M))?this._bodyArrayBuffer=N(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var M=_(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=_(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(d.blob)return this.blob().then(T);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=_(this);if(M)return M;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function k(M){var R=M.toUpperCase();return I.indexOf(R)>-1?R:M}function x(M,R){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');R=R||{};var j=R.body;if(M instanceof x){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,R.headers||(this.headers=new E(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!j&&M._bodyInit!=null&&(j=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new E(R.headers)),this.method=k(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal||function(){if("AbortController"in u){var D=new AbortController;return D.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(R.cache==="no-store"||R.cache==="no-cache")){var H=/([?&])_=[^&]*/;if(H.test(this.url))this.url=this.url.replace(H,"$1_="+new Date().getTime());else{var V=/\?/;this.url+=(V.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function B(M){var R=new FormData;return M.trim().split("&").forEach(function(j){if(j){var H=j.split("="),V=H.shift().replace(/\+/g," "),D=H.join("=").replace(/\+/g," ");R.append(decodeURIComponent(V),decodeURIComponent(D))}}),R}function q(M){var R=new E,j=M.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(H){return H.indexOf(`
`)===0?H.substr(1,H.length):H}).forEach(function(H){var V=H.split(":"),D=V.shift().trim();if(D){var Y=V.join(":").trim();try{R.append(D,Y)}catch(te){console.warn("Response "+te.message)}}}),R}A.call(x.prototype);function X(M,R){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=R.statusText===void 0?"":""+R.statusText,this.headers=new E(R.headers),this.url=R.url||"",this._initBody(M)}A.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},X.error=function(){var M=new X(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var se=[301,302,303,307,308];X.redirect=function(M,R){if(se.indexOf(R)===-1)throw new RangeError("Invalid status code");return new X(null,{status:R,headers:{location:M}})},c.DOMException=u.DOMException;try{new c.DOMException}catch{c.DOMException=function(R,j){this.message=R,this.name=j;var H=Error(R);this.stack=H.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function W(M,R){return new Promise(function(j,H){var V=new x(M,R);if(V.signal&&V.signal.aborted)return H(new c.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function Y(){D.abort()}D.onload=function(){var ee={statusText:D.statusText,headers:q(D.getAllResponseHeaders()||"")};V.url.indexOf("file://")===0&&(D.status<200||D.status>599)?ee.status=200:ee.status=D.status,ee.url="responseURL"in D?D.responseURL:ee.headers.get("X-Request-URL");var le="response"in D?D.response:D.responseText;setTimeout(function(){j(new X(le,ee))},0)},D.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request timed out"))},0)},D.onabort=function(){setTimeout(function(){H(new c.DOMException("Aborted","AbortError"))},0)};function te(ee){try{return ee===""&&u.location.href?u.location.href:ee}catch{return ee}}if(D.open(V.method,te(V.url),!0),V.credentials==="include"?D.withCredentials=!0:V.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(d.blob?D.responseType="blob":d.arrayBuffer&&(D.responseType="arraybuffer")),R&&typeof R.headers=="object"&&!(R.headers instanceof E||u.Headers&&R.headers instanceof u.Headers)){var ie=[];Object.getOwnPropertyNames(R.headers).forEach(function(ee){ie.push(y(ee)),D.setRequestHeader(ee,w(R.headers[ee]))}),V.headers.forEach(function(ee,le){ie.indexOf(le)===-1&&D.setRequestHeader(le,ee)})}else V.headers.forEach(function(ee,le){D.setRequestHeader(le,ee)});V.signal&&(V.signal.addEventListener("abort",Y),D.onreadystatechange=function(){D.readyState===4&&V.signal.removeEventListener("abort",Y)}),D.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return W.polyfill=!0,u.fetch||(u.fetch=W,u.Headers=E,u.Request=x,u.Response=X),c.Headers=E,c.Request=x,c.Response=X,c.fetch=W,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(xg,xg.exports)),xg.exports}var nG=tG();const gN=Du(nG);var rG=Object.defineProperty,sG=Object.defineProperties,iG=Object.getOwnPropertyDescriptors,mN=Object.getOwnPropertySymbols,aG=Object.prototype.hasOwnProperty,oG=Object.prototype.propertyIsEnumerable,yN=(t,e,n)=>e in t?rG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bN=(t,e)=>{for(var n in e||(e={}))aG.call(e,n)&&yN(t,n,e[n]);if(mN)for(var n of mN(e))oG.call(e,n)&&yN(t,n,e[n]);return t},wN=(t,e)=>sG(t,iG(e));const cG={Accept:"application/json","Content-Type":"application/json"},lG="POST",vN={headers:cG,method:lG},EN=10;let Ls=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ps.EventEmitter,this.isAvailable=!1,this.registering=!1,!M2(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=ea(e),r=await(await gN(this.url,wN(bN({},vN),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!M2(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=ea({id:1,jsonrpc:"2.0",method:"test",params:[]});await gN(e,wN(bN({},vN),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?bc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),s=r.message||r.toString(),a=ry(e,s);this.events.emit("payload",a)}parseError(e,n=this.url){return wx(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>EN&&this.events.setMaxListeners(EN)}};const _N="error",uG="wss://relay.walletconnect.org",dG="wc",hG="universal_provider",Pg=`${dG}@2:${hG}:`,Fx="https://rpc.walletconnect.org/v1/",Gl="generic",fG=`${Fx}bundler`,ys={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function pG(){}function a1(t){return t==null||typeof t!="object"&&typeof t!="function"}function o1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gG(t){if(a1(t))return t;if(Array.isArray(t)||o1(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function CN(t){return typeof t=="object"&&t!==null}function qx(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Hx(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const mG="[object RegExp]",Vx="[object String]",Gx="[object Number]",Wx="[object Boolean]",Kx="[object Arguments]",yG="[object Symbol]",bG="[object Date]",wG="[object Map]",vG="[object Set]",EG="[object Array]",_G="[object ArrayBuffer]",CG="[object Object]",AG="[object DataView]",SG="[object Uint8Array]",TG="[object Uint8ClampedArray]",NG="[object Uint16Array]",OG="[object Uint32Array]",IG="[object Int8Array]",RG="[object Int16Array]",xG="[object Int32Array]",PG="[object Float32Array]",DG="[object Float64Array]";function $G(t,e){return Zl(t,void 0,t,new Map,e)}function Zl(t,e,n,r=new Map,s=void 0){const a=s==null?void 0:s(t,e,n,r);if(a!=null)return a;if(a1(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const c=new Array(t.length);r.set(t,c);for(let u=0;u<t.length;u++)c[u]=Zl(t[u],u,n,r,s);return Object.hasOwn(t,"index")&&(c.index=t.index),Object.hasOwn(t,"input")&&(c.input=t.input),c}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const c=new RegExp(t.source,t.flags);return c.lastIndex=t.lastIndex,c}if(t instanceof Map){const c=new Map;r.set(t,c);for(const[u,d]of t)c.set(u,Zl(d,u,n,r,s));return c}if(t instanceof Set){const c=new Set;r.set(t,c);for(const u of t)c.add(Zl(u,void 0,n,r,s));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(o1(t)){const c=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,c);for(let u=0;u<t.length;u++)c[u]=Zl(t[u],u,n,r,s);return c}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const c=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,c),Qo(c,t,n,r,s),c}if(typeof File<"u"&&t instanceof File){const c=new File([t],t.name,{type:t.type});return r.set(t,c),Qo(c,t,n,r,s),c}if(t instanceof Blob){const c=new Blob([t],{type:t.type});return r.set(t,c),Qo(c,t,n,r,s),c}if(t instanceof Error){const c=new t.constructor;return r.set(t,c),c.message=t.message,c.name=t.name,c.stack=t.stack,c.cause=t.cause,Qo(c,t,n,r,s),c}if(typeof t=="object"&&UG(t)){const c=Object.create(Object.getPrototypeOf(t));return r.set(t,c),Qo(c,t,n,r,s),c}return t}function Qo(t,e,n=t,r,s){const a=[...Object.keys(e),...qx(e)];for(let c=0;c<a.length;c++){const u=a[c],d=Object.getOwnPropertyDescriptor(t,u);(d==null||d.writable)&&(t[u]=Zl(e[u],u,n,r,s))}}function UG(t){switch(Hx(t)){case Kx:case EG:case _G:case AG:case Wx:case bG:case PG:case DG:case IG:case RG:case xG:case wG:case Gx:case CG:case mG:case vG:case Vx:case yG:case SG:case TG:case NG:case OG:return!0;default:return!1}}function MG(t,e){return $G(t,(n,r,s,a)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Gx:case Vx:case Wx:{const c=new t.constructor(t==null?void 0:t.valueOf());return Qo(c,t),c}case Kx:{const c={};return Qo(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function AN(t){return MG(t)}function SN(t){return t!==null&&typeof t=="object"&&Hx(t)==="[object Arguments]"}function kG(t){return o1(t)}function BG(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function LG(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let a=0;a<n.length;a++){const c=n[a];s=Kv(s,c,r,new Map)}return s}function Kv(t,e,n,r){if(a1(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return gG(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const s=[...Object.keys(e),...qx(e)];for(let a=0;a<s.length;a++){const c=s[a];let u=e[c],d=t[c];if(SN(u)&&(u={...u}),SN(d)&&(d={...d}),typeof Buffer<"u"&&Buffer.isBuffer(u)&&(u=AN(u)),Array.isArray(u))if(typeof d=="object"&&d!=null){const p=[],g=Reflect.ownKeys(d);for(let y=0;y<g.length;y++){const w=g[y];p[w]=d[w]}d=p}else d=[];const f=n(d,u,c,t,e,r);f!=null?t[c]=f:Array.isArray(u)||CN(d)&&CN(u)?t[c]=Kv(d,u,n,r):d==null&&BG(u)?t[c]=Kv({},u,n,r):d==null&&kG(u)?t[c]=AN(u):(d===void 0||u!==void 0)&&(t[c]=u)}return t}function jG(t,...e){return LG(t,...e,pG)}var zG=Object.defineProperty,FG=Object.defineProperties,qG=Object.getOwnPropertyDescriptors,TN=Object.getOwnPropertySymbols,HG=Object.prototype.hasOwnProperty,VG=Object.prototype.propertyIsEnumerable,NN=(t,e,n)=>e in t?zG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dg=(t,e)=>{for(var n in e||(e={}))HG.call(e,n)&&NN(t,n,e[n]);if(TN)for(var n of TN(e))VG.call(e,n)&&NN(t,n,e[n]);return t},GG=(t,e)=>FG(t,qG(e));function qr(t,e,n){var r;const s=Ql(t);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${Fx}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function Lc(t){return t.includes(":")?t.split(":")[1]:t}function Yx(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function WG(t,e){const n=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!n.length)return[];const r=[];return n.forEach(s=>{const a=e.namespaces[s].accounts;r.push(...a)}),r}function T0(t={},e={}){const n=ON(t),r=ON(e);return jG(n,r)}function ON(t){var e,n,r,s;const a={};if(!qh(t))return a;for(const[c,u]of Object.entries(t)){const d=t1(c)?[c]:u.chains,f=u.methods||[],p=u.events||[],g=u.rpcMap||{},y=wh(c);a[y]=GG(Dg(Dg({},a[y]),u),{chains:Zg(d,(e=a[y])==null?void 0:e.chains),methods:Zg(f,(n=a[y])==null?void 0:n.methods),events:Zg(p,(r=a[y])==null?void 0:r.events),rpcMap:Dg(Dg({},g),(s=a[y])==null?void 0:s.rpcMap)})}return a}function IN(t){return t.includes(":")?t.split(":")[2]:t}function RN(t){const e={};for(const[n,r]of Object.entries(t)){const s=r.methods||[],a=r.events||[],c=r.accounts||[],u=t1(n)?[n]:r.chains?r.chains:Yx(r.accounts);e[n]={chains:u,methods:s,events:a,accounts:c}}return e}function N0(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Zx={},gt=t=>Zx[t],O0=(t,e)=>{Zx[t]=e};var KG=Object.defineProperty,YG=(t,e,n)=>e in t?KG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pl=(t,e,n)=>YG(t,typeof e!="symbol"?e+"":e,n);class ZG{constructor(e){Pl(this,"name","polkadot"),Pl(this,"client"),Pl(this,"httpProviders"),Pl(this,"events"),Pl(this,"namespace"),Pl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Lc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}}var QG=Object.defineProperty,XG=Object.defineProperties,JG=Object.getOwnPropertyDescriptors,xN=Object.getOwnPropertySymbols,eW=Object.prototype.hasOwnProperty,tW=Object.prototype.propertyIsEnumerable,Yv=(t,e,n)=>e in t?QG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PN=(t,e)=>{for(var n in e||(e={}))eW.call(e,n)&&Yv(t,n,e[n]);if(xN)for(var n of xN(e))tW.call(e,n)&&Yv(t,n,e[n]);return t},DN=(t,e)=>XG(t,JG(e)),Dl=(t,e,n)=>Yv(t,typeof e!="symbol"?e+"":e,n);class nW{constructor(e){Dl(this,"name","eip155"),Dl(this,"client"),Dl(this,"chainId"),Dl(this,"namespace"),Dl(this,"httpProviders"),Dl(this,"events"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||qr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(Lc(n));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let s=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const a=parseInt(s,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,s;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((s=c==null?void 0:c.sessionProperties)==null?void 0:s.capabilities)||{};if(u!=null&&u[a])return u==null?void 0:u[a];const d=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:DN(PN({},c.sessionProperties||{}),{capabilities:DN(PN({},u||{}),{[a]:d})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return d}async getCallStatus(e){var n,r;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const u=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(u,e)}catch(d){console.warn("Failed to fetch call status from bundler",d,u)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const s=new URL(e),a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(eo("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,n){return`${fG}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var rW=Object.defineProperty,sW=(t,e,n)=>e in t?rW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$l=(t,e,n)=>sW(t,typeof e!="symbol"?e+"":e,n);class iW{constructor(e){$l(this,"name","solana"),$l(this,"client"),$l(this,"httpProviders"),$l(this,"events"),$l(this,"namespace"),$l(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Lc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}}var aW=Object.defineProperty,oW=(t,e,n)=>e in t?aW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ul=(t,e,n)=>oW(t,typeof e!="symbol"?e+"":e,n);class cW{constructor(e){Ul(this,"name","cosmos"),Ul(this,"client"),Ul(this,"httpProviders"),Ul(this,"events"),Ul(this,"namespace"),Ul(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Lc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}}var lW=Object.defineProperty,uW=(t,e,n)=>e in t?lW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ml=(t,e,n)=>uW(t,typeof e!="symbol"?e+"":e,n);class dW{constructor(e){Ml(this,"name","algorand"),Ml(this,"client"),Ml(this,"httpProviders"),Ml(this,"events"),Ml(this,"namespace"),Ml(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||qr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ms(new Ls(r,gt("disableProviderPing")))}}var hW=Object.defineProperty,fW=(t,e,n)=>e in t?hW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kl=(t,e,n)=>fW(t,typeof e!="symbol"?e+"":e,n);class pW{constructor(e){kl(this,"name","cip34"),kl(this,"client"),kl(this,"httpProviders"),kl(this,"events"),kl(this,"namespace"),kl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=Lc(n);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}}var gW=Object.defineProperty,mW=(t,e,n)=>e in t?gW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bl=(t,e,n)=>mW(t,typeof e!="symbol"?e+"":e,n);class yW{constructor(e){Bl(this,"name","elrond"),Bl(this,"client"),Bl(this,"httpProviders"),Bl(this,"events"),Bl(this,"namespace"),Bl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Lc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}}var bW=Object.defineProperty,wW=(t,e,n)=>e in t?bW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ll=(t,e,n)=>wW(t,typeof e!="symbol"?e+"":e,n);class vW{constructor(e){Ll(this,"name","multiversx"),Ll(this,"client"),Ll(this,"httpProviders"),Ll(this,"events"),Ll(this,"namespace"),Ll(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const s=Lc(n);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}}var EW=Object.defineProperty,_W=(t,e,n)=>e in t?EW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jl=(t,e,n)=>_W(t,typeof e!="symbol"?e+"":e,n);class CW{constructor(e){jl(this,"name","near"),jl(this,"client"),jl(this,"httpProviders"),jl(this,"events"),jl(this,"namespace"),jl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||qr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace);return typeof r>"u"?void 0:new ms(new Ls(r,gt("disableProviderPing")))}}var AW=Object.defineProperty,SW=(t,e,n)=>e in t?AW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zl=(t,e,n)=>SW(t,typeof e!="symbol"?e+"":e,n);class TW{constructor(e){zl(this,"name","tezos"),zl(this,"client"),zl(this,"httpProviders"),zl(this,"events"),zl(this,"namespace"),zl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||qr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace);return typeof r>"u"?void 0:new ms(new Ls(r))}}var NW=Object.defineProperty,OW=(t,e,n)=>e in t?NW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fl=(t,e,n)=>OW(t,typeof e!="symbol"?e+"":e,n);class IW{constructor(e){Fl(this,"name",Gl),Fl(this,"client"),Fl(this,"httpProviders"),Fl(this,"events"),Fl(this,"namespace"),Fl(this,"chainId"),this.namespace=e.namespace,this.events=gt("events"),this.client=gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ys.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(s=>{const a=Ql(s);r[`${a.namespace}:${a.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new ms(new Ls(r,gt("disableProviderPing")))}}var RW=Object.defineProperty,xW=Object.defineProperties,PW=Object.getOwnPropertyDescriptors,$N=Object.getOwnPropertySymbols,DW=Object.prototype.hasOwnProperty,$W=Object.prototype.propertyIsEnumerable,Zv=(t,e,n)=>e in t?RW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$g=(t,e)=>{for(var n in e||(e={}))DW.call(e,n)&&Zv(t,n,e[n]);if($N)for(var n of $N(e))$W.call(e,n)&&Zv(t,n,e[n]);return t},I0=(t,e)=>xW(t,PW(e)),ss=(t,e,n)=>Zv(t,typeof e!="symbol"?e+"":e,n);let UW=class Qx{constructor(e){ss(this,"client"),ss(this,"namespaces"),ss(this,"optionalNamespaces"),ss(this,"sessionProperties"),ss(this,"scopedProperties"),ss(this,"events",new BE),ss(this,"rpcProviders",{}),ss(this,"session"),ss(this,"providerOpts"),ss(this,"logger"),ss(this,"uri"),ss(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:kf(ku({level:(e==null?void 0:e.logger)||_N})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Qx(e);return await n.initialize(),n}async request(e,n,r){const[s,a]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:$g({},e),chainId:`${s}:${a}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,s){const a=new Date().getTime();this.request(e,r,s).then(c=>n(null,ny(a,c))).catch(c=>n(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Tt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const a=await s();if(this.session=a.session,this.session){const c=RN(this.session.namespaces);this.namespaces=T0(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const a=RN(s.namespaces);return this.namespaces=T0(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,s]=this.validateChain(e),a=this.getProvider(r);a.name===Gl?a.setDefaultChain(`${r}:${s}`,n):a.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(ro(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await eG.init({core:this.providerOpts.core,logger:this.providerOpts.logger||_N,relayUrl:this.providerOpts.relayUrl||uG,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>wh(n)))];O0("client",this.client),O0("events",this.events),O0("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=WG(n,this.session),s=Yx(r),a=T0(this.namespaces,this.optionalNamespaces),c=I0($g({},a[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new nW({namespace:c});break;case"algorand":this.rpcProviders[n]=new dW({namespace:c});break;case"solana":this.rpcProviders[n]=new iW({namespace:c});break;case"cosmos":this.rpcProviders[n]=new cW({namespace:c});break;case"polkadot":this.rpcProviders[n]=new ZG({namespace:c});break;case"cip34":this.rpcProviders[n]=new pW({namespace:c});break;case"elrond":this.rpcProviders[n]=new yW({namespace:c});break;case"multiversx":this.rpcProviders[n]=new vW({namespace:c});break;case"near":this.rpcProviders[n]=new CW({namespace:c});break;case"tezos":this.rpcProviders[n]=new TW({namespace:c});break;default:this.rpcProviders[Gl]?this.rpcProviders[Gl].updateNamespace(c):this.rpcProviders[Gl]=new IW({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:s}=e;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:a}=r;if(a.name==="accountsChanged"){const c=a.data;c&&ro(c)&&this.events.emit("accountsChanged",c.map(IN))}else if(a.name==="chainChanged"){const c=r.chainId,u=r.event.data,d=wh(c),f=N0(c)!==N0(u)?`${d}:${N0(u)}`:c;this.onChainChanged(f)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:a}=n,c=(s=this.client)==null?void 0:s.session.get(e);this.session=I0($g({},c),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",I0($g({},Tt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(ys.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Gl]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:s,scopedProperties:a}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=s,this.scopedProperties=a}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(c=>wh(c)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=wh(Object.keys(this.namespaces)[0]),a=this.rpcProviders[s].getDefaultChain();return[s,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const a=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:a,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var s,a;try{if(n===r)return;const c=(a=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:a.accounts;if(!c)return;const u=c.filter(d=>d.includes(`${r}:`)).map(IN);if(!ro(u))return;this.events.emit("accountsChanged",u)}catch(c){this.logger.warn("Failed to emit accountsChanged on chain change",c)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Pg}/${e}${s}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Pg}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Pg}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Pg)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var Cu={};const MW="https://secure.walletconnect.org/sdk",kW=(typeof process<"u"&&typeof Cu<"u"?Cu.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||MW,BW=(typeof process<"u"&&typeof Cu<"u"?Cu.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",LW=(typeof process<"u"&&typeof Cu<"u"?Cu.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ae={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Ln={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Wo=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),un=zt({...Wo}),Ds={state:un,subscribeKey(t,e){return cr(un,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Me.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){un.message=Wo.message,un.variant=Wo.variant,un.svg=Wo.svg,un.open=Wo.open,un.autoClose=Wo.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Wo.autoClose}){un.open?(un.open=!1,setTimeout(()=>{un.message=t,un.variant=n,un.svg=e,un.open=!0,un.autoClose=r},150)):(un.message=t,un.variant=n,un.svg=e,un.open=!0,un.autoClose=r)}},Ih={getSIWX(){return ue.state.siwx},async initializeIfEnabled(){var a;const t=ue.state.siwx,e=z.getActiveCaipAddress();if(!(t&&e))return;const[n,r,s]=e.split(":");if(z.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,s)).length)return;await tn.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),Lt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=Mt._getClient())==null?void 0:a.disconnect().catch(console.error)),bt.reset("Connect"),Ds.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ue.state.siwx,e=Me.getPlainAddress(z.getActiveCaipAddress()),n=z.getActiveCaipNetwork(),r=Mt._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),a=s.toString();Le.getConnectorId(n.chainNamespace)===de.CONNECTOR_ID.AUTH&&bt.pushTransactionStack({view:null,goBack:!1,replace:!0});const u=await r.signMessage(a);await t.addSession({data:s,message:a,signature:u}),tn.close(),Lt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const a=this.getSIWXEventProperties();(!tn.state.open||bt.state.view==="ApproveTransaction")&&await tn.open({view:"SIWXSignMessage"}),a.isSmartAccount?Ds.showError("This application might not support Smart Accounts"):Ds.showError("Signature declined"),Lt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Mt.disconnect():tn.close(),bt.reset("Connect"),Lt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=ue.state.siwx,e=Me.getPlainAddress(z.getActiveCaipAddress()),n=z.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=bt.state.view==="ApproveTransaction",r=bt.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var u,d,f;const r=Ih.getSIWX(),s=new Set(e.map(p=>p.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const a=await r.createMessage({chainId:((u=z.getActiveCaipNetwork())==null?void 0:u.caipNetworkId)||"",accountAddress:""}),c=await t.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:n,chains:[a.chainId,...e.filter(p=>p!==a.chainId)]});if(Ds.showLoading("Authenticating...",{autoClose:!1}),Te.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:(d=c.session.peer.metadata.icons)==null?void 0:d[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(f=c==null?void 0:c.auths)!=null&&f.length){const p=c.auths.map(g=>{const y=t.client.formatAuthMessage({request:g.p,iss:g.p.iss});return{data:{...g.p,accountAddress:g.p.iss.split(":").slice(-1).join(""),chainId:g.p.iss.split(":").slice(2,4).join(":"),uri:g.p.aud,version:g.p.version||a.version,expirationTime:g.p.exp,issuedAt:g.p.iat,notBefore:g.p.nbf},message:y,signature:g.s.s,cacao:g}});try{await r.setSessions(p),Lt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Ih.getSIWXEventProperties()})}catch(g){throw console.error("SIWX:universalProviderAuth - failed to set sessions",g),Lt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Ih.getSIWXEventProperties()}),await t.disconnect().catch(console.error),g}finally{Ds.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=z.state.activeChain;return{network:((e=z.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=Te.state.preferredAccountTypes)==null?void 0:n[t])===Ln.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},$t=zt({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),jW={state:$t,subscribe(t){return Yn($t,()=>t($t))},setLastNetworkInView(t){$t.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");$t.loading=!0;try{const s=await Be.fetchTransactions({account:t,cursor:$t.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),a=this.filterSpamTransactions(s.data),c=this.filterByConnectedChain(a),u=[...$t.transactions,...c];$t.loading=!1,e==="coinbase"?$t.coinbaseTransactions=this.groupTransactionsByYearAndMonth($t.coinbaseTransactions,s.data):($t.transactions=u,$t.transactionsByYear=this.groupTransactionsByYearAndMonth($t.transactionsByYear,c)),$t.empty=u.length===0,$t.next=s.next?s.next:void 0}catch{const a=z.state.activeChain;Lt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ue.state.projectId,cursor:$t.next,isSmartAccount:((r=Te.state.preferredAccountTypes)==null?void 0:r[a])===Ln.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ds.showError("Failed to fetch transactions"),$t.loading=!1,$t.empty=!0,$t.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),a=new Date(r.metadata.minedAt).getMonth(),c=n[s]??{},d=(c[a]??[]).filter(f=>f.id!==r.id);n[s]={...c,[a]:[...d,r].sort((f,p)=>new Date(p.metadata.minedAt).getTime()-new Date(f.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=z.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){$t.next=void 0},resetTransactions(){$t.transactions=[],$t.transactionsByYear={},$t.lastNetworkInView=void 0,$t.loading=!1,$t.empty=!1,$t.next=void 0}},Ut=zt({wcError:!1,buffering:!1,status:"disconnected"});let qo;const Mt={state:Ut,subscribeKey(t,e){return cr(Ut,t,e)},_getClient(){return Ut._client},setClient(t){Ut._client=yc(t)},async connectWalletConnect(){var t,e,n,r;if(Me.isTelegram()||Me.isSafari()&&Me.isIos()){if(qo){await qo,qo=void 0;return}if(!Me.isPairingExpired(Ut==null?void 0:Ut.wcPairingExpiry)){const s=Ut.wcUri;Ut.wcUri=s;return}qo=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await qo,qo=void 0,Ut.wcPairingExpiry=void 0,this.state.status="connected"}else await((r=(n=this._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,s;await((s=(r=this._getClient())==null?void 0:r.connectExternal)==null?void 0:s.call(r,t)),n&&z.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=this._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||z.state.activeChain;e&&Le.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;tn.setLoading(!0,z.state.activeChain);const n=Le.getAuthConnector();n&&(Te.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),be.setPreferredAccountTypes(Te.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(n),tn.setLoading(!1,z.state.activeChain),Lt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=z.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,Ut.wcLinking=void 0,Ut.recentWallet=void 0,Ut.status="disconnected",jW.resetTransactions(),be.deleteWalletConnectDeepLink()},resetUri(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,qo=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Mt.state;t&&be.setWalletConnectDeepLink(t),e&&be.setAppKitRecent(e),Lt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=bt.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){Ut.wcBasic=t},setUri(t){Ut.wcUri=t,Ut.wcPairingExpiry=Me.getPairingExpiry()},setWcLinking(t){Ut.wcLinking=t},setWcError(t){Ut.wcError=t,Ut.buffering=!1},setRecentWallet(t){Ut.recentWallet=t},setBuffering(t){Ut.buffering=t},setStatus(t){Ut.status=t},async disconnect(t){try{tn.setLoading(!0,t),await Ih.clearSessions(),await z.disconnect(t),tn.setLoading(!1,t),Le.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},ql=zt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),oi={state:ql,subscribe(t){return Yn(ql,()=>t(ql))},subscribeOpen(t){return cr(ql,"open",t)},set(t){Object.assign(ql,{...ql,...t})}};function jt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}function lo(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new XW(t.type);return`${t.name}(${oy(t.inputs,{includeName:e})})`}function oy(t,{includeName:e=!1}={}){return t?t.map(n=>zW(n,{includeName:e})).join(e?", ":","):""}function zW(t,{includeName:e}){return t.type.startsWith("tuple")?`(${oy(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function uo(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function mn(t){return uo(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Xx="2.29.4";let dh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Xx}`},he=class Qv extends Error{constructor(e,n={}){var u;const r=(()=>{var d;return n.cause instanceof Qv?n.cause.details:(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof Qv&&n.cause.docsPath||n.docsPath,a=(u=dh.getDocsUrl)==null?void 0:u.call(dh,{...n,docsPath:s}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...dh.version?[`Version: ${dh.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Xx}walk(e){return Jx(this,e)}};function Jx(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Jx(t.cause,e):e?null:t}class FW extends he{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class UN extends he{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class e3 extends he{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${oy(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class cy extends he{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class qW extends he{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class HW extends he{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${mn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class VW extends he{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class pre extends he{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class gre extends he{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class t3 extends he{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class GW extends he{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class n3 extends he{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class wm extends he{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class WW extends he{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class mre extends he{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class KW extends he{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${lo(e.abiItem)}\`, and`,`\`${n.type}\` in \`${lo(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class Xv extends he{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${oy(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class r3 extends he{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${lo(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class YW extends he{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class ZW extends he{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class QW extends he{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class XW extends he{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class s3 extends he{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let i3=class extends he{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class MN extends he{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Vu(t,{dir:e,size:n=32}={}){return typeof t=="string"?so(t,{dir:e,size:n}):JW(t,{dir:e,size:n})}function so(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new i3({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function JW(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new i3({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}let a3=class extends he{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class eK extends he{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class tK extends he{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Yf(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function js(t,{size:e}){if(mn(t)>e)throw new tK({givenSize:mn(t),maxSize:e})}function Au(t,e={}){const{signed:n}=e;e.size&&js(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Ac(t,e={}){return Number(Au(t,e))}function o3(t,e={}){let n=li(t);return e.size&&(js(n,{size:e.size}),n=Yf(n,{dir:"right"})),new TextDecoder().decode(n)}const nK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Su(t,e={}){return typeof t=="number"||typeof t=="bigint"?tt(t,e):typeof t=="string"?ly(t,e):typeof t=="boolean"?c3(t,e):Cr(t,e)}function c3(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(js(n,{size:e.size}),Vu(n,{size:e.size})):n}function Cr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=nK[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(js(r,{size:e.size}),Vu(r,{dir:"right",size:e.size})):r}function tt(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const d=typeof t=="bigint"?"n":"";throw new a3({max:a?`${a}${d}`:void 0,min:`${c}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Vu(u,{size:r}):u}const rK=new TextEncoder;function ly(t,e={}){const n=rK.encode(t);return Cr(n,e)}const sK=new TextEncoder;function uy(t,e={}){return typeof t=="number"||typeof t=="bigint"?aK(t,e):typeof t=="boolean"?iK(t,e):uo(t)?li(t,e):l3(t,e)}function iK(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(js(n,{size:e.size}),Vu(n,{size:e.size})):n}const ji={zero:48,nine:57,A:65,F:70,a:97,f:102};function kN(t){if(t>=ji.zero&&t<=ji.nine)return t-ji.zero;if(t>=ji.A&&t<=ji.F)return t-(ji.A-10);if(t>=ji.a&&t<=ji.f)return t-(ji.a-10)}function li(t,e={}){let n=t;e.size&&(js(n,{size:e.size}),n=Vu(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=kN(r.charCodeAt(u++)),f=kN(r.charCodeAt(u++));if(d===void 0||f===void 0)throw new he(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);a[c]=d*16+f}return a}function aK(t,e){const n=tt(t,e);return li(n)}function l3(t,e={}){const n=sK.encode(t);return typeof e.size=="number"?(js(n,{size:e.size}),Vu(n,{dir:"right",size:e.size})):n}function vm(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function oK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dy(t,...e){if(!oK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function wre(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vm(t.outputLen),vm(t.blockLen)}function Em(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function u3(t,e){dy(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ug=BigInt(2**32-1),BN=BigInt(32);function cK(t,e=!1){return e?{h:Number(t&Ug),l:Number(t>>BN&Ug)}:{h:Number(t>>BN&Ug)|0,l:Number(t&Ug)|0}}function lK(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:c}=cK(t[s],e);[n[s],r[s]]=[a,c]}return[n,r]}const uK=(t,e,n)=>t<<n|e>>>32-n,dK=(t,e,n)=>e<<n|t>>>32-n,hK=(t,e,n)=>e<<n-32|t>>>64-n,fK=(t,e,n)=>t<<n-32|e>>>64-n,Hl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pK(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function R0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Zs(t,e){return t<<32-e|t>>>e}const LN=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function gK(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function jN(t){for(let e=0;e<t.length;e++)t[e]=gK(t[e])}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function mK(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function c1(t){return typeof t=="string"&&(t=mK(t)),dy(t),t}function vre(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];dy(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}class d3{clone(){return this._cloneInto()}}function h3(t){const e=r=>t().update(c1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Ere(t=32){if(Hl&&typeof Hl.getRandomValues=="function")return Hl.getRandomValues(new Uint8Array(t));if(Hl&&typeof Hl.randomBytes=="function")return Uint8Array.from(Hl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const f3=[],p3=[],g3=[],yK=BigInt(0),hh=BigInt(1),bK=BigInt(2),wK=BigInt(7),vK=BigInt(256),EK=BigInt(113);for(let t=0,e=hh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],f3.push(2*(5*r+n)),p3.push((t+1)*(t+2)/2%64);let s=yK;for(let a=0;a<7;a++)e=(e<<hh^(e>>wK)*EK)%vK,e&bK&&(s^=hh<<(hh<<BigInt(a))-hh);g3.push(s)}const[_K,CK]=lK(g3,!0),zN=(t,e,n)=>n>32?hK(t,e,n):uK(t,e,n),FN=(t,e,n)=>n>32?fK(t,e,n):dK(t,e,n);function AK(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,d=(c+2)%10,f=n[d],p=n[d+1],g=zN(f,p,1)^n[u],y=FN(f,p,1)^n[u+1];for(let w=0;w<50;w+=10)t[c+w]^=g,t[c+w+1]^=y}let s=t[2],a=t[3];for(let c=0;c<24;c++){const u=p3[c],d=zN(s,a,u),f=FN(s,a,u),p=f3[c];s=t[p],a=t[p+1],t[p]=d,t[p+1]=f}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=_K[r],t[1]^=CK[r]}n.fill(0)}class l1 extends d3{constructor(e,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,vm(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=pK(this.state)}keccak(){LN||jN(this.state32),AK(this.state32,this.rounds),LN||jN(this.state32),this.posOut=0,this.pos=0}update(e){Em(this);const{blockLen:n,state:r}=this;e=c1(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(n-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Em(this,!1),dy(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vm(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(u3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new l1(n,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const SK=(t,e,n)=>h3(()=>new l1(e,t,n)),TK=SK(1,136,256/8);function Zf(t,e){const n=e||"hex",r=TK(uo(t,{strict:!1})?uy(t):t);return n==="bytes"?r:Su(r)}const NK=t=>Zf(uy(t));function OK(t){return NK(t)}function IK(t){let e=!0,n="",r=0,s="",a=!1;for(let c=0;c<t.length;c++){const u=t[c];if(["(",")",","].includes(u)&&(e=!0),u==="("&&r++,u===")"&&r--,!!e){if(r===0){if(u===" "&&["event","function",""].includes(s))s="";else if(s+=u,u===")"){a=!0;break}continue}if(u===" "){t[c-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=u,n+=u}}if(!a)throw new he("Unable to normalize signature.");return s}const RK=t=>{const e=typeof t=="string"?t:h4(t);return IK(e)};function m3(t){return OK(RK(t))}const u1=m3;class Sc extends he{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class hy extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const x0=new hy(8192);function fy(t,e){if(x0.has(`${t}.${e}`))return x0.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Zf(l3(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const a=`0x${s.join("")}`;return x0.set(`${t}.${e}`,a),a}function ec(t,e){if(!ui(t,{strict:!1}))throw new Sc({address:t});return fy(t,e)}const xK=/^0x[a-fA-F0-9]{40}$/,P0=new hy(8192);function ui(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(P0.has(r))return P0.get(r);const s=xK.test(t)?t.toLowerCase()===t?!0:n?fy(t)===t:!0:!1;return P0.set(r,s),s}function Tu(t){return typeof t[0]=="string"?py(t):PK(t)}function PK(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function py(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function _m(t,e,n,{strict:r}={}){return uo(t,{strict:!1})?DK(t,e,n,{strict:r}):w3(t,e,n,{strict:r})}function y3(t,e){if(typeof e=="number"&&e>0&&e>mn(t)-1)throw new s3({offset:e,position:"start",size:mn(t)})}function b3(t,e,n){if(typeof e=="number"&&typeof n=="number"&&mn(t)!==n-e)throw new s3({offset:n,position:"end",size:mn(t)})}function w3(t,e,n,{strict:r}={}){y3(t,e);const s=t.slice(e,n);return r&&b3(s,e,n),s}function DK(t,e,n,{strict:r}={}){y3(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&b3(s,e,n),s}const $K=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function v3(t,e){if(t.length!==e.length)throw new VW({expectedLength:t.length,givenLength:e.length});const n=UK({params:t,values:e}),r=h1(n);return r.length===0?"0x":r}function UK({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(d1({param:t[r],value:e[r]}));return n}function d1({param:t,value:e}){const n=f1(t.type);if(n){const[r,s]=n;return kK(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return FK(e,{param:t});if(t.type==="address")return MK(e);if(t.type==="bool")return LK(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=$K.exec(t.type)??[];return jK(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return BK(e,{param:t});if(t.type==="string")return zK(e);throw new YW(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function h1(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?e+=32:e+=mn(u)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:c,encoded:u}=t[a];c?(n.push(tt(e+s,{size:32})),r.push(u),s+=mn(u)):n.push(u)}return Tu([...n,...r])}function MK(t){if(!ui(t))throw new Sc({address:t});return{dynamic:!1,encoded:so(t.toLowerCase())}}function kK(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new QW(t);if(!r&&t.length!==e)throw new qW({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const a=[];for(let c=0;c<t.length;c++){const u=d1({param:n,value:t[c]});u.dynamic&&(s=!0),a.push(u)}if(r||s){const c=h1(a);if(r){const u=tt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Tu([u,c]):u}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Tu(a.map(({encoded:c})=>c))}}function BK(t,{param:e}){const[,n]=e.type.split("bytes"),r=mn(t);if(!n){let s=t;return r%32!==0&&(s=so(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Tu([so(tt(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new HW({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:so(t,{dir:"right"})}}function LK(t){if(typeof t!="boolean")throw new he(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:so(c3(t))}}function jK(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new a3({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:tt(t,{size:32,signed:e})}}function zK(t){const e=ly(t),n=Math.ceil(mn(e)/32),r=[];for(let s=0;s<n;s++)r.push(so(_m(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Tu([so(tt(mn(e),{size:32})),...r])}}function FK(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],c=Array.isArray(t)?s:a.name,u=d1({param:a,value:t[c]});r.push(u),u.dynamic&&(n=!0)}return{dynamic:n,encoded:n?h1(r):Tu(r.map(({encoded:s})=>s))}}function f1(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const p1=t=>_m(m3(t),0,4);function g1(t){const{abi:e,args:n=[],name:r}=t,s=uo(r,{strict:!1}),a=e.filter(u=>s?u.type==="function"?p1(u)===r:u.type==="event"?u1(u)===r:!1:"name"in u&&u.name===r);if(a.length===0)return;if(a.length===1)return a[0];let c;for(const u of a){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return u;continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((f,p)=>{const g="inputs"in u&&u.inputs[p];return g?Jv(f,g):!1})){if(c&&"inputs"in c&&c.inputs){const f=E3(u.inputs,c.inputs,n);if(f)throw new KW({abiItem:u,type:f[0]},{abiItem:c,type:f[1]})}c=u}}return c||a[0]}function Jv(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ui(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>Jv(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Jv(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function E3(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return E3(s.components,a.components,n[r]);const c=[s.type,a.type];if(c.includes("address")&&c.includes("bytes20")?!0:c.includes("address")&&c.includes("string")?ui(n[r],{strict:!1}):c.includes("address")&&c.includes("bytes")?ui(n[r],{strict:!1}):!1)return c}}function qK(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:a,response:c,status:u,transport:d})=>{u==="success"&&e===a&&(n[c]=d.request)})),a=>n[a]||t.request}function pi(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const qN="/docs/contract/encodeFunctionData";function HK(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const a=g1({abi:e,args:n,name:r});if(!a)throw new wm(r,{docsPath:qN});s=a}if(s.type!=="function")throw new wm(void 0,{docsPath:qN});return{abi:[s],functionName:p1(lo(s))}}function gy(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var u;return t.abi.length===1&&((u=t.functionName)!=null&&u.startsWith("0x"))?t:HK(t)})(),s=n[0],a=r,c="inputs"in s&&s.inputs?v3(s.inputs,e??[]):void 0;return py([a,c??"0x"])}const VK={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},GK={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},WK={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class HN extends he{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class _3 extends he{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class KK extends he{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const YK={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new KK({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new _3({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new HN({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new HN({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function m1(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(YK);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function ZK(t,e={}){typeof e.size<"u"&&js(t,{size:e.size});const n=Cr(t,e);return Au(n,e)}function QK(t,e={}){let n=t;if(typeof e.size<"u"&&(js(n,{size:e.size}),n=Yf(n)),n.length>1||n[0]>1)throw new eK(n);return!!n[0]}function Qi(t,e={}){typeof e.size<"u"&&js(t,{size:e.size});const n=Cr(t,e);return Ac(n,e)}function XK(t,e={}){let n=t;return typeof e.size<"u"&&(js(n,{size:e.size}),n=Yf(n,{dir:"right"})),new TextDecoder().decode(n)}function my(t,e){const n=typeof e=="string"?li(e):e,r=m1(n);if(mn(n)===0&&t.length>0)throw new cy;if(mn(e)&&mn(e)<32)throw new e3({data:typeof e=="string"?e:Cr(e),params:t,size:mn(e)});let s=0;const a=[];for(let c=0;c<t.length;++c){const u=t[c];r.setPosition(s);const[d,f]=Xl(r,u,{staticPosition:0});s+=f,a.push(d)}return a}function Xl(t,e,{staticPosition:n}){const r=f1(e.type);if(r){const[s,a]=r;return eY(t,{...e,type:a},{length:s,staticPosition:n})}if(e.type==="tuple")return sY(t,e,{staticPosition:n});if(e.type==="address")return JK(t);if(e.type==="bool")return tY(t);if(e.type.startsWith("bytes"))return nY(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return rY(t,e);if(e.type==="string")return iY(t,{staticPosition:n});throw new ZW(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const VN=32,eE=32;function JK(t){const e=t.readBytes(32);return[fy(Cr(w3(e,-20))),32]}function eY(t,e,{length:n,staticPosition:r}){if(!n){const c=Qi(t.readBytes(eE)),u=r+c,d=u+VN;t.setPosition(u);const f=Qi(t.readBytes(VN)),p=Hh(e);let g=0;const y=[];for(let w=0;w<f;++w){t.setPosition(d+(p?w*32:g));const[v,E]=Xl(t,e,{staticPosition:d});g+=E,y.push(v)}return t.setPosition(r+32),[y,32]}if(Hh(e)){const c=Qi(t.readBytes(eE)),u=r+c,d=[];for(let f=0;f<n;++f){t.setPosition(u+f*32);const[p]=Xl(t,e,{staticPosition:u});d.push(p)}return t.setPosition(r+32),[d,32]}let s=0;const a=[];for(let c=0;c<n;++c){const[u,d]=Xl(t,e,{staticPosition:r+s});s+=d,a.push(u)}return[a,s]}function tY(t){return[QK(t.readBytes(32),{size:32}),32]}function nY(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const c=Qi(t.readBytes(32));t.setPosition(n+c);const u=Qi(t.readBytes(32));if(u===0)return t.setPosition(n+32),["0x",32];const d=t.readBytes(u);return t.setPosition(n+32),[Cr(d),32]}return[Cr(t.readBytes(Number.parseInt(s),32)),32]}function rY(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?ZK(s,{signed:n}):Qi(s,{signed:n}),32]}function sY(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:c})=>!c),s=r?[]:{};let a=0;if(Hh(e)){const c=Qi(t.readBytes(eE)),u=n+c;for(let d=0;d<e.components.length;++d){const f=e.components[d];t.setPosition(u+a);const[p,g]=Xl(t,f,{staticPosition:u});a+=g,s[r?d:f==null?void 0:f.name]=p}return t.setPosition(n+32),[s,32]}for(let c=0;c<e.components.length;++c){const u=e.components[c],[d,f]=Xl(t,u,{staticPosition:n});s[r?c:u==null?void 0:u.name]=d,a+=f}return[s,a]}function iY(t,{staticPosition:e}){const n=Qi(t.readBytes(32)),r=e+n;t.setPosition(r);const s=Qi(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),c=XK(Yf(a));return t.setPosition(e+32),[c,32]}function Hh(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(Hh);const n=f1(t.type);return!!(n&&Hh({...t,type:n[1]}))}function aY(t){const{abi:e,data:n}=t,r=_m(n,0,4);if(r==="0x")throw new cy;const a=[...e||[],GK,WK].find(c=>c.type==="error"&&r===p1(lo(c)));if(!a)throw new t3(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?my(a.inputs,_m(n,4)):void 0,errorName:a.name}}const hs=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function C3({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?hs(e[a]):e[a]}`).join(", ")})`}const oY={gwei:9,wei:18},A3={ether:-9,wei:9},cY={ether:-18,gwei:-9};function Gu(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function y1(t,e="wei"){return Gu(t,oY[e])}function _r(t,e="wei"){return Gu(t,A3[e])}class lY extends he{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class uY extends he{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function GN(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function dY(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=GN(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=GN(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Qf(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class hY extends he{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class fY extends he{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qf(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class pY extends he{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:g,value:y}){var v;const w=Qf({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:g,value:typeof y<"u"&&`${y1(y)} ${((v=s==null?void 0:s.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${_r(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${_r(d)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${_r(f)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class S3 extends he{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){let c="Transaction";r&&a!==void 0&&(c=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(c=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(c=`Transaction at block number "${n}" at index "${a}"`),s&&(c=`Transaction with hash "${s}"`),super(`${c} could not be found.`,{name:"TransactionNotFoundError"})}}class T3 extends he{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class gY extends he{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const mY=t=>t,b1=t=>t;class yY extends he{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:g,value:y,stateOverride:w}){var _;const v=n?pi(n):void 0;let E=Qf({from:v==null?void 0:v.address,to:g,value:typeof y<"u"&&`${y1(y)} ${((_=s==null?void 0:s.nativeCurrency)==null?void 0:_.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${_r(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${_r(d)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${_r(f)} gwei`,nonce:p});w&&(E+=`
${dY(w)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",E].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class N3 extends he{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:c,sender:u}){const d=g1({abi:n,args:r,name:c}),f=d?C3({abiItem:d,args:r,includeFunctionName:!1,includeName:!1}):void 0,p=d?lo(d,{includeName:!0}):void 0,g=Qf({address:s&&mY(s),function:p,args:f&&f!=="()"&&`${[...Array((c==null?void 0:c.length)??0).keys()].map(()=>" ").join("")}${f}`,sender:u});super(e.shortMessage||`An unknown error occurred while executing the contract function "${c}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],g&&"Contract Call:",g].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=c,this.sender=u}}class bY extends he{constructor({abi:e,data:n,functionName:r,message:s}){let a,c,u,d;if(n&&n!=="0x")try{c=aY({abi:e,data:n});const{abiItem:p,errorName:g,args:y}=c;if(g==="Error")d=y[0];else if(g==="Panic"){const[w]=y;d=VK[w]}else{const w=p?lo(p,{includeName:!0}):void 0,v=p&&y?C3({abiItem:p,args:y,includeFunctionName:!1,includeName:!1}):void 0;u=[w?`Error: ${w}`:"",v&&v!=="()"?`       ${[...Array((g==null?void 0:g.length)??0).keys()].map(()=>" ").join("")}${v}`:""]}}catch(p){a=p}else s&&(d=s);let f;a instanceof t3&&(f=a.signature,u=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(d&&d!=="execution reverted"||f?[`The contract function "${r}" reverted with the following ${f?"signature":"reason"}:`,d||f].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.raw=n,this.reason=d,this.signature=f}}class wY extends he{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class vY extends he{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class w1 extends he{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Rh extends he{constructor({body:e,cause:n,details:r,headers:s,status:a,url:c}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${b1(c)}`,e&&`Request body: ${hs(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=a,this.url=c}}class v1 extends he{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${b1(r)}`,`Request body: ${hs(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class WN extends he{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${b1(n)}`,`Request body: ${hs(e)}`],name:"TimeoutError"})}}const EY=-1;class Sr extends he{constructor(e,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:c}){super(c,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof v1?e.code:n??EY}}class Hr extends Sr{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Vh extends Sr{constructor(e){super(e,{code:Vh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Gh extends Sr{constructor(e){super(e,{code:Gh.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Wh extends Sr{constructor(e,{method:n}={}){super(e,{code:Wh.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Kh extends Sr{constructor(e){super(e,{code:Kh.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Tc extends Sr{constructor(e){super(e,{code:Tc.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Tc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Yh extends Sr{constructor(e){super(e,{code:Yh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Zh extends Sr{constructor(e){super(e,{code:Zh.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class io extends Sr{constructor(e){super(e,{code:io.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Nu extends Sr{constructor(e){super(e,{code:Nu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class tc extends Sr{constructor(e,{method:n}={}){super(e,{code:tc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(tc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ou extends Sr{constructor(e){super(e,{code:Ou.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Qh extends Sr{constructor(e){super(e,{code:Qh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class hn extends Hr{constructor(e){super(e,{code:hn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Xh extends Hr{constructor(e){super(e,{code:Xh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Jh extends Hr{constructor(e,{method:n}={}){super(e,{code:Jh.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ef extends Hr{constructor(e){super(e,{code:ef.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class tf extends Hr{constructor(e){super(e,{code:tf.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class di extends Hr{constructor(e){super(e,{code:di.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(di,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class nf extends Hr{constructor(e){super(e,{code:nf.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(nf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class rf extends Hr{constructor(e){super(e,{code:rf.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(rf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class sf extends Hr{constructor(e){super(e,{code:sf.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(sf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class af extends Hr{constructor(e){super(e,{code:af.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(af,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class of extends Hr{constructor(e){super(e,{code:of.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(of,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class cf extends Hr{constructor(e){super(e,{code:cf.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(cf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class lf extends Hr{constructor(e){super(e,{code:lf.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(lf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class _Y extends Sr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const CY=3;function Cm(t,{abi:e,address:n,args:r,docsPath:s,functionName:a,sender:c}){const u=t instanceof w1?t:t instanceof he?t.walk(v=>"data"in v)||t.walk():{},{code:d,data:f,details:p,message:g,shortMessage:y}=u,w=t instanceof cy?new wY({functionName:a}):[CY,Tc.code].includes(d)&&(f||p||g||y)?new bY({abi:e,data:typeof f=="object"?f.data:f,functionName:a,message:u instanceof v1?p:y??g}):t;return new N3(w,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:a,sender:c})}function AY(t){const e=Zf(`0x${t.substring(4)}`).substring(26);return fy(`0x${e}`)}async function SY({hash:t,signature:e}){const n=uo(t)?t:Su(t),{secp256k1:r}=await rr(async()=>{const{secp256k1:c}=await import("./secp256k1-Dr6oJjY9.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:p,v:g,yParity:y}=e,w=Number(y??g),v=KN(w);return new r.Signature(Au(f),Au(p)).addRecoveryBit(v)}const c=uo(e)?e:Su(e);if(mn(c)!==65)throw new Error("invalid signature length");const u=Ac(`0x${c.slice(130)}`),d=KN(u);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(d)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function KN(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function TY({hash:t,signature:e}){return AY(await SY({hash:t,signature:e}))}function NY(t,e="hex"){const n=O3(t),r=m1(new Uint8Array(n.length));return n.encode(r),e==="hex"?Cr(r.bytes):r.bytes}function O3(t){return Array.isArray(t)?OY(t.map(e=>O3(e))):IY(t)}function OY(t){const e=t.reduce((s,a)=>s+a.length,0),n=I3(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:a}of t)a(s)}}}function IY(t){const e=typeof t=="string"?li(t):t,n=I3(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function I3(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new he("Length is too large.")}function RY(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,a=Zf(py(["0x05",NY([e?tt(e):"0x",s,n?tt(n):"0x"])]));return r==="bytes"?li(a):a}async function R3(t){const{authorization:e,signature:n}=t;return TY({hash:RY(e),signature:n??e})}class xY extends he{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:c,gasPrice:u,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:p,to:g,value:y}){var v;const w=Qf({from:n==null?void 0:n.address,to:g,value:typeof y<"u"&&`${y1(y)} ${((v=s==null?void 0:s.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:a,gas:c,gasPrice:typeof u<"u"&&`${_r(u)} gwei`,maxFeePerGas:typeof d<"u"&&`${_r(d)} gwei`,maxPriorityFeePerGas:typeof f<"u"&&`${_r(f)} gwei`,nonce:p});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class nc extends he{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(nc,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(nc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Am extends he{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${_r(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Am,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class tE extends he{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${_r(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(tE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class nE extends he{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(nE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class rE extends he{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(rE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class sE extends he{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(sE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class iE extends he{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(iE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class aE extends he{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(aE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class oE extends he{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(oE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class cE extends he{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(cE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Sm extends he{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${_r(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${_r(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Sm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class yy extends he{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function E1(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof he?t.walk(s=>(s==null?void 0:s.code)===nc.code):t;return r instanceof he?new nc({cause:t,message:r.details}):nc.nodeMessage.test(n)?new nc({cause:t,message:t.details}):Am.nodeMessage.test(n)?new Am({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):tE.nodeMessage.test(n)?new tE({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):nE.nodeMessage.test(n)?new nE({cause:t,nonce:e==null?void 0:e.nonce}):rE.nodeMessage.test(n)?new rE({cause:t,nonce:e==null?void 0:e.nonce}):sE.nodeMessage.test(n)?new sE({cause:t,nonce:e==null?void 0:e.nonce}):iE.nodeMessage.test(n)?new iE({cause:t}):aE.nodeMessage.test(n)?new aE({cause:t,gas:e==null?void 0:e.gas}):oE.nodeMessage.test(n)?new oE({cause:t,gas:e==null?void 0:e.gas}):cE.nodeMessage.test(n)?new cE({cause:t}):Sm.nodeMessage.test(n)?new Sm({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new yy({cause:t})}function PY(t,{docsPath:e,...n}){const r=(()=>{const s=E1(t,n);return s instanceof yy?t:s})();return new xY(r,{docsPath:e,...n})}function _1(t,{format:e}){if(!e)return{};const n={};function r(a){const c=Object.keys(a);for(const u of c)u in t&&(n[u]=t[u]),a[u]&&typeof a[u]=="object"&&!Array.isArray(a[u])&&r(a[u])}const s=e(t||{});return r(s),n}const DY={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function C1(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=$Y(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Cr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=tt(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=tt(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=tt(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=tt(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=tt(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=tt(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=DY[t.type]),typeof t.value<"u"&&(e.value=tt(t.value)),e}function $Y(t){return t.map(e=>({address:e.address,r:e.r?tt(BigInt(e.r)):e.r,s:e.s?tt(BigInt(e.s)):e.s,chainId:tt(e.chainId),nonce:tt(e.nonce),...typeof e.yParity<"u"?{yParity:tt(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:tt(e.v)}:{}}))}function YN(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new MN({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new MN({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function UY(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:a}=t,c={};if(a!==void 0&&(c.code=a),e!==void 0&&(c.balance=tt(e)),n!==void 0&&(c.nonce=tt(n)),r!==void 0&&(c.state=YN(r)),s!==void 0){if(c.state)throw new uY;c.stateDiff=YN(s)}return c}function x3(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ui(n,{strict:!1}))throw new Sc({address:n});if(e[n])throw new lY({address:n});e[n]=UY(r)}return e}const MY=2n**256n-1n;function by(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=t,c=e?pi(e):void 0;if(c&&!ui(c.address))throw new Sc({address:c.address});if(a&&!ui(a))throw new Sc({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new hY;if(r&&r>MY)throw new Am({maxFeePerGas:r});if(s&&r&&s>r)throw new Sm({maxFeePerGas:r,maxPriorityFeePerGas:s})}class kY extends he{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class A1 extends he{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class BY extends he{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${_r(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class P3 extends he{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const D3={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function $3(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ac(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ac(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?D3[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=LY(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function LY(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function jY(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:$3(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function uf(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var p,g,y;const a=r??"latest",c=s??!1,u=n!==void 0?tt(n):void 0;let d=null;if(e?d=await t.request({method:"eth_getBlockByHash",params:[e,c]},{dedupe:!0}):d=await t.request({method:"eth_getBlockByNumber",params:[u||a,c]},{dedupe:!!u}),!d)throw new P3({blockHash:e,blockNumber:n});return(((y=(g=(p=t.chain)==null?void 0:p.formatters)==null?void 0:g.block)==null?void 0:y.format)||jY)(d)}async function U3(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function zY(t,e){var a,c;const{block:n,chain:r=t.chain,request:s}=e||{};try{const u=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((c=r==null?void 0:r.fees)==null?void 0:c.defaultPriorityFee);if(typeof u=="function"){const f=n||await jt(t,uf,"getBlock")({}),p=await u({block:f,client:t,request:s});if(p===null)throw new Error;return p}if(typeof u<"u")return u;const d=await t.request({method:"eth_maxPriorityFeePerGas"});return Au(d)}catch{const[u,d]=await Promise.all([n?Promise.resolve(n):jt(t,uf,"getBlock")({}),jt(t,U3,"getGasPrice")({})]);if(typeof u.baseFeePerGas!="bigint")throw new A1;const f=d-u.baseFeePerGas;return f<0n?0n:f}}async function ZN(t,e){var y,w;const{block:n,chain:r=t.chain,request:s,type:a="eip1559"}=e||{},c=await(async()=>{var v,E;return typeof((v=r==null?void 0:r.fees)==null?void 0:v.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((E=r==null?void 0:r.fees)==null?void 0:E.baseFeeMultiplier)??1.2})();if(c<1)throw new kY;const d=10**(((y=c.toString().split(".")[1])==null?void 0:y.length)??0),f=v=>v*BigInt(Math.ceil(c*d))/BigInt(d),p=n||await jt(t,uf,"getBlock")({});if(typeof((w=r==null?void 0:r.fees)==null?void 0:w.estimateFeesPerGas)=="function"){const v=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:f,request:s,type:a});if(v!==null)return v}if(a==="eip1559"){if(typeof p.baseFeePerGas!="bigint")throw new A1;const v=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await zY(t,{block:p,chain:r,request:s}),E=f(p.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??E+v,maxPriorityFeePerGas:v}}return{gasPrice:(s==null?void 0:s.gasPrice)??f(await jt(t,U3,"getGasPrice")({}))}}async function FY(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?tt(r):n]},{dedupe:!!r});return Ac(s)}function M3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>li(a)):t.blobs,s=[];for(const a of r)s.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>Cr(a))}function k3(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(c=>li(c)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(c=>li(c)):t.commitments,a=[];for(let c=0;c<r.length;c++){const u=r[c],d=s[c];a.push(Uint8Array.from(e.computeBlobKzgProof(u,d)))}return n==="bytes"?a:a.map(c=>Cr(c))}function qY(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(n>>s&a),u=Number(n&a),d=r?4:0,f=r?0:4;t.setUint32(e+d,c,r),t.setUint32(e+f,u,r)}function HY(t,e,n){return t&e^~t&n}function VY(t,e,n){return t&e^t&n^e&n}class GY extends d3{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=R0(this.buffer)}update(e){Em(this);const{view:n,buffer:r,blockLen:s}=this;e=c1(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const d=R0(e);for(;s<=a-c;c+=s)this.process(d,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Em(this),u3(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;qY(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=R0(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%n&&e.buffer.set(r),e}}const WY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ua=new Uint32Array(64);class KY extends GY{constructor(e=32){super(64,e,8,!1),this.A=$a[0]|0,this.B=$a[1]|0,this.C=$a[2]|0,this.D=$a[3]|0,this.E=$a[4]|0,this.F=$a[5]|0,this.G=$a[6]|0,this.H=$a[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:c,G:u,H:d}=this;return[e,n,r,s,a,c,u,d]}set(e,n,r,s,a,c,u,d){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=d|0}process(e,n){for(let g=0;g<16;g++,n+=4)Ua[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=Ua[g-15],w=Ua[g-2],v=Zs(y,7)^Zs(y,18)^y>>>3,E=Zs(w,17)^Zs(w,19)^w>>>10;Ua[g]=E+Ua[g-7]+v+Ua[g-16]|0}let{A:r,B:s,C:a,D:c,E:u,F:d,G:f,H:p}=this;for(let g=0;g<64;g++){const y=Zs(u,6)^Zs(u,11)^Zs(u,25),w=p+y+HY(u,d,f)+WY[g]+Ua[g]|0,E=(Zs(r,2)^Zs(r,13)^Zs(r,22))+VY(r,s,a)|0;p=f,f=d,d=u,u=c+w|0,c=a,a=s,s=r,r=w+E|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,s,a,c,u,d,f,p)}roundClean(){Ua.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const YY=h3(()=>new KY);function ZY(t,e){return YY(uo(t,{strict:!1})?uy(t):t)}function QY(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=ZY(e);return s.set([n],0),r==="bytes"?s:Cr(s)}function XY(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const a of e)s.push(QY({commitment:a,to:r,version:n}));return s}const QN=6,B3=32,S1=4096,L3=B3*S1,XN=L3*QN-1-1*S1*QN;class JY extends he{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class eZ extends he{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function tZ(t){const e=typeof t.data=="string"?li(t.data):t.data,n=mn(e);if(!n)throw new eZ;if(n>XN)throw new JY({maxSize:XN,size:n});const r=[];let s=!0,a=0;for(;s;){const c=m1(new Uint8Array(L3));let u=0;for(;u<S1;){const d=e.slice(a,a+(B3-1));if(c.pushByte(0),c.pushBytes(d),d.length<31){c.pushByte(128),s=!1;break}u++,a+=31}r.push(c)}return r.map(c=>Cr(c.bytes))}function nZ(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??tZ({data:e}),a=t.commitments??M3({blobs:s,kzg:n,to:r}),c=t.proofs??k3({blobs:s,commitments:a,kzg:n,to:r}),u=[];for(let d=0;d<s.length;d++)u.push({blob:s[d],commitment:a[d],proof:c[d]});return u}function rZ(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new fY({transaction:t})}async function j3(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ac(e)}const z3=["blobVersionedHashes","chainId","fees","gas","nonce","type"],JN=new Map;async function T1(t,e){const{account:n=t.account,blobs:r,chain:s,gas:a,kzg:c,nonce:u,nonceManager:d,parameters:f=z3,type:p}=e,g=n&&pi(n),y={...e,...g?{from:g==null?void 0:g.address}:{}};let w;async function v(){return w||(w=await jt(t,uf,"getBlock")({blockTag:"latest"}),w)}let E;async function _(){return E||(s?s.id:typeof e.chainId<"u"?e.chainId:(E=await jt(t,j3,"getChainId")({}),E))}if(f.includes("nonce")&&typeof u>"u"&&g)if(d){const S=await _();y.nonce=await d.consume({address:g.address,chainId:S,client:t})}else y.nonce=await jt(t,FY,"getTransactionCount")({address:g.address,blockTag:"pending"});if((f.includes("blobVersionedHashes")||f.includes("sidecars"))&&r&&c){const S=M3({blobs:r,kzg:c});if(f.includes("blobVersionedHashes")){const T=XY({commitments:S,to:"hex"});y.blobVersionedHashes=T}if(f.includes("sidecars")){const T=k3({blobs:r,commitments:S,kzg:c}),O=nZ({blobs:r,commitments:S,proofs:T,to:"hex"});y.sidecars=O}}if(f.includes("chainId")&&(y.chainId=await _()),(f.includes("fees")||f.includes("type"))&&typeof p>"u")try{y.type=rZ(y)}catch{let S=JN.get(t.uid);if(typeof S>"u"){const T=await v();S=typeof(T==null?void 0:T.baseFeePerGas)=="bigint",JN.set(t.uid,S)}y.type=S?"eip1559":"legacy"}if(f.includes("fees"))if(y.type!=="legacy"&&y.type!=="eip2930"){if(typeof y.maxFeePerGas>"u"||typeof y.maxPriorityFeePerGas>"u"){const S=await v(),{maxFeePerGas:T,maxPriorityFeePerGas:O}=await ZN(t,{block:S,chain:s,request:y});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<O)throw new BY({maxPriorityFeePerGas:O});y.maxPriorityFeePerGas=O,y.maxFeePerGas=T}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new A1;if(typeof e.gasPrice>"u"){const S=await v(),{gasPrice:T}=await ZN(t,{block:S,chain:s,request:y,type:"legacy"});y.gasPrice=T}}return f.includes("gas")&&typeof a>"u"&&(y.gas=await jt(t,q3,"estimateGas")({...y,account:g&&{address:g.address,type:"json-rpc"}})),by(y),delete y.parameters,y}async function F3(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?tt(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(a)}async function q3(t,e){var s,a,c;const{account:n=t.account}=e,r=n?pi(n):void 0;try{let W=function(R){const{block:j,request:H,rpcStateOverride:V}=R;return t.request({method:"eth_estimateGas",params:V?[H,j??"latest",V]:j?[H,j]:[H]})};const{accessList:u,authorizationList:d,blobs:f,blobVersionedHashes:p,blockNumber:g,blockTag:y,data:w,gas:v,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:S,maxPriorityFeePerGas:T,nonce:O,value:P,stateOverride:N,...A}=await T1(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),k=(typeof g=="bigint"?tt(g):void 0)||y,x=x3(N),B=await(async()=>{if(A.to)return A.to;if(d&&d.length>0)return await R3({authorization:d[0]}).catch(()=>{throw new he("`to` is required. Could not infer from `authorizationList`")})})();by(e);const q=(c=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,se=(q||C1)({..._1(A,{format:q}),from:r==null?void 0:r.address,accessList:u,authorizationList:d,blobs:f,blobVersionedHashes:p,data:w,gas:v,gasPrice:E,maxFeePerBlobGas:_,maxFeePerGas:S,maxPriorityFeePerGas:T,nonce:O,to:B,value:P});let M=BigInt(await W({block:k,request:se,rpcStateOverride:x}));if(d){const R=await F3(t,{address:se.from}),j=await Promise.all(d.map(async H=>{const{address:V}=H,D=await W({block:k,request:{authorizationList:void 0,data:w,from:r==null?void 0:r.address,to:V,value:tt(R)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(D)}));M+=j.reduce((H,V)=>H+V,0n)}return M}catch(u){throw PY(u,{...e,account:r,chain:t.chain})}}function sZ(t,e){if(!ui(t,{strict:!1}))throw new Sc({address:t});if(!ui(e,{strict:!1}))throw new Sc({address:e});return t.toLowerCase()===e.toLowerCase()}const eO="/docs/contract/decodeEventLog";function iZ(t){const{abi:e,data:n,strict:r,topics:s}=t,a=r??!0,[c,...u]=s;if(!c)throw new GW({docsPath:eO});const d=e.length===1?e[0]:e.find(E=>E.type==="event"&&c===u1(lo(E)));if(!(d&&"name"in d)||d.type!=="event")throw new n3(c,{docsPath:eO});const{name:f,inputs:p}=d,g=p==null?void 0:p.some(E=>!("name"in E&&E.name));let y=g?[]:{};const w=p.filter(E=>"indexed"in E&&E.indexed);for(let E=0;E<w.length;E++){const _=w[E],S=u[E];if(!S)throw new r3({abiItem:d,param:_});y[g?E:_.name||E]=aZ({param:_,value:S})}const v=p.filter(E=>!("indexed"in E&&E.indexed));if(v.length>0){if(n&&n!=="0x")try{const E=my(v,n);if(E)if(g)y=[...y,...E];else for(let _=0;_<v.length;_++)y[v[_].name]=E[_]}catch(E){if(a)throw E instanceof e3||E instanceof _3?new Xv({abiItem:d,data:n,params:v,size:mn(n)}):E}else if(a)throw new Xv({abiItem:d,data:"0x",params:v,size:0})}return{eventName:f,args:Object.values(y).length>0?y:void 0}}function aZ({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(my([t],e)||[])[0]}function oZ(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(c=>{var u;try{const d=e.find(p=>p.type==="event"&&c.topics[0]===u1(p));if(!d)return null;const f=iZ({...c,abi:[d],strict:s});return a&&!a.includes(f.eventName)||!cZ({args:f.args,inputs:d.inputs,matchArgs:n})?null:{...f,...c}}catch(d){let f,p;if(d instanceof n3)return null;if(d instanceof Xv||d instanceof r3){if(s)return null;f=d.abiItem.name,p=(u=d.abiItem.inputs)==null?void 0:u.some(g=>!("name"in g&&g.name))}return{...c,args:p?[]:{},eventName:f}}}).filter(Boolean)}function cZ(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(a,c,u){try{return a.type==="address"?sZ(c,u):a.type==="string"||a.type==="bytes"?Zf(uy(c))===u:c===u}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,c)=>{if(a==null)return!0;const u=n[c];return u?(Array.isArray(a)?a:[a]).some(f=>s(u,f,e[c])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,c])=>{if(c==null)return!0;const u=n.find(f=>f.name===a);return u?(Array.isArray(c)?c:[c]).some(f=>s(u,f,e[a])):!1}):!1}function H3(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const D0="/docs/contract/decodeFunctionResult";function N1(t){const{abi:e,args:n,functionName:r,data:s}=t;let a=e[0];if(r){const u=g1({abi:e,args:n,name:r});if(!u)throw new wm(r,{docsPath:D0});a=u}if(a.type!=="function")throw new wm(void 0,{docsPath:D0});if(!a.outputs)throw new WW(a.name,{docsPath:D0});const c=my(a.outputs,s);if(c&&c.length>1)return c;if(c&&c.length===1)return c[0]}const lZ="0.1.1";function uZ(){return lZ}let V3=class lE extends Error{constructor(e,n={}){const r=(()=>{var d;if(n.cause instanceof lE){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(d=n.cause)!=null&&d.message?n.cause.message:n.details})(),s=n.cause instanceof lE&&n.cause.docsPath||n.docsPath,c=`https://oxlib.sh${s??""}`,u=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${uZ()}`}),this.cause=n.cause,this.details=r,this.docs=c,this.docsPath=s,this.shortMessage=e}walk(e){return G3(this,e)}};function G3(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?G3(t.cause,e):e?null:t}function dZ(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new pZ({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function Hi(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<c){const f=typeof t=="bigint"?"n":"";throw new fZ({max:a?`${a}${f}`:void 0,min:`${c}${f}`,signed:n,size:r,value:`${t}${f}`})}const d=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?hZ(d,r):d}function hZ(t,e){return dZ(t,{dir:"left",size:e})}class fZ extends V3{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class pZ extends V3{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function gZ(t){return{address:t.address,amount:Hi(t.amount),index:Hi(t.index),validatorIndex:Hi(t.validatorIndex)}}function mZ(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Hi(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Hi(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Hi(t.gasLimit)},...typeof t.number=="bigint"&&{number:Hi(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Hi(t.prevRandao)},...typeof t.time=="bigint"&&{time:Hi(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(gZ)}}}const uE=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],_re=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],yZ="0x82ad56cb",bZ="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",wZ="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe";class dE extends he{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class vZ extends he{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}}class EZ extends he{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class W3 extends he{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const $0="/docs/contract/encodeDeployData";function K3(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(c=>"type"in c&&c.type==="constructor");if(!s)throw new FW({docsPath:$0});if(!("inputs"in s))throw new UN({docsPath:$0});if(!s.inputs||s.inputs.length===0)throw new UN({docsPath:$0});const a=v3(s.inputs,n);return py([r,a])}function Y3({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new dE({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new dE({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function _Z(t,{docsPath:e,...n}){const r=(()=>{const s=E1(t,n);return s instanceof yy?t:s})();return new yY(r,{docsPath:e,...n})}function Z3(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const U0=new Map;function Q3({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const p=d();c();const g=p.map(({args:y})=>y);g.length!==0&&t(g).then(y=>{s&&Array.isArray(y)&&y.sort(s);for(let w=0;w<p.length;w++){const{resolve:v}=p[w];v==null||v([y[w],y])}}).catch(y=>{for(let w=0;w<p.length;w++){const{reject:v}=p[w];v==null||v(y)}})},c=()=>U0.delete(e),u=()=>d().map(({args:p})=>p),d=()=>U0.get(e)||[],f=p=>U0.set(e,[...d(),p]);return{flush:c,async schedule(p){const{promise:g,resolve:y,reject:w}=Z3();return(n==null?void 0:n([...u(),p]))&&a(),d().length>0?(f({args:p,resolve:y,reject:w}),g):(f({args:p,resolve:y,reject:w}),setTimeout(a,r),g)}}}async function X3(t,e){var X,se,W,M;const{account:n=t.account,batch:r=!!((X=t.batch)!=null&&X.multicall),blockNumber:s,blockTag:a="latest",accessList:c,blobs:u,blockOverrides:d,code:f,data:p,factory:g,factoryData:y,gas:w,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:_,maxPriorityFeePerGas:S,nonce:T,to:O,value:P,stateOverride:N,...A}=e,I=n?pi(n):void 0;if(f&&(g||y))throw new he("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&O)throw new he("Cannot provide both `code` & `to` as parameters.");const k=f&&p,x=g&&y&&O&&p,B=k||x,q=k?SZ({code:f,data:p}):x?TZ({data:p,factory:g,factoryData:y,to:O}):p;try{by(e);const j=(typeof s=="bigint"?tt(s):void 0)||a,H=d?mZ(d):void 0,V=x3(N),D=(M=(W=(se=t.chain)==null?void 0:se.formatters)==null?void 0:W.transactionRequest)==null?void 0:M.format,te=(D||C1)({..._1(A,{format:D}),from:I==null?void 0:I.address,accessList:c,blobs:u,data:q,gas:w,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:_,maxPriorityFeePerGas:S,nonce:T,to:B?void 0:O,value:P});if(r&&CZ({request:te})&&!V&&!H)try{return await AZ(t,{...te,blockNumber:s,blockTag:a})}catch(le){if(!(le instanceof W3)&&!(le instanceof dE))throw le}const ie=(()=>{const le=[te,j];return V&&H?[...le,V,H]:V?[...le,V]:H?[...le,{},H]:le})(),ee=await t.request({method:"eth_call",params:ie});return ee==="0x"?{data:void 0}:{data:ee}}catch(R){const j=NZ(R),{offchainLookup:H,offchainLookupSignature:V}=await rr(async()=>{const{offchainLookup:D,offchainLookupSignature:Y}=await import("./ccip-BeBSADN4.js");return{offchainLookup:D,offchainLookupSignature:Y}},[]);if(t.ccipRead!==!1&&(j==null?void 0:j.slice(0,10))===V&&O)return{data:await H(t,{data:j,to:O})};throw B&&(j==null?void 0:j.slice(0,10))==="0x101bb98d"?new vY({factory:g}):_Z(R,{...e,account:I,chain:t.chain})}}function CZ({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(yZ)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function AZ(t,e){var E;const{batchSize:n=1024,wait:r=0}=typeof((E=t.batch)==null?void 0:E.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:c,multicallAddress:u,to:d}=e;let f=u;if(!f){if(!t.chain)throw new W3;f=Y3({blockNumber:s,chain:t.chain,contract:"multicall3"})}const g=(typeof s=="bigint"?tt(s):void 0)||a,{schedule:y}=Q3({id:`${t.uid}.${g}`,wait:r,shouldSplitBatch(_){return _.reduce((T,{data:O})=>T+(O.length-2),0)>n*2},fn:async _=>{const S=_.map(P=>({allowFailure:!0,callData:P.data,target:P.to})),T=gy({abi:uE,args:[S],functionName:"aggregate3"}),O=await t.request({method:"eth_call",params:[{data:T,to:f},g]});return N1({abi:uE,args:[S],functionName:"aggregate3",data:O||"0x"})}}),[{returnData:w,success:v}]=await y({data:c,to:d});if(!v)throw new w1({data:w});return w==="0x"?{data:void 0}:{data:w}}function SZ(t){const{code:e,data:n}=t;return K3({abi:dR(["constructor(bytes, bytes)"]),bytecode:bZ,args:[e,n]})}function TZ(t){const{data:e,factory:n,factoryData:r,to:s}=t;return K3({abi:dR(["constructor(address, bytes, address, bytes)"]),bytecode:wZ,args:[s,e,n,r]})}function NZ(t){var n;if(!(t instanceof he))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function J3(t,e){const{abi:n,address:r,args:s,functionName:a,...c}=e,u=gy({abi:n,args:s,functionName:a});try{const{data:d}=await jt(t,X3,"call")({...c,data:u,to:r});return N1({abi:n,args:s,functionName:a,data:d||"0x"})}catch(d){throw Cm(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}const M0=new Map,tO=new Map;let OZ=0;function Tm(t,e,n){const r=++OZ,s=()=>M0.get(t)||[],a=()=>{const p=s();M0.set(t,p.filter(g=>g.id!==r))},c=()=>{const p=s();if(!p.some(y=>y.id===r))return;const g=tO.get(t);p.length===1&&g&&g(),a()},u=s();if(M0.set(t,[...u,{id:r,fns:e}]),u&&u.length>0)return c;const d={};for(const p in e)d[p]=(...g)=>{var w,v;const y=s();if(y.length!==0)for(const E of y)(v=(w=E.fns)[p])==null||v.call(w,...g)};const f=n(d);return typeof f=="function"&&tO.set(t,f),c}async function Nm(t){return new Promise(e=>setTimeout(e,t))}function eP(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let u;e&&(u=await t({unpoll:a}));const d=await(n==null?void 0:n(u))??r;await Nm(d);const f=async()=>{s&&(await t({unpoll:a}),await Nm(r),f())};f()})(),a}const IZ=new Map,RZ=new Map;function xZ(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:c=>a.set(s,c)}),n=e(t,IZ),r=e(t,RZ);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function PZ(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=xZ(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const c=await a;return r.response.set({created:new Date,data:c}),c}finally{r.promise.clear()}}const DZ=t=>`blockNumber.${t}`;async function $Z(t,{cacheTime:e=t.cacheTime}={}){const n=await PZ(()=>t.request({method:"eth_blockNumber"}),{cacheKey:DZ(t.uid),cacheTime:e});return BigInt(n)}async function UZ(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>H3(a));return!("abi"in e)||!e.abi?s:oZ({abi:e.abi,logs:s,strict:n})}async function MZ(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}class O1 extends he{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class k0 extends he{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function kZ({chain:t,currentChainId:e}){if(!t)throw new EZ;if(e!==t.id)throw new vZ({chain:t,currentChainId:e})}function BZ(t,{docsPath:e,...n}){const r=(()=>{const s=E1(t,n);return s instanceof yy?t:s})();return new pY(r,{docsPath:e,...n})}async function LZ(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const B0=new hy(128);async function tP(t,e){var T,O,P,N;const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:a,blobs:c,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:w,type:v,value:E,..._}=e;if(typeof n>"u")throw new O1({docsPath:"/docs/actions/wallet/sendTransaction"});const S=n?pi(n):null;try{by(e);const A=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await R3({authorization:a[0]}).catch(()=>{throw new he("`to` is required. Could not infer from `authorizationList`.")})})();if((S==null?void 0:S.type)==="json-rpc"||S===null){let I;r!==null&&(I=await jt(t,j3,"getChainId")({}),kZ({currentChainId:I,chain:r}));const k=(P=(O=(T=t.chain)==null?void 0:T.formatters)==null?void 0:O.transactionRequest)==null?void 0:P.format,B=(k||C1)({..._1(_,{format:k}),accessList:s,authorizationList:a,blobs:c,chainId:I,data:u,from:S==null?void 0:S.address,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:w,to:A,type:v,value:E}),q=B0.get(t.uid),X=q?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:X,params:[B]},{retryCount:0})}catch(se){if(q===!1)throw se;const W=se;if(W.name==="InvalidInputRpcError"||W.name==="InvalidParamsRpcError"||W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[B]},{retryCount:0}).then(M=>(B0.set(t.uid,!0),M)).catch(M=>{const R=M;throw R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"?(B0.set(t.uid,!1),W):R});throw W}}if((S==null?void 0:S.type)==="local"){const I=await jt(t,T1,"prepareTransactionRequest")({account:S,accessList:s,authorizationList:a,blobs:c,chain:r,data:u,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:w,nonceManager:S.nonceManager,parameters:[...z3,"sidecars"],type:v,value:E,..._,to:A}),k=(N=r==null?void 0:r.serializers)==null?void 0:N.transaction,x=await S.signTransaction(I,{serializer:k});return await jt(t,LZ,"sendRawTransaction")({serializedTransaction:x})}throw(S==null?void 0:S.type)==="smart"?new k0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new k0({docsPath:"/docs/actions/wallet/sendTransaction",type:S==null?void 0:S.type})}catch(A){throw A instanceof k0?A:BZ(A,{...e,account:S,chain:e.chain||void 0})}}async function jZ(t,e){const{abi:n,account:r=t.account,address:s,args:a,dataSuffix:c,functionName:u,...d}=e;if(typeof r>"u")throw new O1({docsPath:"/docs/contract/writeContract"});const f=r?pi(r):null,p=gy({abi:n,args:a,functionName:u});try{return await jt(t,tP,"sendTransaction")({data:`${p}${c?c.replace("0x",""):""}`,to:s,account:f,...d})}catch(g){throw Cm(g,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:u,sender:f==null?void 0:f.address})}}const zZ={"0x0":"reverted","0x1":"success"};function FZ(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>H3(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ac(t.transactionIndex):null,status:t.status?zZ[t.status]:null,type:t.type?D3[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const hE=256;let Mg=hE,kg;function nP(t=11){if(!kg||Mg+t>hE*2){kg="",Mg=0;for(let e=0;e<hE;e++)kg+=(256+Math.random()*256|0).toString(16).substring(1)}return kg.substring(Mg,Mg+++t)}function rP(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:s="base",name:a="Base Client",pollingInterval:c=4e3,type:u="base"}=t,d=t.chain,f=t.account?pi(t.account):void 0,{config:p,request:g,value:y}=t.transport({chain:d,pollingInterval:c}),w={...p,...y},v={account:f,batch:e,cacheTime:n,ccipRead:r,chain:d,key:s,name:a,pollingInterval:c,request:g,transport:w,type:u,uid:nP()};function E(_){return S=>{const T=S(_);for(const P in v)delete T[P];const O={..._,...T};return Object.assign(O,{extend:E(O)})}}return Object.assign(v,{extend:E(v)})}const Bg=new hy(8192);function qZ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Bg.get(n))return Bg.get(n);const r=t().finally(()=>Bg.delete(n));return Bg.set(n,r),r}function Om(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const c=async({count:u=0}={})=>{const d=async({error:f})=>{const p=typeof e=="function"?e({count:u,error:f}):e;p&&await Nm(p),c({count:u+1})};try{const f=await t();s(f)}catch(f){if(u<n&&await r({count:u,error:f}))return d({error:f});a(f)}};c()})}function HZ(t,e={}){return async(n,r={})=>{var g;const{dedupe:s=!1,methods:a,retryDelay:c=150,retryCount:u=3,uid:d}={...e,...r},{method:f}=n;if((g=a==null?void 0:a.exclude)!=null&&g.includes(f))throw new tc(new Error("method not supported"),{method:f});if(a!=null&&a.include&&!a.include.includes(f))throw new tc(new Error("method not supported"),{method:f});const p=s?ly(`${d}.${hs(n)}`):void 0;return qZ(()=>Om(async()=>{try{return await t(n)}catch(y){const w=y;switch(w.code){case Vh.code:throw new Vh(w);case Gh.code:throw new Gh(w);case Wh.code:throw new Wh(w,{method:n.method});case Kh.code:throw new Kh(w);case Tc.code:throw new Tc(w);case Yh.code:throw new Yh(w);case Zh.code:throw new Zh(w);case io.code:throw new io(w);case Nu.code:throw new Nu(w);case tc.code:throw new tc(w,{method:n.method});case Ou.code:throw new Ou(w);case Qh.code:throw new Qh(w);case hn.code:throw new hn(w);case Xh.code:throw new Xh(w);case Jh.code:throw new Jh(w);case ef.code:throw new ef(w);case tf.code:throw new tf(w);case di.code:throw new di(w);case nf.code:throw new nf(w);case rf.code:throw new rf(w);case sf.code:throw new sf(w);case af.code:throw new af(w);case of.code:throw new of(w);case cf.code:throw new cf(w);case lf.code:throw new lf(w);case 5e3:throw new hn(w);default:throw y instanceof he?y:new _Y(w)}}},{delay:({count:y,error:w})=>{var v;if(w&&w instanceof Rh){const E=(v=w==null?void 0:w.headers)==null?void 0:v.get("Retry-After");if(E!=null&&E.match(/\d/))return Number.parseInt(E)*1e3}return~~(1<<y)*c},retryCount:u,shouldRetry:({error:y})=>VZ(y)}),{enabled:s,id:p})}}function VZ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Ou.code||t.code===Tc.code:t instanceof Rh&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function I1({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:c,type:u},d){const f=nP();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:a,timeout:c,type:u},request:HZ(r,{methods:e,retryCount:s,retryDelay:a,uid:f}),value:d}}function GZ(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=e;return({retryCount:c})=>I1({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??c,retryDelay:a,type:"custom"})}function nO(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=WZ,retryCount:c,retryDelay:u}=e;return({chain:d,pollingInterval:f=4e3,timeout:p,...g})=>{let y=t,w=()=>{};const v=I1({key:n,name:r,async request({method:E,params:_}){let S;const T=async(O=0)=>{const P=y[O]({...g,chain:d,retryCount:0,timeout:p});try{const N=await P.request({method:E,params:_});return w({method:E,params:_,response:N,transport:P,status:"success"}),N}catch(N){if(w({error:N,method:E,params:_,transport:P,status:"error"}),a(N)||O===y.length-1||(S??(S=y.slice(O+1).some(A=>{const{include:I,exclude:k}=A({chain:d}).config.methods||{};return I?I.includes(E):k?!k.includes(E):!0})),!S))throw N;return T(O+1)}};return T()},retryCount:c,retryDelay:u,type:"fallback"},{onResponse:E=>w=E,transports:y.map(E=>E({chain:d,retryCount:0}))});if(s){const E=typeof s=="object"?s:{};KZ({chain:d,interval:E.interval??f,onTransports:_=>y=_,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:y,weights:E.weights})}return v}}function WZ(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Nu.code||t.code===hn.code||nc.nodeMessage.test(t.message)||t.code===5e3))}function KZ({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:c,weights:u={}}){const{stability:d=.7,latency:f=.3}=u,p=[],g=async()=>{const y=await Promise.all(c.map(async E=>{const _=E({chain:t,retryCount:0,timeout:a}),S=Date.now();let T,O;try{await(r?r({transport:_}):_.request({method:"net_listening"})),O=1}catch{O=0}finally{T=Date.now()}return{latency:T-S,success:O}}));p.push(y),p.length>s&&p.shift();const w=Math.max(...p.map(E=>Math.max(...E.map(({latency:_})=>_)))),v=c.map((E,_)=>{const S=p.map(A=>A[_].latency),O=1-S.reduce((A,I)=>A+I,0)/S.length/w,P=p.map(A=>A[_].success),N=P.reduce((A,I)=>A+I,0)/P.length;return N===0?[0,_]:[f*O+d*N,_]}).sort((E,_)=>_[0]-E[0]);n(v.map(([,E])=>c[E])),await Nm(e),g()};g()}class YZ extends he{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function sP(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let c;try{const u=new AbortController;n>0&&(c=setTimeout(()=>{r?u.abort():a(e)},n)),s(await t({signal:(u==null?void 0:u.signal)||null}))}catch(u){(u==null?void 0:u.name)==="AbortError"&&a(e),a(u)}finally{clearTimeout(c)}})()})}function ZZ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rO=ZZ();function QZ(t,e={}){return{async request(n){var g;const{body:r,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:c=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:f,signal:p}=u;try{const y=await sP(async({signal:v})=>{const E={...u,body:Array.isArray(r)?hs(r.map(O=>({jsonrpc:"2.0",id:O.id??rO.take(),...O}))):hs({jsonrpc:"2.0",id:r.id??rO.take(),...r}),headers:{"Content-Type":"application/json",...d},method:f||"POST",signal:p||(c>0?v:null)},_=new Request(t,E),S=await(s==null?void 0:s(_,E))??{...E,url:t};return await fetch(S.url??t,S)},{errorInstance:new WN({body:r,url:t}),timeout:c,signal:!0});a&&await a(y);let w;if((g=y.headers.get("Content-Type"))!=null&&g.startsWith("application/json"))w=await y.json();else{w=await y.text();try{w=JSON.parse(w||"{}")}catch(v){if(y.ok)throw v;w={error:w}}}if(!y.ok)throw new Rh({body:r,details:hs(w.error)||y.statusText,headers:y.headers,status:y.status,url:t});return w}catch(y){throw y instanceof Rh||y instanceof WN?y:new Rh({body:r,cause:y,url:t})}}}}function Lg(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:d,retryDelay:f,raw:p}=e;return({chain:g,retryCount:y,timeout:w})=>{const{batchSize:v=1e3,wait:E=0}=typeof n=="object"?n:{},_=e.retryCount??y,S=w??e.timeout??1e4,T=t||(g==null?void 0:g.rpcUrls.default.http[0]);if(!T)throw new YZ;const O=QZ(T,{fetchOptions:r,onRequest:u,onResponse:d,timeout:S});return I1({key:s,methods:a,name:c,async request({method:P,params:N}){const A={method:P,params:N},{schedule:I}=Q3({id:T,wait:E,shouldSplitBatch(q){return q.length>v},fn:q=>O.request({body:q}),sort:(q,X)=>q.id-X.id}),k=async q=>n?I(q):[await O.request({body:q})],[{error:x,result:B}]=await k(A);if(p)return{error:x,result:B};if(x)throw new v1({body:A,error:x,url:T});return B},retryCount:_,retryDelay:f,timeout:S,type:"http"},{fetchOptions:r,url:T})}}async function XZ(t){const e=qK(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}function R1(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}class JZ extends he{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function iP(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new JZ({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[a,c,u]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],d=Math.round(+`${c}.${u}`);d>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${d}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}function x1(t,e="wei"){return iP(t,A3[e])}async function aP(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){var p,g,y;const c=r||"latest",u=n!==void 0?tt(n):void 0;let d=null;if(s?d=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?d=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,tt(a)]},{dedupe:!0}):d=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,tt(a)]},{dedupe:!!u}),!d)throw new S3({blockHash:e,blockNumber:n,blockTag:c,hash:s,index:a});return(((y=(g=(p=t.chain)==null?void 0:p.formatters)==null?void 0:g.transaction)==null?void 0:y.format)||$3)(d)}async function sO(t,{hash:e}){var s,a,c;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new T3({hash:e});return(((c=(a=(s=t.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:c.format)||FZ)(n)}async function eQ(t,e){var S;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:c,multicallAddress:u,stateOverride:d}=e,f=e.contracts,p=s??(typeof((S=t.batch)==null?void 0:S.multicall)=="object"&&t.batch.multicall.batchSize||1024);let g=u;if(!g){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");g=Y3({blockNumber:a,chain:t.chain,contract:"multicall3"})}const y=[[]];let w=0,v=0;for(let T=0;T<f.length;T++){const{abi:O,address:P,args:N,functionName:A}=f[T];try{const I=gy({abi:O,args:N,functionName:A});v+=(I.length-2)/2,p>0&&v>p&&y[w].length>0&&(w++,v=(I.length-2)/2,y[w]=[]),y[w]=[...y[w],{allowFailure:!0,callData:I,target:P}]}catch(I){const k=Cm(I,{abi:O,address:P,args:N,docsPath:"/docs/contract/multicall",functionName:A,sender:n});if(!r)throw k;y[w]=[...y[w],{allowFailure:!0,callData:"0x",target:P}]}}const E=await Promise.allSettled(y.map(T=>jt(t,J3,"readContract")({abi:uE,account:n,address:g,args:[T],blockNumber:a,blockTag:c,functionName:"aggregate3",stateOverride:d}))),_=[];for(let T=0;T<E.length;T++){const O=E[T];if(O.status==="rejected"){if(!r)throw O.reason;for(let N=0;N<y[T].length;N++)_.push({status:"failure",error:O.reason,result:void 0});continue}const P=O.value;for(let N=0;N<P.length;N++){const{returnData:A,success:I}=P[N],{callData:k}=y[T][N],{abi:x,address:B,functionName:q,args:X}=f[_.length];try{if(k==="0x")throw new cy;if(!I)throw new w1({data:A});const se=N1({abi:x,args:X,data:A,functionName:q});_.push(r?{result:se,status:"success"}:se)}catch(se){const W=Cm(se,{abi:x,address:B,args:X,docsPath:"/docs/contract/multicall",functionName:q});if(!r)throw W;_.push({error:W,result:void 0,status:"failure"})}}}if(_.length!==f.length)throw new he("multicall results mismatch");return _}function tQ(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:c=t.pollingInterval}){const u=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let d;return u?(()=>{const g=hs(["watchBlockNumber",t.uid,e,n,c]);return Tm(g,{onBlockNumber:r,onError:s},y=>eP(async()=>{var w;try{const v=await jt(t,$Z,"getBlockNumber")({cacheTime:0});if(d){if(v===d)return;if(v-d>1&&n)for(let E=d+1n;E<v;E++)y.onBlockNumber(E,d),d=E}(!d||v>d)&&(y.onBlockNumber(v,d),d=v)}catch(v){(w=y.onError)==null||w.call(y,v)}},{emitOnBegin:e,interval:c}))})():(()=>{const g=hs(["watchBlockNumber",t.uid,e,n]);return Tm(g,{onBlockNumber:r,onError:s},y=>{let w=!0,v=()=>w=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const S=t.transport.transports.find(T=>T.config.type==="webSocket");return S?S.value:t.transport}return t.transport})(),{unsubscribe:_}=await E.subscribe({params:["newHeads"],onData(S){var O;if(!w)return;const T=Au((O=S.result)==null?void 0:O.number);y.onBlockNumber(T,d),d=T},onError(S){var T;(T=y.onError)==null||T.call(y,S)}});v=_,w||v()}catch(E){s==null||s(E)}})(),()=>v()})})()}async function nQ(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:a=6,retryDelay:c=({count:d})=>~~(1<<d)*200,timeout:u=18e4}){const d=hs(["waitForTransactionReceipt",t.uid,n]);let f,p,g,y=!1;const{promise:w,resolve:v,reject:E}=Z3(),_=u?setTimeout(()=>E(new gY({hash:n})),u):void 0,S=Tm(d,{onReplaced:r,resolve:v,reject:E},T=>{const O=jt(t,tQ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(P){const N=I=>{clearTimeout(_),O(),I(),S()};let A=P;if(!y)try{if(g){if(e>1&&(!g.blockNumber||A-g.blockNumber+1n<e))return;N(()=>T.resolve(g));return}if(f||(y=!0,await Om(async()=>{f=await jt(t,aP,"getTransaction")({hash:n}),f.blockNumber&&(A=f.blockNumber)},{delay:c,retryCount:a}),y=!1),g=await jt(t,sO,"getTransactionReceipt")({hash:n}),e>1&&(!g.blockNumber||A-g.blockNumber+1n<e))return;N(()=>T.resolve(g))}catch(I){if(I instanceof S3||I instanceof T3){if(!f){y=!1;return}try{p=f,y=!0;const k=await Om(()=>jt(t,uf,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:q})=>q instanceof P3});y=!1;const x=k.transactions.find(({from:q,nonce:X})=>q===p.from&&X===p.nonce);if(!x||(g=await jt(t,sO,"getTransactionReceipt")({hash:x.hash}),e>1&&(!g.blockNumber||A-g.blockNumber+1n<e)))return;let B="replaced";x.to===p.to&&x.value===p.value&&x.input===p.input?B="repriced":x.from===x.to&&x.value===0n&&(B="cancelled"),N(()=>{var q;(q=T.onReplaced)==null||q.call(T,{reason:B,replacedTransaction:p,transaction:x,transactionReceipt:g}),T.resolve(g)})}catch(k){N(()=>T.reject(k))}}else N(()=>T.reject(I))}}})});return w}function rQ(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const f=hs(["watchPendingTransactions",t.uid,e,a]);return Tm(f,{onTransactions:r,onError:n},p=>{let g;const y=eP(async()=>{var w;try{if(!g)try{g=await jt(t,XZ,"createPendingTransactionFilter")({});return}catch(E){throw y(),E}const v=await jt(t,UZ,"getFilterChanges")({filter:g});if(v.length===0)return;if(e)p.onTransactions(v);else for(const E of v)p.onTransactions([E])}catch(v){(w=p.onError)==null||w.call(p,v)}},{emitOnBegin:!0,interval:a});return async()=>{g&&await jt(t,MZ,"uninstallFilter")({filter:g}),y()}})})():(()=>{let f=!0,p=()=>f=!1;return(async()=>{try{const{unsubscribe:g}=await t.transport.subscribe({params:["newPendingTransactions"],onData(y){if(!f)return;const w=y.result;r([w])},onError(y){n==null||n(y)}});p=g,f||p()}catch(g){n==null||n(g)}})(),()=>p()})()}async function sQ(t,{account:e=t.account,message:n}){if(!e)throw new O1({docsPath:"/docs/actions/wallet/signMessage"});const r=pi(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?ly(n):n.raw instanceof Uint8Array?Su(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}const L0={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Gu(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},iO={async getMyTokensWithBalance(t){const e=Te.state.address,n=z.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const s=await this.getEIP155Balances(e,n);if(s)return this.filterLowQualityTokens(s)}const r=await Be.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const s=L0.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),a=await Mt.getCapabilities(t);if(!((r=(n=a==null?void 0:a[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const c=await Mt.walletGetAssets({account:t,chainFilter:[s]});return L0.isWalletGetAssetsResponse(c)?(c[s]||[]).map(d=>L0.createBalance(d,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:z.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},vt=zt({tokenBalances:[],loading:!1}),aO={state:vt,subscribe(t){return Yn(vt,()=>t(vt))},subscribeKey(t,e){return cr(vt,t,e)},setToken(t){t&&(vt.token=yc(t))},setTokenAmount(t){vt.sendTokenAmount=t},setReceiverAddress(t){vt.receiverAddress=t},setReceiverProfileImageUrl(t){vt.receiverProfileImageUrl=t},setReceiverProfileName(t){vt.receiverProfileName=t},setNetworkBalanceInUsd(t){vt.networkBalanceInUSD=t},setLoading(t){vt.loading=t},async sendToken(){var t;try{switch(this.setLoading(!0),(t=z.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await this.sendEvmToken();return;case"solana":await this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{this.setLoading(!1)}},async sendEvmToken(){var n,r,s,a;const t=z.state.activeChain,e=(n=Te.state.preferredAccountTypes)==null?void 0:n[t];if(!this.state.sendTokenAmount||!this.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!this.state.token)throw new Error("A token is required");(r=this.state.token)!=null&&r.address?(Lt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ln.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((s=z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):(Lt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Ln.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.symbol||"",amount:this.state.sendTokenAmount,network:((a=z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),await this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var a,c;vt.loading=!0;const e=(a=z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,n=(c=z.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=z.state.activeCaipAddress,s=r?Me.getPlainAddress(r):void 0;if(vt.lastRetry&&!Me.isAllowedRetry(vt.lastRetry,30*gn.ONE_SEC_MS))return vt.loading=!1,[];try{if(s&&e&&n){const u=await iO.getMyTokensWithBalance();return vt.tokenBalances=u,vt.lastRetry=void 0,u}}catch(u){vt.lastRetry=Date.now(),t==null||t(u),Ds.showError("Token Balance Unavailable")}finally{vt.loading=!1}return[]},fetchNetworkBalance(){if(vt.tokenBalances.length===0)return;const t=iO.mapBalancesToSwapTokens(vt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===z.getActiveNetworkTokenAddress());e&&(vt.networkBalanceInUSD=e?W$.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var c,u,d;const e=z.state.activeChain;bt.pushTransactionStack({view:null,goBack:!1});const n=t.receiverAddress,r=Te.state.address,s=Mt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Mt.sendTransaction({chainNamespace:"eip155",to:n,address:r,data:"0x",value:s??BigInt(0)}),Lt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((c=Te.state.preferredAccountTypes)==null?void 0:c[e])===Ln.ACCOUNT_TYPES.SMART_ACCOUNT,token:((u=this.state.token)==null?void 0:u.symbol)||"",amount:t.sendTokenAmount,network:((d=z.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||""}}),this.resetSend()},async sendERC20Token(t){bt.pushTransactionStack({view:"Account",goBack:!1});const e=Mt.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Te.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Me.getPlainAddress(t.tokenAddress);await Mt.writeContract({fromAddress:Te.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Q$.getERC20Abi(n),chainNamespace:"eip155"}),this.resetSend()}},async sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress)throw new Error("An amount and receiver address are required");bt.pushTransactionStack({view:"Account",goBack:!1}),await Mt.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}),this.resetSend(),Te.fetchTokenBalance()},resetSend(){vt.token=void 0,vt.sendTokenAmount=void 0,vt.receiverAddress=void 0,vt.receiverProfileImageUrl=void 0,vt.receiverProfileName=void 0,vt.loading=!1,vt.tokenBalances=[]}},j0={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},jg={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ye=zt({chains:k$(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),z={state:ye,subscribe(t){return Yn(ye,()=>{t(ye)})},subscribeKey(t,e){return cr(ye,t,e)},subscribeChainProp(t,e,n){let r;return Yn(ye.chains,()=>{var a;const s=n||ye.activeChain;if(s){const c=(a=ye.chains.get(s))==null?void 0:a[t];r!==c&&(r=c,e(c))}})},initialize(t,e,n){const{chainId:r,namespace:s}=be.getActiveNetworkProps(),a=e==null?void 0:e.find(p=>p.id.toString()===(r==null?void 0:r.toString())),u=t.find(p=>(p==null?void 0:p.namespace)===s)||(t==null?void 0:t[0]),d=t.map(p=>p.namespace).filter(p=>p!==void 0),f=ue.state.enableEmbedded?new Set([...d]):new Set([...(e==null?void 0:e.map(p=>p.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!u)&&(ye.noAdapters=!0),ye.noAdapters||(ye.activeChain=u==null?void 0:u.namespace,ye.activeCaipNetwork=a,this.setChainNetworkData(u==null?void 0:u.namespace,{caipNetwork:a}),ye.activeChain&&oi.set({activeChain:u==null?void 0:u.namespace})),f.forEach(p=>{const g=e==null?void 0:e.filter(y=>y.chainNamespace===p);z.state.chains.set(p,{namespace:p,networkState:zt({...jg,caipNetwork:g==null?void 0:g[0]}),accountState:zt(j0),caipNetworks:g??[],...n}),this.setRequestedCaipNetworks(g??[],p)})},removeAdapter(t){var e,n;if(ye.activeChain===t){const r=Array.from(ye.chains.entries()).find(([s])=>s!==t);if(r){const s=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];s&&this.setActiveCaipNetwork(s)}}ye.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){ye.chains.set(t.namespace,{namespace:t.namespace,networkState:{...jg,caipNetwork:r[0]},accountState:j0,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),this.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=ye.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(s=>s.id===t.id)||r.push(t),ye.chains.set(t.chainNamespace,{...e,caipNetworks:r}),this.setRequestedCaipNetworks(r,t.chainNamespace),Le.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,s,a;const n=ye.chains.get(t);if(n){const c=((r=ye.activeCaipNetwork)==null?void 0:r.id)===e,u=[...((s=n.caipNetworks)==null?void 0:s.filter(d=>d.id!==e))||[]];c&&((a=n==null?void 0:n.caipNetworks)!=null&&a[0])&&this.setActiveCaipNetwork(n.caipNetworks[0]),ye.chains.set(t,{...n,caipNetworks:u}),this.setRequestedCaipNetworks(u||[],t),u.length===0&&Le.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=ye.chains.get(t);n&&(n.networkState={...n.networkState||jg,...e},ye.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=ye.chains.get(t);if(r){const s={...r.accountState||j0,...e};ye.chains.set(t,{...r,accountState:s}),(ye.chains.size===1||ye.activeChain===t)&&(e.caipAddress&&(ye.activeCaipAddress=e.caipAddress),Te.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=ye.chains.get(t);if(n){const r={...n.networkState||jg,...e};ye.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){this.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Le.removeConnectorId(n)},setActiveNamespace(t){var r,s;ye.activeChain=t;const e=t?ye.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(ye.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,ye.activeCaipNetwork=n,this.setChainNetworkData(t,{caipNetwork:n}),be.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),oi.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,s,a;if(!t)return;ye.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=ye.chains.get(t.chainNamespace);ye.activeChain=t.chainNamespace,ye.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?ye.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:ye.activeCaipAddress=void 0,this.setAccountProp("caipAddress",ye.activeCaipAddress,t.chainNamespace),e&&Te.replaceState(e.accountState),aO.resetSend(),oi.set({activeChain:ye.activeChain,selectedNetworkId:(a=ye.activeCaipNetwork)==null?void 0:a.caipNetworkId}),be.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&ue.state.enableNetworkSwitch&&!ue.state.allowUnsupportedChain&&!Mt.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=ye.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==z.state.activeChain,n=(s=z.getNetworkData(t))==null?void 0:s.caipNetwork,r=z.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await z.switchActiveNetwork(r)},async switchActiveNetwork(t){var s;const e=z.state.chains.get(z.state.activeChain);!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(a=>{var c;return a.id===((c=ye.activeCaipNetwork)==null?void 0:c.id)}))&&bt.goBack();const r=this.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),Lt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||ye.activeChain,n=ye.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||ye.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=ye.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var s;let n=ye.activeChain;if(e&&(n=e),!n)return;const r=(s=ye.chains.get(n))==null?void 0:s.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=ye.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=ye.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Me.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return ye.chains.forEach(e=>{const n=this.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=this.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),s=Array.from(new Set(r));Le.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return ye.chains.forEach(e=>{const n=this.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return ye.activeCaipNetwork},getActiveCaipAddress(){return ye.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=ye.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||ye.activeCaipNetwork,r=this.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(s=>s.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!ye.activeChain)return!0;const e=this.getRequestedCaipNetworks(ye.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=Uh.caipNetworkIdToNumber((r=ye.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=ye.activeChain;if(!e||!t)return!1;const n=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,s;const t=((r=ye.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=ye.activeCaipNetwork)==null?void 0:s.id)||1,n=gn.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){tn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ye.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&gn.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");ye.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Le.removeConnectorId(e)},async disconnect(t){const e=c8(t);try{aO.resetSend();const n=await Promise.allSettled(e.map(async([s,a])=>{var c;try{const{caipAddress:u}=this.getAccountData(s)||{};u&&((c=a.connectionControllerClient)!=null&&c.disconnect)&&await a.connectionControllerClient.disconnect(s),this.resetAccount(s),this.resetNetwork(s)}catch(u){throw new Error(`Failed to disconnect chain ${s}: ${u.message}`)}}));Mt.resetWcConnection();const r=n.filter(s=>s.status==="rejected");if(r.length>0)throw new Error(r.map(s=>s.reason.message).join(", "));be.deleteConnectedSocialProvider(),t?Le.removeConnectorId(t):Le.resetConnectorIds(),Lt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),Lt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){ye.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(ye.chains.forEach(s=>{de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(r=(n=ye.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=z.state.chains.get(t))==null?void 0:e.accountState:Te.state},getNetworkData(t){var n;const e=t||ye.activeChain;if(e)return(n=z.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var s,a,c;if(!t)return;const n=z.state.chains.get(t),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(u=>u.id===e);return r||((a=n==null?void 0:n.networkState)==null?void 0:a.caipNetwork)||((c=n==null?void 0:n.caipNetworks)==null?void 0:c[0])},getRequestedCaipNetworkIds(){const t=Le.state.filterByNamespace;return(t?[ye.chains.get(t)]:Array.from(ye.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?z.getRequestedCaipNetworks(t):z.getAllRequestedCaipNetworks()}},iQ={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},oP=Me.getBlockchainApiUrl(),kr=zt({clientId:null,api:new Hm({baseUrl:oP,clientId:null}),supportedChains:{http:[],ws:[]}}),Be={state:kr,async get(t){const{st:e,sv:n}=Be.getSdkProperties(),r=ue.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return kr.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ue.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{kr.supportedChains.http.length||await Be.getSupportedNetworks()}catch{return!1}return kr.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await Be.get({path:"v1/supported-chains"});return kr.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Be.isNetworkSupported(e))return{avatar:"",name:""};const r=be.getIdentityFromCacheForAddress(t);if(r)return r;const s=await Be.get({path:`/v1/identity/${t}`,params:{sender:z.state.activeCaipAddress?Me.getPlainAddress(z.state.activeCaipAddress):void 0}});return be.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:s,chainId:a}){var u;return await Be.isNetworkSupported((u=z.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)?Be.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:a},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){var c;return await Be.isNetworkSupported((c=z.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)?Be.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await Be.isNetworkSupported((n=z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await Be.isNetworkSupported((n=z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?kr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ue.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Be.isNetworkSupported((r=z.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Be.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:n}=Be.getSdkProperties();if(!await Be.isNetworkSupported((s=z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Be.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){var c;if(!await Be.isNetworkSupported((c=z.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return kr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:gn.CONVERT_SLIPPAGE_TOLERANCE},projectId:ue.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var c;const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported((c=z.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return Be.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){var f;const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported((f=z.state.activeCaipNetwork)==null?void 0:f.caipNetworkId))return Ds.showError("Token Balance Unavailable"),{balances:[]};const c=`${e}:${t}`,u=be.getBalanceCacheForCaipAddress(c);if(u)return u;const d=await Be.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return be.updateBalanceCache({caipAddress:c,balance:d,timestamp:Date.now()}),d},async lookupEnsName(t){var n;return await Be.isNetworkSupported((n=z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await Be.isNetworkSupported((n=z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/profile/reverse/${t}`,params:{sender:Te.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await Be.isNetworkSupported((n=z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var a;return await Be.isNetworkSupported((a=z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?kr.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var u;return await Be.isNetworkSupported((u=z.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)?(await kr.api.post({path:"/v1/generators/onrampurl",params:{projectId:ue.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Be.isNetworkSupported((e=z.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Be.get({path:"/v1/onramp/options"})}catch{return iQ}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var s;try{return await Be.isNetworkSupported((s=z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await kr.api.post({path:"/v1/onramp/quote",params:{projectId:ue.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await Be.isNetworkSupported((n=z.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Be.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var s;return await Be.isNetworkSupported((s=z.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?kr.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ue.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){kr.clientId=t,kr.api=new Hm({baseUrl:oP,clientId:t})}},is=zt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Te={state:is,replaceState(t){t&&Object.assign(is,yc(t))},subscribe(t){return z.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return z.subscribeChainProp("accountState",s=>{if(s){const a=s[t];r!==a&&(r=a,e(a))}},n)},setStatus(t,e){z.setAccountProp("status",t,e)},getCaipAddress(t){return z.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?Me.getPlainAddress(t):void 0;e===z.state.activeChain&&(z.state.activeCaipAddress=t),z.setAccountProp("caipAddress",t,e),z.setAccountProp("address",n,e)},setBalance(t,e,n){z.setAccountProp("balance",t,n),z.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){z.setAccountProp("profileName",t,e)},setProfileImage(t,e){z.setAccountProp("profileImage",t,e)},setUser(t,e){z.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){z.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){z.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){z.setAccountProp("currentTab",t,z.state.activeChain)},setTokenBalance(t,e){t&&z.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){z.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){z.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=z.getAccountProp("addressLabels",n)||new Map;r.set(t,e),z.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=z.getAccountProp("addressLabels",e)||new Map;n.delete(t),z.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){z.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){z.setAccountProp("preferredAccountTypes",{...is.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){is.preferredAccountTypes=t},setSocialProvider(t,e){t&&z.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){z.setAccountProp("socialWindow",t?yc(t):void 0,e)},setFarcasterUrl(t,e){z.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var a,c;is.balanceLoading=!0;const e=(a=z.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,n=(c=z.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=z.state.activeCaipAddress,s=r?Me.getPlainAddress(r):void 0;if(is.lastRetry&&!Me.isAllowedRetry(is.lastRetry,30*gn.ONE_SEC_MS))return is.balanceLoading=!1,[];try{if(s&&e&&n){const d=(await Be.getBalance(s,e)).balances.filter(f=>f.quantity.decimals!=="0");return this.setTokenBalance(d,n),is.lastRetry=void 0,is.balanceLoading=!1,d}}catch(u){is.lastRetry=Date.now(),t==null||t(u),Ds.showError("Token Balance Unavailable")}finally{is.balanceLoading=!1}return[]},resetAccount(t){z.resetAccount(t)}},pr=zt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),tn={state:pr,subscribe(t){return Yn(pr,()=>t(pr))},subscribeKey(t,e){return cr(pr,t,e)},async open(t){var s;const e=Te.state.status==="connected";Mt.state.wcBasic?Ue.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ue.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await z.switchActiveNamespace(t.namespace),tn.setLoading(!0,t.namespace)):tn.setLoading(!0),Le.setFilterByNamespace(t==null?void 0:t.namespace);const n=(s=z.getAccountData(t==null?void 0:t.namespace))==null?void 0:s.caipAddress,r=z.state.noAdapters;ue.state.manualWCControl||r&&!n?Me.isMobile()?bt.reset("AllWallets"):bt.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?bt.reset(t.view,t.data):n?bt.reset("Account"):bt.reset("Connect"),pr.open=!0,oi.set({open:!0}),Lt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(t=!1){if(t||bt.state.view!=="ApproveTransaction"){const e=ue.state.enableEmbedded,n=!!z.state.activeCaipAddress;pr.open&&Lt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:n}}),pr.open=!1,tn.clearLoading(),e?n?bt.replace("Account"):bt.push("Connect"):oi.set({open:!1})}Mt.resetUri()},setLoading(t,e){e&&pr.loadingNamespaceMap.set(e,t),pr.loading=t,oi.set({loading:t})},clearLoading(){pr.loadingNamespaceMap.clear(),pr.loading=!1},shake(){pr.shake||(pr.shake=!0,setTimeout(()=>{pr.shake=!1},500))}},oO=2147483648,aQ={convertEVMChainIdToCoinType(t){if(t>=oO)throw new Error("Invalid chainId");return(oO|t)>>>0}},as=zt({suggestions:[],loading:!1}),cP={state:as,subscribe(t){return Yn(as,()=>t(as))},subscribeKey(t,e){return cr(as,t,e)},async resolveName(t){var e,n;try{return await Be.lookupEnsName(t)}catch(r){const s=r;throw new Error(((n=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Be.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{as.loading=!0,as.suggestions=[];const e=await Be.getEnsNameSuggestions(t);return as.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],as.suggestions}catch(e){const n=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{as.loading=!1}},async getNamesForAddress(t){try{if(!z.state.activeCaipNetwork)return[];const n=be.getEnsFromCacheForAddress(t);if(n)return n;const r=await Be.reverseLookupEnsName({address:t});return be.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=z.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Te.state.address,r=Le.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");as.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});bt.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){as.loading=!1}});const a=await Mt.signMessage(s),c=e.id;if(!c)throw new Error("Network not found");const u=aQ.convertEVMChainIdToCoinType(Number(c));await Be.registerEnsName({coinType:u,address:n,signature:a,message:s}),Te.setProfileName(t,e.chainNamespace),bt.replace("RegisterAccountNameSuccess")}catch(s){const a=this.parseEnsApiError(s,`Error registering name ${t}`);throw bt.replace("RegisterAccountName"),new Error(a)}finally{as.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,s;const n=t;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}};var z0={exports:{}},F0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO;function oQ(){if(cO)return F0;cO=1;var t=$u();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function u(g,y){var w=y(),v=r({inst:{value:w,getSnapshot:y}}),E=v[0].inst,_=v[1];return a(function(){E.value=w,E.getSnapshot=y,d(E)&&_({inst:E})},[g,w,y]),s(function(){return d(E)&&_({inst:E}),g(function(){d(E)&&_({inst:E})})},[g]),c(w),w}function d(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!n(g,w)}catch{return!0}}function f(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return F0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,F0}var lO;function cQ(){return lO||(lO=1,z0.exports=oQ()),z0.exports}var lQ=cQ();const uQ=Du(lQ),dQ={},{use:uO}=_$,{useSyncExternalStore:hQ}=uQ,fQ=(t,e)=>{const n=je.useRef();je.useEffect(()=>{n.current=$$(t,e)}),je.useDebugValue(n.current)},pQ=new WeakMap;function gQ(t,e){const r=je.useRef(),s=je.useRef();let a=!0;const c=hQ(je.useCallback(f=>{const p=Yn(t,f);return f(),p},[t,void 0]),()=>{const f=mc(t,uO);try{if(!a&&r.current&&s.current&&!fI(r.current,f,s.current,new WeakMap))return r.current}catch{}return f},()=>mc(t,uO));a=!1;const u=new WeakMap;je.useEffect(()=>{r.current=c,s.current=u}),(dQ?"production":void 0)!=="production"&&fQ(c,u);const d=je.useMemo(()=>new WeakMap,[]);return hI(c,u,d,pQ)}function mQ(t){var c,u;const e=gQ(z.state),n=e.activeChain;if(!n)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const r=(c=e.chains.get(n))==null?void 0:c.accountState,s=Le.getAuthConnector(n),a=be.getConnectedConnectorId(n);return{allAccounts:(r==null?void 0:r.allAccounts)||[],caipAddress:r==null?void 0:r.caipAddress,address:Me.getPlainAddress(r==null?void 0:r.caipAddress),isConnected:!!(r!=null&&r.caipAddress),status:r==null?void 0:r.status,embeddedWalletInfo:s&&a===de.CONNECTOR_ID.AUTH?{user:r!=null&&r.user?{...r.user,username:be.getConnectedSocialUsername()}:void 0,authProvider:(r==null?void 0:r.socialProvider)||"email",accountType:(u=r==null?void 0:r.preferredAccountTypes)==null?void 0:u[n],isSmartAccountDeployed:!!(r!=null&&r.smartAccountDeployed)}:void 0}}const Bt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},to={ConnectorExplorerIds:{[de.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[de.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[de.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[de.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[de.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Bt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Bt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Bt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Bt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Bt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Bt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Bt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Bt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Bt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Bt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Bt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[de.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[de.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[de.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[de.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[de.CONNECTOR_ID.INJECTED]:"Browser Wallet",[de.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[de.CONNECTOR_ID.COINBASE]:"Coinbase",[de.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[de.CONNECTOR_ID.LEDGER]:"Ledger",[de.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[de.CONNECTOR_ID.INJECTED]:"INJECTED",[de.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[de.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[de.CONNECTOR_ID.AUTH]:"AUTH"}},wy={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${Bt.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},yQ=new AbortController,Sn={EmbeddedWalletAbortController:yQ,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${bQ()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function bQ(){return typeof window<"u"}const wQ={createLogger(t,e="error"){const n=ku({level:e}),{logger:r}=jE({opts:n});return r.error=(...s)=>{for(const a of s)if(a instanceof Error){t(a,...s);return}t(void 0,...s)},r}},vQ="rpc.walletconnect.org";function dO(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const q0=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],ii={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===vQ}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:de.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${de.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var s,a,c;const r=(c=(a=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null?void 0:c[0];return q0.includes(e)?dO(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var y,w,v,E,_;const s=this.getChainNamespace(t),a=this.getCaipNetworkId(t),c=(y=t.rpcUrls.default.http)==null?void 0:y[0],u=this.getDefaultRpcUrl(t,a,n),d=((E=(v=(w=t==null?void 0:t.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:v.http)==null?void 0:E[0])||c,f=((_=r==null?void 0:r[a])==null?void 0:_.map(S=>S.url))||[],p=[...f,u],g=[...f];return d&&!g.includes(d)&&g.push(d),{...t,chainNamespace:s,caipNetworkId:a,assets:{imageId:to.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:g}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>ii.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var s,a,c;const r=[];return n==null||n.forEach(u=>{r.push(Lg(u.url,u.config))}),q0.includes(t.caipNetworkId)&&r.push(Lg(dO(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(c=(a=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null||c.forEach(u=>{r.push(Lg(u))}),nO(r)},extendWagmiTransports(t,e,n){if(q0.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return nO([n,Lg(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:de.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var d;const e=be.getActiveCaipNetworkId(),n=z.getAllRequestedCaipNetworks(),r=Array.from(((d=z.state.chains)==null?void 0:d.keys())||[]),s=e==null?void 0:e.split(":")[0],a=s?r.includes(s):!1,c=n==null?void 0:n.find(f=>f.caipNetworkId===e);return a&&!c&&e?this.getUnsupportedNetwork(e):c||t||(n==null?void 0:n[0])}},Im={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},gr=zt({providers:{...Im},providerIds:{...Im}}),St={state:gr,subscribeKey(t,e){return cr(gr,t,e)},subscribe(t){return Yn(gr,()=>{t(gr)})},subscribeProviders(t){return Yn(gr.providers,()=>t(gr.providers))},setProvider(t,e){e&&(gr.providers[t]=yc(e))},getProvider(t){return gr.providers[t]},setProviderId(t,e){e&&(gr.providerIds[t]=e)},getProviderId(t){if(t)return gr.providerIds[t]},reset(){gr.providers={...Im},gr.providerIds={...Im}},resetChain(t){gr.providers[t]=void 0,gr.providerIds[t]=void 0}},hO={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},kn={set(t,e){zr.isClient&&localStorage.setItem(`${Ae.STORAGE_KEY}${t}`,e)},get(t){return zr.isClient?localStorage.getItem(`${Ae.STORAGE_KEY}${t}`):null},delete(t,e){zr.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Ae.STORAGE_KEY}${t}`))}},zg=30*1e3,zr={checkIfAllowedToTriggerEmail(){const t=kn.get(Ae.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<zg){const n=Math.ceil((zg-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=kn.get(Ae.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<zg)return Math.ceil((zg-e)/1e3)}return 0},checkIfRequestExists(t){return Ln.NOT_SAFE_RPC_METHODS.includes(t.method)||Ln.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(hO.transactionHash))||(t==null?void 0:t.match(hO.signedMessage)))?Ae.RPC_RESPONSE_TYPE_TX:Ae.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Ln.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var pt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const c of s)a[c]=c;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),c={};for(const u of a)c[u]=s[u];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.push(c);return a},t.find=(s,a)=>{for(const c of s)if(a(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(pt||(pt={}));var fE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(fE||(fE={}));const ve=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),za=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},fe=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),EQ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ms extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let u=r,d=0;for(;d<c.path.length;){const f=c.path[d];d===c.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(c))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ms.create=t=>new Ms(t);const df=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pt.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,pt.assertNever(t)}return{message:n}};let lP=df;function _Q(t){lP=t}function Rm(){return lP}const xm=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],c={...s,path:a};let u="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)u=f(c,{data:e,defaultError:u}).message;return{...s,path:a,message:s.message||u}},CQ=[];function Ce(t,e){const n=xm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rm(),df].filter(r=>!!r)});t.common.issues.push(n)}class Zn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Fe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return Zn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:c}=s;if(a.status==="aborted"||c.status==="aborted")return Fe;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[a.value]=c.value)}return{status:e.value,value:r}}}const Fe=Object.freeze({status:"aborted"}),uP=t=>({status:"dirty",value:t}),or=t=>({status:"valid",value:t}),pE=t=>t.status==="aborted",gE=t=>t.status==="dirty",hf=t=>t.status==="valid",Pm=t=>typeof Promise<"u"&&t instanceof Promise;var Pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Pe||(Pe={}));class hi{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fO=(t,e)=>{if(hf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ms(t.common.issues);return this._error=n,this._error}}};function Ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,u)=>c.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:r??u.defaultError}:{message:n??u.defaultError},description:s}}class Xe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return za(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:za(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zn,ctx:{common:e.parent.common,data:e.data,parsedType:za(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Pm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:za(e)},a=this._parseSync({data:e,path:s.path,parent:s});return fO(s,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:za(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(Pm(s)?s:Promise.resolve(s));return fO(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const c=e(s),u=()=>a.addIssue({code:fe.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(d=>d?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Bs({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Xi.create(this,this._def)}nullable(){return Ic.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ks.create(this,this._def)}promise(){return Ru.create(this,this._def)}or(e){return mf.create([this,e],this._def)}and(e){return yf.create(this,e,this._def)}transform(e){return new Bs({...Ge(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new _f({...Ge(this._def),innerType:this,defaultValue:n,typeName:ke.ZodDefault})}brand(){return new hP({typeName:ke.ZodBranded,type:this,...Ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Mm({...Ge(this._def),innerType:this,catchValue:n,typeName:ke.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Xf.create(this,e)}readonly(){return Bm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const AQ=/^c[^\s-]{8,}$/i,SQ=/^[a-z][a-z0-9]*$/,TQ=/^[0-9A-HJKMNP-TV-Z]{26}$/,NQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let H0;const RQ=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,xQ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,PQ=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function DQ(t,e){return!!((e==="v4"||!e)&&RQ.test(t)||(e==="v6"||!e)&&xQ.test(t))}class Us extends Xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const a=this._getOrReturnCtx(e);return Ce(a,{code:fe.invalid_type,expected:ve.string,received:a.parsedType}),Fe}const r=new Zn;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,u=e.data.length<a.value;(c||u)&&(s=this._getOrReturnCtx(e,s),c?Ce(s,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&Ce(s,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")OQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"email",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")H0||(H0=new RegExp(IQ,"u")),H0.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"emoji",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")NQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"uuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")AQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"cuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")SQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"cuid2",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")TQ.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"ulid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ce(s,{validation:"url",code:fe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"regex",code:fe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?PQ(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?DQ(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Ce(s,{validation:"ip",code:fe.invalid_string,message:a.message}),r.dirty()):pt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:fe.invalid_string,...Pe.errToObj(r)})}_addCheck(e){return new Us({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Pe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Pe.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Pe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Pe.errToObj(n)})}nonempty(e){return this.min(1,Pe.errToObj(e))}trim(){return new Us({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Us({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Us({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Us.create=t=>{var e;return new Us({checks:[],typeName:ke.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ge(t)})};function $Q(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(t.toFixed(s).replace(".","")),c=parseInt(e.toFixed(s).replace(".",""));return a%c/Math.pow(10,s)}class ho extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const a=this._getOrReturnCtx(e);return Ce(a,{code:fe.invalid_type,expected:ve.number,received:a.parsedType}),Fe}let r;const s=new Zn;for(const a of this._def.checks)a.kind==="int"?pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?$Q(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.not_finite,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,s){return new ho({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(s)}]})}_addCheck(e){return new ho({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ho.create=t=>new ho({checks:[],typeName:ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class fo extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ve.bigint){const a=this._getOrReturnCtx(e);return Ce(a,{code:fe.invalid_type,expected:ve.bigint,received:a.parsedType}),Fe}let r;const s=new Zn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ce(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):pt.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,s){return new fo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(s)}]})}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fo.create=t=>{var e;return new fo({checks:[],typeName:ke.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ge(t)})};class ff extends Xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return Ce(r,{code:fe.invalid_type,expected:ve.boolean,received:r.parsedType}),Fe}return or(e.data)}}ff.create=t=>new ff({typeName:ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class Nc extends Xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const a=this._getOrReturnCtx(e);return Ce(a,{code:fe.invalid_type,expected:ve.date,received:a.parsedType}),Fe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ce(a,{code:fe.invalid_date}),Fe}const r=new Zn;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Ce(s,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):pt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Nc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Nc.create=t=>new Nc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ke.ZodDate,...Ge(t)});class Dm extends Xe{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return Ce(r,{code:fe.invalid_type,expected:ve.symbol,received:r.parsedType}),Fe}return or(e.data)}}Dm.create=t=>new Dm({typeName:ke.ZodSymbol,...Ge(t)});class pf extends Xe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ce(r,{code:fe.invalid_type,expected:ve.undefined,received:r.parsedType}),Fe}return or(e.data)}}pf.create=t=>new pf({typeName:ke.ZodUndefined,...Ge(t)});class gf extends Xe{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return Ce(r,{code:fe.invalid_type,expected:ve.null,received:r.parsedType}),Fe}return or(e.data)}}gf.create=t=>new gf({typeName:ke.ZodNull,...Ge(t)});class Iu extends Xe{constructor(){super(...arguments),this._any=!0}_parse(e){return or(e.data)}}Iu.create=t=>new Iu({typeName:ke.ZodAny,...Ge(t)});class fc extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return or(e.data)}}fc.create=t=>new fc({typeName:ke.ZodUnknown,...Ge(t)});class ta extends Xe{_parse(e){const n=this._getOrReturnCtx(e);return Ce(n,{code:fe.invalid_type,expected:ve.never,received:n.parsedType}),Fe}}ta.create=t=>new ta({typeName:ke.ZodNever,...Ge(t)});class $m extends Xe{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return Ce(r,{code:fe.invalid_type,expected:ve.void,received:r.parsedType}),Fe}return or(e.data)}}$m.create=t=>new $m({typeName:ke.ZodVoid,...Ge(t)});class ks extends Xe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ve.array)return Ce(n,{code:fe.invalid_type,expected:ve.array,received:n.parsedType}),Fe;if(s.exactLength!==null){const c=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(c||u)&&(Ce(n,{code:c?fe.too_big:fe.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ce(n,{code:fe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ce(n,{code:fe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,u)=>s.type._parseAsync(new hi(n,c,n.path,u)))).then(c=>Zn.mergeArray(r,c));const a=[...n.data].map((c,u)=>s.type._parseSync(new hi(n,c,n.path,u)));return Zn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new ks({...this._def,minLength:{value:e,message:Pe.toString(n)}})}max(e,n){return new ks({...this._def,maxLength:{value:e,message:Pe.toString(n)}})}length(e,n){return new ks({...this._def,exactLength:{value:e,message:Pe.toString(n)}})}nonempty(e){return this.min(1,e)}}ks.create=(t,e)=>new ks({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...Ge(e)});function Wl(t){if(t instanceof Ht){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Xi.create(Wl(r))}return new Ht({...t._def,shape:()=>e})}else return t instanceof ks?new ks({...t._def,type:Wl(t.element)}):t instanceof Xi?Xi.create(Wl(t.unwrap())):t instanceof Ic?Ic.create(Wl(t.unwrap())):t instanceof fi?fi.create(t.items.map(e=>Wl(e))):t}class Ht extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ve.object){const f=this._getOrReturnCtx(e);return Ce(f,{code:fe.invalid_type,expected:ve.object,received:f.parsedType}),Fe}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof ta&&this._def.unknownKeys==="strip"))for(const f in s.data)c.includes(f)||u.push(f);const d=[];for(const f of c){const p=a[f],g=s.data[f];d.push({key:{status:"valid",value:f},value:p._parse(new hi(s,g,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof ta){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of u)d.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(f==="strict")u.length>0&&(Ce(s,{code:fe.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of u){const g=s.data[p];d.push({key:{status:"valid",value:p},value:f._parse(new hi(s,g,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of d){const g=await p.key;f.push({key:g,value:await p.value,alwaysSet:p.alwaysSet})}return f}).then(f=>Zn.mergeObjectSync(r,f)):Zn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Pe.errToObj,new Ht({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a,c,u;const d=(c=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&c!==void 0?c:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=Pe.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new Ht({...this._def,unknownKeys:"strip"})}passthrough(){return new Ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ht({...this._def,catchall:e})}pick(e){const n={};return pt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ht({...this._def,shape:()=>n})}omit(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ht({...this._def,shape:()=>n})}deepPartial(){return Wl(this)}partial(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ht({...this._def,shape:()=>n})}required(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Xi;)a=a._def.innerType;n[r]=a}}),new Ht({...this._def,shape:()=>n})}keyof(){return dP(pt.objectKeys(this.shape))}}Ht.create=(t,e)=>new Ht({shape:()=>t,unknownKeys:"strip",catchall:ta.create(),typeName:ke.ZodObject,...Ge(e)});Ht.strictCreate=(t,e)=>new Ht({shape:()=>t,unknownKeys:"strict",catchall:ta.create(),typeName:ke.ZodObject,...Ge(e)});Ht.lazycreate=(t,e)=>new Ht({shape:t,unknownKeys:"strip",catchall:ta.create(),typeName:ke.ZodObject,...Ge(e)});class mf extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const c=a.map(u=>new Ms(u.ctx.common.issues));return Ce(n,{code:fe.invalid_union,unionErrors:c}),Fe}if(n.common.async)return Promise.all(r.map(async a=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let a;const c=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},p=d._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:f}),f.common.issues.length&&c.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=c.map(d=>new Ms(d));return Ce(n,{code:fe.invalid_union,unionErrors:u}),Fe}}get options(){return this._def.options}}mf.create=(t,e)=>new mf({options:t,typeName:ke.ZodUnion,...Ge(e)});const tm=t=>t instanceof wf?tm(t.schema):t instanceof Bs?tm(t.innerType()):t instanceof vf?[t.value]:t instanceof po?t.options:t instanceof Ef?Object.keys(t.enum):t instanceof _f?tm(t._def.innerType):t instanceof pf?[void 0]:t instanceof gf?[null]:null;class vy extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return Ce(n,{code:fe.invalid_type,expected:ve.object,received:n.parsedType}),Fe;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Ce(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Fe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const a of n){const c=tm(a.shape[e]);if(!c)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,a)}}return new vy({typeName:ke.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ge(r)})}}function mE(t,e){const n=za(t),r=za(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const s=pt.objectKeys(e),a=pt.objectKeys(t).filter(u=>s.indexOf(u)!==-1),c={...t,...e};for(const u of a){const d=mE(t[u],e[u]);if(!d.valid)return{valid:!1};c[u]=d.data}return{valid:!0,data:c}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const c=t[a],u=e[a],d=mE(c,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yf extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,c)=>{if(pE(a)||pE(c))return Fe;const u=mE(a.value,c.value);return u.valid?((gE(a)||gE(c))&&n.dirty(),{status:n.value,value:u.data}):(Ce(r,{code:fe.invalid_intersection_types}),Fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yf.create=(t,e,n)=>new yf({left:t,right:e,typeName:ke.ZodIntersection,...Ge(n)});class fi extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return Ce(r,{code:fe.invalid_type,expected:ve.array,received:r.parsedType}),Fe;if(r.data.length<this._def.items.length)return Ce(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&r.data.length>this._def.items.length&&(Ce(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((c,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new hi(r,c,r.path,u)):null}).filter(c=>!!c);return r.common.async?Promise.all(a).then(c=>Zn.mergeArray(n,c)):Zn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new fi({...this._def,rest:e})}}fi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fi({items:t,typeName:ke.ZodTuple,rest:null,...Ge(e)})};class bf extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.object)return Ce(r,{code:fe.invalid_type,expected:ve.object,received:r.parsedType}),Fe;const s=[],a=this._def.keyType,c=this._def.valueType;for(const u in r.data)s.push({key:a._parse(new hi(r,u,r.path,u)),value:c._parse(new hi(r,r.data[u],r.path,u))});return r.common.async?Zn.mergeObjectAsync(n,s):Zn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Xe?new bf({keyType:e,valueType:n,typeName:ke.ZodRecord,...Ge(r)}):new bf({keyType:Us.create(),valueType:e,typeName:ke.ZodRecord,...Ge(n)})}}class Um extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return Ce(r,{code:fe.invalid_type,expected:ve.map,received:r.parsedType}),Fe;const s=this._def.keyType,a=this._def.valueType,c=[...r.data.entries()].map(([u,d],f)=>({key:s._parse(new hi(r,u,r.path,[f,"key"])),value:a._parse(new hi(r,d,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of c){const f=await d.key,p=await d.value;if(f.status==="aborted"||p.status==="aborted")return Fe;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(f.value,p.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of c){const f=d.key,p=d.value;if(f.status==="aborted"||p.status==="aborted")return Fe;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),u.set(f.value,p.value)}return{status:n.value,value:u}}}}Um.create=(t,e,n)=>new Um({valueType:e,keyType:t,typeName:ke.ZodMap,...Ge(n)});class Oc extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return Ce(r,{code:fe.invalid_type,expected:ve.set,received:r.parsedType}),Fe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ce(r,{code:fe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ce(r,{code:fe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function c(d){const f=new Set;for(const p of d){if(p.status==="aborted")return Fe;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((d,f)=>a._parse(new hi(r,d,r.path,f)));return r.common.async?Promise.all(u).then(d=>c(d)):c(u)}min(e,n){return new Oc({...this._def,minSize:{value:e,message:Pe.toString(n)}})}max(e,n){return new Oc({...this._def,maxSize:{value:e,message:Pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Oc.create=(t,e)=>new Oc({valueType:t,minSize:null,maxSize:null,typeName:ke.ZodSet,...Ge(e)});class Jl extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.function)return Ce(n,{code:fe.invalid_type,expected:ve.function,received:n.parsedType}),Fe;function r(u,d){return xm({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Rm(),df].filter(f=>!!f),issueData:{code:fe.invalid_arguments,argumentsError:d}})}function s(u,d){return xm({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Rm(),df].filter(f=>!!f),issueData:{code:fe.invalid_return_type,returnTypeError:d}})}const a={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof Ru){const u=this;return or(async function(...d){const f=new Ms([]),p=await u._def.args.parseAsync(d,a).catch(w=>{throw f.addIssue(r(d,w)),f}),g=await Reflect.apply(c,this,p);return await u._def.returns._def.type.parseAsync(g,a).catch(w=>{throw f.addIssue(s(g,w)),f})})}else{const u=this;return or(function(...d){const f=u._def.args.safeParse(d,a);if(!f.success)throw new Ms([r(d,f.error)]);const p=Reflect.apply(c,this,f.data),g=u._def.returns.safeParse(p,a);if(!g.success)throw new Ms([s(p,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Jl({...this._def,args:fi.create(e).rest(fc.create())})}returns(e){return new Jl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Jl({args:e||fi.create([]).rest(fc.create()),returns:n||fc.create(),typeName:ke.ZodFunction,...Ge(r)})}}class wf extends Xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wf.create=(t,e)=>new wf({getter:t,typeName:ke.ZodLazy,...Ge(e)});class vf extends Xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ce(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}vf.create=(t,e)=>new vf({value:t,typeName:ke.ZodLiteral,...Ge(e)});function dP(t,e){return new po({values:t,typeName:ke.ZodEnum,...Ge(e)})}class po extends Xe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ce(n,{expected:pt.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Fe}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Ce(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Fe}return or(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return po.create(e)}exclude(e){return po.create(this.options.filter(n=>!e.includes(n)))}}po.create=dP;class Ef extends Xe{_parse(e){const n=pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const s=pt.objectValues(n);return Ce(r,{expected:pt.joinValues(s),received:r.parsedType,code:fe.invalid_type}),Fe}if(n.indexOf(e.data)===-1){const s=pt.objectValues(n);return Ce(r,{received:r.data,code:fe.invalid_enum_value,options:s}),Fe}return or(e.data)}get enum(){return this._def.values}}Ef.create=(t,e)=>new Ef({values:t,typeName:ke.ZodNativeEnum,...Ge(e)});class Ru extends Xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return Ce(n,{code:fe.invalid_type,expected:ve.promise,received:n.parsedType}),Fe;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return or(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ru.create=(t,e)=>new Ru({type:t,typeName:ke.ZodPromise,...Ge(e)});class Bs extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:c=>{Ce(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const c=s.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(c).then(u=>this._def.schema._parseAsync({data:u,path:r.path,parent:r})):this._def.schema._parseSync({data:c,path:r.path,parent:r})}if(s.type==="refinement"){const c=u=>{const d=s.refinement(u,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Fe:(u.status==="dirty"&&n.dirty(),c(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Fe:(u.status==="dirty"&&n.dirty(),c(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hf(c))return c;const u=s.transform(c.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>hf(c)?Promise.resolve(s.transform(c.value,a)).then(u=>({status:n.value,value:u})):c);pt.assertNever(s)}}Bs.create=(t,e,n)=>new Bs({schema:t,typeName:ke.ZodEffects,effect:e,...Ge(n)});Bs.createWithPreprocess=(t,e,n)=>new Bs({schema:e,effect:{type:"preprocess",transform:t},typeName:ke.ZodEffects,...Ge(n)});class Xi extends Xe{_parse(e){return this._getType(e)===ve.undefined?or(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xi.create=(t,e)=>new Xi({innerType:t,typeName:ke.ZodOptional,...Ge(e)});class Ic extends Xe{_parse(e){return this._getType(e)===ve.null?or(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ic.create=(t,e)=>new Ic({innerType:t,typeName:ke.ZodNullable,...Ge(e)});class _f extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}_f.create=(t,e)=>new _f({innerType:t,typeName:ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});class Mm extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Pm(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ms(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ms(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Mm.create=(t,e)=>new Mm({innerType:t,typeName:ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});class km extends Xe{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return Ce(r,{code:fe.invalid_type,expected:ve.nan,received:r.parsedType}),Fe}return{status:"valid",value:e.data}}}km.create=t=>new km({typeName:ke.ZodNaN,...Ge(t)});const UQ=Symbol("zod_brand");class hP extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xf extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Fe:a.status==="dirty"?(n.dirty(),uP(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Fe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Xf({in:e,out:n,typeName:ke.ZodPipeline})}}class Bm extends Xe{_parse(e){const n=this._def.innerType._parse(e);return hf(n)&&(n.value=Object.freeze(n.value)),n}}Bm.create=(t,e)=>new Bm({innerType:t,typeName:ke.ZodReadonly,...Ge(e)});const fP=(t,e={},n)=>t?Iu.create().superRefine((r,s)=>{var a,c;if(!t(r)){const u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(c=(a=u.fatal)!==null&&a!==void 0?a:n)!==null&&c!==void 0?c:!0,f=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...f,fatal:d})}}):Iu.create(),MQ={object:Ht.lazycreate};var ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ke||(ke={}));const kQ=(t,e={message:`Input not instance of ${t.name}`})=>fP(n=>n instanceof t,e),pP=Us.create,gP=ho.create,BQ=km.create,LQ=fo.create,mP=ff.create,jQ=Nc.create,zQ=Dm.create,FQ=pf.create,qQ=gf.create,HQ=Iu.create,VQ=fc.create,GQ=ta.create,WQ=$m.create,KQ=ks.create,YQ=Ht.create,ZQ=Ht.strictCreate,QQ=mf.create,XQ=vy.create,JQ=yf.create,eX=fi.create,tX=bf.create,nX=Um.create,rX=Oc.create,sX=Jl.create,iX=wf.create,aX=vf.create,oX=po.create,cX=Ef.create,lX=Ru.create,pO=Bs.create,uX=Xi.create,dX=Ic.create,hX=Bs.createWithPreprocess,fX=Xf.create,pX=()=>pP().optional(),gX=()=>gP().optional(),mX=()=>mP().optional(),yX={string:t=>Us.create({...t,coerce:!0}),number:t=>ho.create({...t,coerce:!0}),boolean:t=>ff.create({...t,coerce:!0}),bigint:t=>fo.create({...t,coerce:!0}),date:t=>Nc.create({...t,coerce:!0})},bX=Fe;var U=Object.freeze({__proto__:null,defaultErrorMap:df,setErrorMap:_Q,getErrorMap:Rm,makeIssue:xm,EMPTY_PATH:CQ,addIssueToContext:Ce,ParseStatus:Zn,INVALID:Fe,DIRTY:uP,OK:or,isAborted:pE,isDirty:gE,isValid:hf,isAsync:Pm,get util(){return pt},get objectUtil(){return fE},ZodParsedType:ve,getParsedType:za,ZodType:Xe,ZodString:Us,ZodNumber:ho,ZodBigInt:fo,ZodBoolean:ff,ZodDate:Nc,ZodSymbol:Dm,ZodUndefined:pf,ZodNull:gf,ZodAny:Iu,ZodUnknown:fc,ZodNever:ta,ZodVoid:$m,ZodArray:ks,ZodObject:Ht,ZodUnion:mf,ZodDiscriminatedUnion:vy,ZodIntersection:yf,ZodTuple:fi,ZodRecord:bf,ZodMap:Um,ZodSet:Oc,ZodFunction:Jl,ZodLazy:wf,ZodLiteral:vf,ZodEnum:po,ZodNativeEnum:Ef,ZodPromise:Ru,ZodEffects:Bs,ZodTransformer:Bs,ZodOptional:Xi,ZodNullable:Ic,ZodDefault:_f,ZodCatch:Mm,ZodNaN:km,BRAND:UQ,ZodBranded:hP,ZodPipeline:Xf,ZodReadonly:Bm,custom:fP,Schema:Xe,ZodSchema:Xe,late:MQ,get ZodFirstPartyTypeKind(){return ke},coerce:yX,any:HQ,array:KQ,bigint:LQ,boolean:mP,date:jQ,discriminatedUnion:XQ,effect:pO,enum:oX,function:sX,instanceof:kQ,intersection:JQ,lazy:iX,literal:aX,map:nX,nan:BQ,nativeEnum:cX,never:GQ,null:qQ,nullable:dX,number:gP,object:YQ,oboolean:mX,onumber:gX,optional:uX,ostring:pX,pipeline:fX,preprocess:hX,promise:lX,record:tX,set:rX,strictObject:ZQ,string:pP,symbol:zQ,transformer:pO,tuple:eX,undefined:FQ,union:QQ,unknown:VQ,void:WQ,NEVER:bX,ZodIssueCode:fe,quotelessJson:EQ,ZodError:Ms});const Kt=U.object({message:U.string()});function Ee(t){return U.literal(Ae[t])}U.object({accessList:U.array(U.string()),blockHash:U.string().nullable(),blockNumber:U.string().nullable(),chainId:U.string().or(U.number()),from:U.string(),gas:U.string(),hash:U.string(),input:U.string().nullable(),maxFeePerGas:U.string(),maxPriorityFeePerGas:U.string(),nonce:U.string(),r:U.string(),s:U.string(),to:U.string(),transactionIndex:U.string().nullable(),type:U.string(),v:U.string(),value:U.string()});const wX=U.object({chainId:U.string().or(U.number())}),vX=U.object({email:U.string().email()}),EX=U.object({otp:U.string()}),_X=U.object({uri:U.string()}),CX=U.object({chainId:U.optional(U.string().or(U.number())),preferredAccountType:U.optional(U.string())}),AX=U.object({provider:U.enum(["google","github","apple","facebook","x","discord"])}),SX=U.object({email:U.string().email()}),TX=U.object({otp:U.string()}),NX=U.object({otp:U.string()}),OX=U.object({themeMode:U.optional(U.enum(["light","dark"])),themeVariables:U.optional(U.record(U.string(),U.string().or(U.number()))),w3mThemeVariables:U.optional(U.record(U.string(),U.string()))}),IX=U.object({metadata:U.object({name:U.string(),description:U.string(),url:U.string(),icons:U.array(U.string())}).optional(),sdkVersion:U.string().optional(),sdkType:U.string().optional(),projectId:U.string()}),RX=U.object({type:U.string()}),xX=U.object({action:U.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),PX=U.object({url:U.string()}),DX=U.object({userName:U.string()}),$X=U.object({email:U.string().optional().nullable(),address:U.string(),chainId:U.string().or(U.number()),accounts:U.array(U.object({address:U.string(),type:U.enum([Ln.ACCOUNT_TYPES.EOA,Ln.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:U.string().optional().nullable()}),UX=U.object({action:U.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),MX=U.object({email:U.string().email().optional().nullable(),address:U.string(),chainId:U.string().or(U.number()),smartAccountDeployed:U.optional(U.boolean()),accounts:U.array(U.object({address:U.string(),type:U.enum([Ln.ACCOUNT_TYPES.EOA,Ln.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:U.optional(U.string())}),kX=U.object({uri:U.string()}),BX=U.object({isConnected:U.boolean()}),LX=U.object({chainId:U.string().or(U.number())}),jX=U.object({chainId:U.string().or(U.number())}),zX=U.object({newEmail:U.string().email()}),FX=U.object({smartAccountEnabledNetworks:U.array(U.number())});U.object({address:U.string(),isDeployed:U.boolean()});const qX=U.object({version:U.string().optional()}),HX=U.object({type:U.string(),address:U.string()}),VX=U.any(),GX=U.object({method:U.literal("eth_accounts")}),WX=U.object({method:U.literal("eth_blockNumber")}),KX=U.object({method:U.literal("eth_call"),params:U.array(U.any())}),YX=U.object({method:U.literal("eth_chainId")}),ZX=U.object({method:U.literal("eth_estimateGas"),params:U.array(U.any())}),QX=U.object({method:U.literal("eth_feeHistory"),params:U.array(U.any())}),XX=U.object({method:U.literal("eth_gasPrice")}),JX=U.object({method:U.literal("eth_getAccount"),params:U.array(U.any())}),eJ=U.object({method:U.literal("eth_getBalance"),params:U.array(U.any())}),tJ=U.object({method:U.literal("eth_getBlockByHash"),params:U.array(U.any())}),nJ=U.object({method:U.literal("eth_getBlockByNumber"),params:U.array(U.any())}),rJ=U.object({method:U.literal("eth_getBlockReceipts"),params:U.array(U.any())}),sJ=U.object({method:U.literal("eth_getBlockTransactionCountByHash"),params:U.array(U.any())}),iJ=U.object({method:U.literal("eth_getBlockTransactionCountByNumber"),params:U.array(U.any())}),aJ=U.object({method:U.literal("eth_getCode"),params:U.array(U.any())}),oJ=U.object({method:U.literal("eth_getFilterChanges"),params:U.array(U.any())}),cJ=U.object({method:U.literal("eth_getFilterLogs"),params:U.array(U.any())}),lJ=U.object({method:U.literal("eth_getLogs"),params:U.array(U.any())}),uJ=U.object({method:U.literal("eth_getProof"),params:U.array(U.any())}),dJ=U.object({method:U.literal("eth_getStorageAt"),params:U.array(U.any())}),hJ=U.object({method:U.literal("eth_getTransactionByBlockHashAndIndex"),params:U.array(U.any())}),fJ=U.object({method:U.literal("eth_getTransactionByBlockNumberAndIndex"),params:U.array(U.any())}),pJ=U.object({method:U.literal("eth_getTransactionByHash"),params:U.array(U.any())}),gJ=U.object({method:U.literal("eth_getTransactionCount"),params:U.array(U.any())}),mJ=U.object({method:U.literal("eth_getTransactionReceipt"),params:U.array(U.any())}),yJ=U.object({method:U.literal("eth_getUncleCountByBlockHash"),params:U.array(U.any())}),bJ=U.object({method:U.literal("eth_getUncleCountByBlockNumber"),params:U.array(U.any())}),wJ=U.object({method:U.literal("eth_maxPriorityFeePerGas")}),vJ=U.object({method:U.literal("eth_newBlockFilter")}),EJ=U.object({method:U.literal("eth_newFilter"),params:U.array(U.any())}),_J=U.object({method:U.literal("eth_newPendingTransactionFilter")}),CJ=U.object({method:U.literal("eth_sendRawTransaction"),params:U.array(U.any())}),AJ=U.object({method:U.literal("eth_syncing"),params:U.array(U.any())}),SJ=U.object({method:U.literal("eth_uninstallFilter"),params:U.array(U.any())}),gO=U.object({method:U.literal("personal_sign"),params:U.array(U.any())}),TJ=U.object({method:U.literal("eth_signTypedData_v4"),params:U.array(U.any())}),NJ=U.object({method:U.literal("eth_sendTransaction"),params:U.array(U.any())}),OJ=U.object({method:U.literal("solana_signMessage"),params:U.object({message:U.string(),pubkey:U.string()})}),IJ=U.object({method:U.literal("solana_signTransaction"),params:U.object({transaction:U.string()})}),RJ=U.object({method:U.literal("solana_signAllTransactions"),params:U.object({transactions:U.array(U.string())})}),xJ=U.object({method:U.literal("solana_signAndSendTransaction"),params:U.object({transaction:U.string(),options:U.object({skipPreflight:U.boolean().optional(),preflightCommitment:U.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:U.number().optional(),minContextSlot:U.number().optional()}).optional()})}),PJ=U.object({method:U.literal("wallet_sendCalls"),params:U.array(U.object({chainId:U.string().or(U.number()).optional(),from:U.string().optional(),version:U.string().optional(),capabilities:U.any().optional(),calls:U.array(U.object({to:U.string().startsWith("0x"),data:U.string().startsWith("0x").optional(),value:U.string().optional()}))}))}),DJ=U.object({method:U.literal("wallet_getCallsStatus"),params:U.array(U.string())}),$J=U.object({method:U.literal("wallet_getCapabilities")}),UJ=U.object({method:U.literal("wallet_grantPermissions"),params:U.array(U.any())}),MJ=U.object({method:U.literal("wallet_revokePermissions"),params:U.any()}),kJ=U.object({method:U.literal("wallet_getAssets"),params:U.any()}),mO=U.object({token:U.string()}),_e=U.object({id:U.string().optional()}),fh={appEvent:_e.extend({type:Ee("APP_SWITCH_NETWORK"),payload:wX}).or(_e.extend({type:Ee("APP_CONNECT_EMAIL"),payload:vX})).or(_e.extend({type:Ee("APP_CONNECT_DEVICE")})).or(_e.extend({type:Ee("APP_CONNECT_OTP"),payload:EX})).or(_e.extend({type:Ee("APP_CONNECT_SOCIAL"),payload:_X})).or(_e.extend({type:Ee("APP_GET_FARCASTER_URI")})).or(_e.extend({type:Ee("APP_CONNECT_FARCASTER")})).or(_e.extend({type:Ee("APP_GET_USER"),payload:U.optional(CX)})).or(_e.extend({type:Ee("APP_GET_SOCIAL_REDIRECT_URI"),payload:AX})).or(_e.extend({type:Ee("APP_SIGN_OUT")})).or(_e.extend({type:Ee("APP_IS_CONNECTED"),payload:U.optional(mO)})).or(_e.extend({type:Ee("APP_GET_CHAIN_ID")})).or(_e.extend({type:Ee("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(_e.extend({type:Ee("APP_INIT_SMART_ACCOUNT")})).or(_e.extend({type:Ee("APP_SET_PREFERRED_ACCOUNT"),payload:RX})).or(_e.extend({type:Ee("APP_RPC_REQUEST"),payload:gO.or(kJ).or(GX).or(WX).or(KX).or(YX).or(ZX).or(QX).or(XX).or(JX).or(eJ).or(tJ).or(nJ).or(rJ).or(sJ).or(iJ).or(aJ).or(oJ).or(cJ).or(lJ).or(uJ).or(dJ).or(hJ).or(fJ).or(pJ).or(gJ).or(mJ).or(yJ).or(bJ).or(wJ).or(vJ).or(EJ).or(_J).or(CJ).or(AJ).or(SJ).or(gO).or(TJ).or(NJ).or(OJ).or(IJ).or(RJ).or(xJ).or(DJ).or(PJ).or($J).or(UJ).or(MJ)})).or(_e.extend({type:Ee("APP_UPDATE_EMAIL"),payload:SX})).or(_e.extend({type:Ee("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:TX})).or(_e.extend({type:Ee("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:NX})).or(_e.extend({type:Ee("APP_SYNC_THEME"),payload:OX})).or(_e.extend({type:Ee("APP_SYNC_DAPP_DATA"),payload:IX})).or(_e.extend({type:Ee("APP_RELOAD")})),frameEvent:_e.extend({type:Ee("FRAME_SWITCH_NETWORK_ERROR"),payload:Kt}).or(_e.extend({type:Ee("FRAME_SWITCH_NETWORK_SUCCESS"),payload:jX})).or(_e.extend({type:Ee("FRAME_CONNECT_EMAIL_SUCCESS"),payload:xX})).or(_e.extend({type:Ee("FRAME_CONNECT_EMAIL_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:PX})).or(_e.extend({type:Ee("FRAME_GET_FARCASTER_URI_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:DX})).or(_e.extend({type:Ee("FRAME_CONNECT_FARCASTER_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_CONNECT_OTP_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_CONNECT_OTP_SUCCESS")})).or(_e.extend({type:Ee("FRAME_CONNECT_DEVICE_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_CONNECT_DEVICE_SUCCESS")})).or(_e.extend({type:Ee("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:$X})).or(_e.extend({type:Ee("FRAME_CONNECT_SOCIAL_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_GET_USER_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_GET_USER_SUCCESS"),payload:MX})).or(_e.extend({type:Ee("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:kX})).or(_e.extend({type:Ee("FRAME_SIGN_OUT_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_SIGN_OUT_SUCCESS")})).or(_e.extend({type:Ee("FRAME_IS_CONNECTED_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_IS_CONNECTED_SUCCESS"),payload:BX})).or(_e.extend({type:Ee("FRAME_GET_CHAIN_ID_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_GET_CHAIN_ID_SUCCESS"),payload:LX})).or(_e.extend({type:Ee("FRAME_RPC_REQUEST_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_RPC_REQUEST_SUCCESS"),payload:VX})).or(_e.extend({type:Ee("FRAME_SESSION_UPDATE"),payload:mO})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_SUCCESS"),payload:UX})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:zX})).or(_e.extend({type:Ee("FRAME_SYNC_THEME_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_SYNC_THEME_SUCCESS")})).or(_e.extend({type:Ee("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(_e.extend({type:Ee("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:FX})).or(_e.extend({type:Ee("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:HX})).or(_e.extend({type:Ee("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_READY"),payload:qX})).or(_e.extend({type:Ee("FRAME_RELOAD_ERROR"),payload:Kt})).or(_e.extend({type:Ee("FRAME_RELOAD_SUCCESS")}))};function V0(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class BJ{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=de.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,u)=>{function d({data:f}){if(!V0(Ae.FRAME_EVENT_KEY,f))return;const p=fh.frameEvent.parse(f);p.id===a&&(c(p),window.removeEventListener("message",d))}zr.isClient&&(window.addEventListener("message",d),u.addEventListener("abort",()=>{window.removeEventListener("message",d)}))},onFrameEvent:a=>{zr.isClient&&window.addEventListener("message",({data:c})=>{if(!V0(Ae.FRAME_EVENT_KEY,c))return;const u=fh.frameEvent.parse(c);a(u)})},onAppEvent:a=>{zr.isClient&&window.addEventListener("message",({data:c})=>{if(!V0(Ae.APP_EVENT_KEY,c))return;const u=fh.appEvent.parse(c);a(u)})},postAppEvent:a=>{var c;if(zr.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");fh.appEvent.parse(a),this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(zr.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");fh.frameEvent.parse(a),parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),n&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),zr.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=`${kW}?projectId=${e}&chainId=${r}&version=${LW}&enableLogger=${s}`,a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var u;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(u=this.frameLoadPromiseResolver)==null||u.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class LJ{constructor(e){var a;const n=ku({level:BW}),{logger:r,chunkLoggerController:s}=jE({opts:n});this.logger=Qn(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((a=this.chunkLoggerController)!=null&&a.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var c;(c=this.chunkLoggerController)!=null&&c.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class jJ{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:a}){this.openRpcRequests=[],r&&(this.w3mLogger=new LJ(e)),this.abortController=a,this.w3mFrame=new BJ({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(c=>{this.w3mFrame.events.onFrameEvent(async u=>{u.type===Ae.FRAME_READY&&(this.initPromise=void 0,await new Promise(d=>{setTimeout(d,500)}),c())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!kn.get(Ae.EMAIL_LOGIN_USED_KEY)}getEmail(){return kn.get(Ae.EMAIL)}getUsername(){return kn.get(Ae.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:Ae.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{zr.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const r=await this.appEvent({type:Ae.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Ae.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:Ae.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:Ae.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:Ae.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return this.w3mFrame.initFrame(),this.appEvent({type:Ae.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:Ae.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:Ae.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:Ae.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:Ae.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:Ae.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:Ae.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:Ae.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.getUser({chainId:r,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async getUser(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Ae.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{this.w3mFrame.initFrame();const r=await this.appEvent({type:Ae.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:Ae.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:Ae.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:Ae.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{const n=await this.appEvent({type:Ae.APP_SIGN_OUT});return this.deleteAuthLoginCache(),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,s,a;try{if(Ln.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const c=await this.appEvent({type:Ae.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,c,e),c}catch(c){throw(s=this.rpcErrorHandler)==null||s.call(this,c,e),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ae.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ae.FRAME_IS_CONNECTED_ERROR&&e(),n.type===Ae.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ae.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ae.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ae.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===Ae.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Ln.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ae.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===Ae.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Ln.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(d){return d.replace("@w3m-app/","")}const a=[Ae.APP_SYNC_DAPP_DATA,Ae.APP_SYNC_THEME,Ae.APP_SET_PREFERRED_ACCOUNT],c=s(e.type);return!this.w3mFrame.iframeIsReady&&!a.includes(e.type)&&(r=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Ae.APP_CONNECT_EMAIL,Ae.APP_CONNECT_DEVICE,Ae.APP_CONNECT_OTP,Ae.APP_CONNECT_SOCIAL,Ae.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(c)&&(n=setTimeout(()=>{var d;(d=this.onTimeout)==null||d.call(this,"iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((d,f)=>{var w,v,E;const p=Math.random().toString(36).substring(7);(E=(w=this.w3mLogger)==null?void 0:(v=w.logger).info)==null||E.call(v,{event:e,id:p},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:p});const g=new AbortController;if(c==="RPC_REQUEST"){const _=e;this.openRpcRequests=[...this.openRpcRequests,{..._.payload,abortController:g}]}g.signal.addEventListener("abort",()=>{c==="RPC_REQUEST"?f(new Error("Request was aborted")):c!=="GET_FARCASTER_URI"&&f(new Error("Something went wrong"))});function y(_,S){var T,O,P;_.id===p&&((O=S==null?void 0:(T=S.logger).info)==null||O.call(T,{framEvent:_,id:p},"Received frame response"),_.type===`@w3m-frame/${c}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&d(_.payload),d(void 0)):_.type===`@w3m-frame/${c}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in _&&f(new Error(((P=_.payload)==null?void 0:P.message)||"An error occurred")),f(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(p,_=>y(_,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){kn.set(Ae.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){kn.set(Ae.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&kn.set(Ae.EMAIL,e),kn.set(Ae.EMAIL_LOGIN_USED_KEY,"true"),kn.delete(Ae.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){kn.delete(Ae.EMAIL_LOGIN_USED_KEY),kn.delete(Ae.EMAIL),kn.delete(Ae.LAST_USED_CHAIN_KEY),kn.delete(Ae.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&kn.set(Ae.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=kn.get(Ae.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){kn.set(Ae.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class pc{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a}){return pc.instance||(pc.instance=new jJ({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a})),pc.instance}}var yO={};const zJ={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof yO<"u"?yO.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},yE={filterOutDuplicatesByRDNS(t){const e=ue.state.enableEIP6963?Le.state.connectors:[],n=be.getRecentWallets(),r=e.map(u=>{var d;return(d=u.info)==null?void 0:d.rdns}).filter(Boolean),s=n.map(u=>u.rdns).filter(Boolean),a=r.concat(s);if(a.includes("io.metamask.mobile")&&Me.isMobile()){const u=a.indexOf("io.metamask.mobile");a[u]="io.metamask"}return t.filter(u=>!a.includes(String(u==null?void 0:u.rdns)))},filterOutDuplicatesByIds(t){const e=Le.state.connectors.filter(u=>u.type==="ANNOUNCED"||u.type==="INJECTED"),n=be.getRecentWallets(),r=e.map(u=>u.explorerId),s=n.map(u=>u.id),a=r.concat(s);return t.filter(u=>!a.includes(u==null?void 0:u.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Le.state,n=e.filter(a=>a.type==="ANNOUNCED").reduce((a,c)=>{var u;return(u=c.info)!=null&&u.rdns&&(a[c.info.rdns]=!0),a},{});return t.map(a=>({...a,installed:!!a.rdns&&!!n[a.rdns??""]})).sort((a,c)=>Number(c.installed)-Number(a.installed))},getConnectOrderMethod(t,e){var d;const n=(t==null?void 0:t.connectMethodsOrder)||((d=ue.state.features)==null?void 0:d.connectMethodsOrder),r=e||Le.state.connectors;if(n)return n;const{injected:s,announced:a}=nm.getConnectorsByType(r,Ue.state.recommended,Ue.state.featured),c=s.filter(nm.showConnector),u=a.filter(nm.showConnector);return c.length||u.length?["wallet","email","social"]:zJ.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ue.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ue.state.excludedWallets.some(r=>wy.isLowerCaseMatch(r.name,t.name));return e||n}},nm={getConnectorsByType(t,e,n){const{customWallets:r}=ue.state,s=be.getRecentWallets(),a=yE.filterOutDuplicateWallets(e),c=yE.filterOutDuplicateWallets(n),u=t.filter(g=>g.type==="MULTI_CHAIN"),d=t.filter(g=>g.type==="ANNOUNCED"),f=t.filter(g=>g.type==="INJECTED"),p=t.filter(g=>g.type==="EXTERNAL");return{custom:r,recent:s,external:p,multiChain:u,announced:d,injected:f,recommended:a,featured:c}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,n=!!e&&Ue.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===e),r=!!t.name&&Ue.state.excludedWallets.some(a=>wy.isLowerCaseMatch(a.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Me.isMobile()||Me.isMobile()&&!e&&!Mt.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(z.state.chains.values()).some(n=>Le.getConnectorId(n.namespace)===de.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:a,multiChain:c,external:u,overriddenConnectors:d=(f=>(f=ue.state.features)==null?void 0:f.connectorTypeOrder)()??[]}){const p=nm.getIsConnectedWithWC(),w=[{type:"walletConnect",isEnabled:ue.state.enableWalletConnect&&!p},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...a,...s,...c].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:u.length>0},{type:"recommended",isEnabled:t.length>0}].filter(S=>S.isEnabled),v=new Set(w.map(S=>S.type)),E=d.filter(S=>v.has(S)).map(S=>({type:S,isEnabled:!0})),_=w.filter(({type:S})=>!E.some(({type:O})=>O===S));return Array.from(new Set([...E,..._].map(({type:S})=>S)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rm=globalThis,P1=rm.ShadowRoot&&(rm.ShadyCSS===void 0||rm.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,D1=Symbol(),bO=new WeakMap;let yP=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==D1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(P1&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=bO.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&bO.set(n,e))}return e}toString(){return this.cssText}};const os=t=>new yP(typeof t=="string"?t:t+"",void 0,D1),eu=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,a)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[a+1],t[0]);return new yP(n,t,D1)},FJ=(t,e)=>{if(P1)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=rm.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},wO=P1?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return os(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:qJ,defineProperty:HJ,getOwnPropertyDescriptor:VJ,getOwnPropertyNames:GJ,getOwnPropertySymbols:WJ,getPrototypeOf:KJ}=Object,ao=globalThis,vO=ao.trustedTypes,YJ=vO?vO.emptyScript:"",G0=ao.reactiveElementPolyfillSupport,xh=(t,e)=>t,bE={toAttribute(t,e){switch(e){case Boolean:t=t?YJ:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},bP=(t,e)=>!qJ(t,e),EO={attribute:!0,type:String,converter:bE,reflect:!1,useDefault:!1,hasChanged:bP};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ao.litPropertyMetadata??(ao.litPropertyMetadata=new WeakMap);let Kl=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=EO){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&HJ(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:a}=VJ(this.prototype,e)??{get(){return this[n]},set(c){this[n]=c}};return{get:s,set(c){const u=s==null?void 0:s.call(this);a==null||a.call(this,c),this.requestUpdate(e,u,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??EO}static _$Ei(){if(this.hasOwnProperty(xh("elementProperties")))return;const e=KJ(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(xh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(xh("properties"))){const n=this.properties,r=[...GJ(n),...WJ(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(wO(s))}else e!==void 0&&n.push(wO(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return FJ(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var a;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const c=(((a=r.converter)==null?void 0:a.toAttribute)!==void 0?r.converter:bE).toAttribute(n,r.type);this._$Em=e,c==null?this.removeAttribute(s):this.setAttribute(s,c),this._$Em=null}}_$AK(e,n){var a,c;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const u=r.getPropertyOptions(s),d=typeof u.converter=="function"?{fromAttribute:u.converter}:((a=u.converter)==null?void 0:a.fromAttribute)!==void 0?u.converter:bE;this._$Em=s,this[s]=d.fromAttribute(n,u.type)??((c=this._$Ej)==null?void 0:c.get(s))??null,this._$Em=null}}requestUpdate(e,n,r){var s;if(e!==void 0){const a=this.constructor,c=this[e];if(r??(r=a.getPropertyOptions(e)),!((r.hasChanged??bP)(c,n)||r.useDefault&&r.reflect&&c===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(a._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:a},c){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,c??n??this[e]),a!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,c]of this._$Ep)this[a]=c;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[a,c]of s){const{wrapped:u}=c,d=this[a];u!==!0||this._$AL.has(a)||d===void 0||this.C(a,void 0,c,d)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var a;return(a=s.hostUpdate)==null?void 0:a.call(s)}),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Kl.elementStyles=[],Kl.shadowRootOptions={mode:"open"},Kl[xh("elementProperties")]=new Map,Kl[xh("finalized")]=new Map,G0==null||G0({ReactiveElement:Kl}),(ao.reactiveElementVersions??(ao.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ph=globalThis,Lm=Ph.trustedTypes,_O=Lm?Lm.createPolicy("lit-html",{createHTML:t=>t}):void 0,wP="$lit$",Fa=`lit$${Math.random().toFixed(9).slice(2)}$`,vP="?"+Fa,ZJ=`<${vP}>`,Rc=document,Cf=()=>Rc.createComment(""),Af=t=>t===null||typeof t!="object"&&typeof t!="function",$1=Array.isArray,QJ=t=>$1(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",W0=`[ 	
\f\r]`,ph=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,CO=/-->/g,AO=/>/g,Ho=RegExp(`>|${W0}(?:([^\\s"'>=/]+)(${W0}*=${W0}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),SO=/'/g,TO=/"/g,EP=/^(?:script|style|textarea|title)$/i,_P=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Sre=_P(1),Tre=_P(2),xu=Symbol.for("lit-noChange"),Nn=Symbol.for("lit-nothing"),NO=new WeakMap,rc=Rc.createTreeWalker(Rc,129);function CP(t,e){if(!$1(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return _O!==void 0?_O.createHTML(e):e}const XJ=(t,e)=>{const n=t.length-1,r=[];let s,a=e===2?"<svg>":e===3?"<math>":"",c=ph;for(let u=0;u<n;u++){const d=t[u];let f,p,g=-1,y=0;for(;y<d.length&&(c.lastIndex=y,p=c.exec(d),p!==null);)y=c.lastIndex,c===ph?p[1]==="!--"?c=CO:p[1]!==void 0?c=AO:p[2]!==void 0?(EP.test(p[2])&&(s=RegExp("</"+p[2],"g")),c=Ho):p[3]!==void 0&&(c=Ho):c===Ho?p[0]===">"?(c=s??ph,g=-1):p[1]===void 0?g=-2:(g=c.lastIndex-p[2].length,f=p[1],c=p[3]===void 0?Ho:p[3]==='"'?TO:SO):c===TO||c===SO?c=Ho:c===CO||c===AO?c=ph:(c=Ho,s=void 0);const w=c===Ho&&t[u+1].startsWith("/>")?" ":"";a+=c===ph?d+ZJ:g>=0?(r.push(f),d.slice(0,g)+wP+d.slice(g)+Fa+w):d+Fa+(g===-2?u:w)}return[CP(t,a+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Sf{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let a=0,c=0;const u=e.length-1,d=this.parts,[f,p]=XJ(e,n);if(this.el=Sf.createElement(f,r),rc.currentNode=this.el.content,n===2||n===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(s=rc.nextNode())!==null&&d.length<u;){if(s.nodeType===1){if(s.hasAttributes())for(const g of s.getAttributeNames())if(g.endsWith(wP)){const y=p[c++],w=s.getAttribute(g).split(Fa),v=/([.?@])?(.*)/.exec(y);d.push({type:1,index:a,name:v[2],strings:w,ctor:v[1]==="."?eee:v[1]==="?"?tee:v[1]==="@"?nee:Ey}),s.removeAttribute(g)}else g.startsWith(Fa)&&(d.push({type:6,index:a}),s.removeAttribute(g));if(EP.test(s.tagName)){const g=s.textContent.split(Fa),y=g.length-1;if(y>0){s.textContent=Lm?Lm.emptyScript:"";for(let w=0;w<y;w++)s.append(g[w],Cf()),rc.nextNode(),d.push({type:2,index:++a});s.append(g[y],Cf())}}}else if(s.nodeType===8)if(s.data===vP)d.push({type:2,index:a});else{let g=-1;for(;(g=s.data.indexOf(Fa,g+1))!==-1;)d.push({type:7,index:a}),g+=Fa.length-1}a++}}static createElement(e,n){const r=Rc.createElement("template");return r.innerHTML=e,r}}function Pu(t,e,n=t,r){var c,u;if(e===xu)return e;let s=r!==void 0?(c=n._$Co)==null?void 0:c[r]:n._$Cl;const a=Af(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==a&&((u=s==null?void 0:s._$AO)==null||u.call(s,!1),a===void 0?s=void 0:(s=new a(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=Pu(t,s._$AS(t,e.values),s,r)),e}class JJ{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??Rc).importNode(n,!0);rc.currentNode=s;let a=rc.nextNode(),c=0,u=0,d=r[0];for(;d!==void 0;){if(c===d.index){let f;d.type===2?f=new Jf(a,a.nextSibling,this,e):d.type===1?f=new d.ctor(a,d.name,d.strings,this,e):d.type===6&&(f=new ree(a,this,e)),this._$AV.push(f),d=r[++u]}c!==(d==null?void 0:d.index)&&(a=rc.nextNode(),c++)}return rc.currentNode=Rc,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class Jf{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=Nn,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Pu(this,e,n),Af(e)?e===Nn||e==null||e===""?(this._$AH!==Nn&&this._$AR(),this._$AH=Nn):e!==this._$AH&&e!==xu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):QJ(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Nn&&Af(this._$AH)?this._$AA.nextSibling.data=e:this.T(Rc.createTextNode(e)),this._$AH=e}$(e){var a;const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Sf.createElement(CP(r.h,r.h[0]),this.options)),r);if(((a=this._$AH)==null?void 0:a._$AD)===s)this._$AH.p(n);else{const c=new JJ(s,this),u=c.u(this.options);c.p(n),this.T(u),this._$AH=c}}_$AC(e){let n=NO.get(e.strings);return n===void 0&&NO.set(e.strings,n=new Sf(e)),n}k(e){$1(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const a of e)s===n.length?n.push(r=new Jf(this.O(Cf()),this.O(Cf()),this,this.options)):r=n[s],r._$AI(a),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class Ey{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,a){this.type=1,this._$AH=Nn,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Nn}_$AI(e,n=this,r,s){const a=this.strings;let c=!1;if(a===void 0)e=Pu(this,e,n,0),c=!Af(e)||e!==this._$AH&&e!==xu,c&&(this._$AH=e);else{const u=e;let d,f;for(e=a[0],d=0;d<a.length-1;d++)f=Pu(this,u[r+d],n,d),f===xu&&(f=this._$AH[d]),c||(c=!Af(f)||f!==this._$AH[d]),f===Nn?e=Nn:e!==Nn&&(e+=(f??"")+a[d+1]),this._$AH[d]=f}c&&!s&&this.j(e)}j(e){e===Nn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class eee extends Ey{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Nn?void 0:e}}class tee extends Ey{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Nn)}}class nee extends Ey{constructor(e,n,r,s,a){super(e,n,r,s,a),this.type=5}_$AI(e,n=this){if((e=Pu(this,e,n,0)??Nn)===xu)return;const r=this._$AH,s=e===Nn&&r!==Nn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,a=e!==Nn&&(r===Nn||s);s&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class ree{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Pu(this,e)}}const K0=Ph.litHtmlPolyfillSupport;K0==null||K0(Sf,Jf),(Ph.litHtmlVersions??(Ph.litHtmlVersions=[])).push("3.3.0");const see=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const a=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new Jf(e.insertBefore(Cf(),a),a,void 0,n??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gc=globalThis;class sm extends Kl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=see(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return xu}}var eI;sm._$litElement$=!0,sm.finalized=!0,(eI=gc.litElementHydrateSupport)==null||eI.call(gc,{LitElement:sm});const Y0=gc.litElementPolyfillSupport;Y0==null||Y0({LitElement:sm});(gc.litElementVersions??(gc.litElementVersions=[])).push("4.2.0");let Dh,oo,co;function Nre(t,e){Dh=document.createElement("style"),oo=document.createElement("style"),co=document.createElement("style"),Dh.textContent=tu(t).core.cssText,oo.textContent=tu(t).dark.cssText,co.textContent=tu(t).light.cssText,document.head.appendChild(Dh),document.head.appendChild(oo),document.head.appendChild(co),AP(e)}function AP(t){oo&&co&&(t==="light"?(oo.removeAttribute("media"),co.media="enabled"):(co.removeAttribute("media"),oo.media="enabled"))}function iee(t){Dh&&oo&&co&&(Dh.textContent=tu(t).core.cssText,oo.textContent=tu(t).dark.cssText,co.textContent=tu(t).light.cssText)}function tu(t){return{core:eu`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${os(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${os((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${os((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${os((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${os((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:eu`
      :root {
        --w3m-color-mix: ${os((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${os(Ki(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${os(Ki(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:eu`
      :root {
        --w3m-color-mix: ${os((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${os(Ki(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${os(Ki(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Ore=eu`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Ire=eu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Rre=eu`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Eh={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},aee=R1({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),oee=R1({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),cee=R1({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});function ep(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const OO=ep({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),IO=ep({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});ep({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});ep({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});ep({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const lee={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},$h={getMethodsByChainNamespace(t){return lee[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[a]=s.split(":");a&&r.add(a)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,a])=>{n[s]&&(n[s].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([s,a])=>{n[s]&&(n[s].chains=a)}),e.events&&Object.entries(e.events).forEach(([s,a])=>{n[s]&&(n[s].events=a)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([a,c])=>{const[u,d]=a.split(":");!u||!d||!n[u]||(n[u].rpcMap||(n[u].rpcMap={}),s.has(u)||(n[u].rpcMap={},s.add(u)),n[u].rpcMap[d]=c)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:a,chainNamespace:c,rpcUrls:u}=s,d=u.default.http[0];r[c]||(r[c]=this.createDefaultNamespace(c));const f=`${c}:${a}`,p=r[c];switch(p.chains.push(f),f){case OO.caipNetworkId:p.chains.push(OO.deprecatedCaipNetworkId);break;case IO.caipNetworkId:p.chains.push(IO.deprecatedCaipNetworkId);break}return p!=null&&p.rpcMap&&d&&(p.rpcMap[a]=d),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await cP.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[a,c]=s.split(":");return`${a}:${c}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const a=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(a,"u").test(t))return!0}else if(r===t)return!0;return!1}};class U1{constructor({provider:e,namespace:n}){this.id=de.CONNECTOR_ID.WALLET_CONNECT,this.name=to.ConnectorNamesMap[de.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=to.ConnectorImageIds[de.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=z.getCaipNetworks.bind(z),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ue.state.universalProviderConfigOverride,s=$h.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Ih.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:uee})}}const uee=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class SP{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>z.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:de.CONNECTOR_ID.AUTH,type:"AUTH",name:de.CONNECTOR_NAMES.AUTH,provider:e,imageId:to.ConnectorImageIds[de.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Te.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var a;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const c=s,u=(a=Te.state.preferredAccountTypes)==null?void 0:a[n.chainNamespace];await c.switchNetwork(n.caipNetworkId);const d=await c.getUser({chainId:n.caipNetworkId,preferredAccountType:u});this.emit("switchNetwork",d)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof U1);if(!e)throw new Error("WalletConnectConnector not found");return e}}class dee extends SP{setUniversalProvider(e){this.addConnector(new U1({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,a,c,u;const n=this.provider,r=((u=(c=(a=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:u.map(d=>{const[,,f]=d.split(":");return f}).filter((d,f,p)=>p.indexOf(d)===f))||[];return Promise.resolve({accounts:r.map(d=>Me.createAccount(e,d,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var a,c,u,d,f;if(!(e.caipNetwork&&gn.BALANCE_SUPPORTED_CHAINS.includes((a=e.caipNetwork)==null?void 0:a.chainNamespace))||(c=e.caipNetwork)!=null&&c.testnet)return{balance:"0.00",symbol:((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""};if(Te.state.balanceLoading&&e.chainId===((d=z.state.activeCaipNetwork)==null?void 0:d.id))return{balance:Te.state.balance||"0.00",symbol:Te.state.balanceSymbol||""};const s=(await Te.fetchTokenBalance()).find(p=>{var g,y;return p.chainId===`${(g=e.caipNetwork)==null?void 0:g.chainNamespace}:${e.chainId}`&&p.symbol===((y=e.caipNetwork)==null?void 0:y.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((f=e.caipNetwork)==null?void 0:f.nativeCurrency.symbol)||""}}async signMessage(e){var c,u,d;const{provider:n,message:r,address:s}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return((c=z.state.activeCaipNetwork)==null?void 0:c.chainNamespace)===de.CHAIN.SOLANA?a=(await n.request({method:"solana_signMessage",params:{message:SR.encode(new TextEncoder().encode(r)),pubkey:s}},(u=z.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)).signature:a=await n.request({method:"personal_sign",params:[r,s]},(d=z.state.activeCaipNetwork)==null?void 0:d.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,a,c,u,d,f;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===de.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Su(n.id)}]}))}catch(p){if(p.code===Eh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||p.code===Eh.ERROR_INVALID_CHAIN_ID||p.code===Eh.ERROR_CODE_DEFAULT||((c=(a=p==null?void 0:p.data)==null?void 0:a.originalError)==null?void 0:c.code)===Eh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((f=r.provider)==null?void 0:f.request({method:"wallet_addEthereumChain",params:[{chainId:Su(n.id),rpcUrls:[(u=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:u.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(d=n.blockExplorers)==null?void 0:d.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class hee{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,a,c,u;if(n){const d=(a=(s=z.getNetworkData(n))==null?void 0:s.requestedCaipNetworks)==null?void 0:a.find(p=>p.id===r);if(d)return d;const f=(c=z.getNetworkData(n))==null?void 0:c.caipNetwork;return f||((u=z.getRequestedCaipNetworks(n).filter(p=>p.chainNamespace===n))==null?void 0:u[0])}return z.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>z.getCaipNetworks(n),this.getActiveChainNamespace=()=>z.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{z.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>z.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>z.state.activeChain===n||!n?z.state.activeCaipAddress:z.getAccountProp("caipAddress",n),this.setClientId=n=>{Be.setClientId(n)},this.getProvider=n=>St.getProvider(n),this.getProviderType=n=>St.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=Te.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{Te.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{Te.setBalance(n,r,s)},this.setProfileName=(n,r)=>{Te.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Te.setProfileImage(n,r)},this.setUser=(n,r)=>{Te.setUser(n,r),ue.state.enableEmbedded&&tn.close()},this.resetAccount=n=>{Te.resetAccount(n)},this.setCaipNetwork=n=>{z.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{z.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{Te.setAllAccounts(n,r),ue.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{Te.setStatus(n,r),Le.isConnected()?be.setConnectionStatus("connected"):be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>z.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Le.state.allConnectors,...n];Le.setConnectors(r)},this.fetchIdentity=n=>Be.fetchIdentity(n),this.getReownName=n=>cP.getNamesForAddress(n),this.getConnectors=()=>Le.getConnectors(),this.getConnectorImage=n=>mI.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const s=St.getProviderId(r),a=n?{...n,type:s}:void 0;Te.setConnectedWalletInfo(a,r)},this.getIsConnectedState=()=>!!z.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{Te.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{Te.removeAddressLabel(n,r)},this.getAddress=n=>z.state.activeChain===n||!n?Te.state.address:z.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>z.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{z.resetNetwork(n)},this.addConnector=n=>{Le.addConnector(n)},this.resetWcConnection=()=>{Mt.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Te.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Te.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{z.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{Te.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{ue.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(a=>a.namespace).filter(a=>!!a);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(a=>a.chainNamespace);return[...new Set(s)]}async initialize(e){var n,r,s;this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),oi.set({initialized:!0}),await this.syncExistingConnection(),((n=ue.state.features)!=null&&n.email||Array.isArray((r=ue.state.features)==null?void 0:r.socials)&&((s=ue.state.features)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await Ue.fetchAllowedOrigins();if(e&&Me.isClient()){const n=window.location.origin;$h.isOriginAllowed(n,e,Eh.DEFAULT_ALLOWED_ANCESTORS)||ir.open(Sn.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else ir.open(Sn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,Lt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Kn.setThemeMode(e.themeMode),e.themeVariables&&Kn.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");z.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&z.setActiveCaipNetwork(n)}initializeConnectionController(e){Mt.setWcBasic(e.basic??!1)}initializeConnectorController(){Le.initialize(this.chainNamespaces)}initializeOptionsController(e){var c;ue.setDebug(e.debug!==!1),ue.setEnableWalletConnect(e.enableWalletConnect!==!1),ue.setEnableWalletGuide(e.enableWalletGuide!==!1),ue.setEnableWallets(e.enableWallets!==!1),ue.setEIP6963Enabled(e.enableEIP6963!==!1),ue.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ue.setEnableAuthLogger(e.enableAuthLogger!==!1),ue.setCustomRpcUrls(e.customRpcUrls),ue.setSdkVersion(e.sdkVersion),ue.setProjectId(e.projectId),ue.setEnableEmbedded(e.enableEmbedded),ue.setAllWallets(e.allWallets),ue.setIncludeWalletIds(e.includeWalletIds),ue.setExcludeWalletIds(e.excludeWalletIds),ue.setFeaturedWalletIds(e.featuredWalletIds),ue.setTokens(e.tokens),ue.setTermsConditionsUrl(e.termsConditionsUrl),ue.setPrivacyPolicyUrl(e.privacyPolicyUrl),ue.setCustomWallets(e.customWallets),ue.setFeatures(e.features),ue.setAllowUnsupportedChain(e.allowUnsupportedChain),ue.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ue.setDefaultAccountTypes(e.defaultAccountTypes);const n=be.getPreferredAccountTypes(),r={...ue.state.defaultAccountTypes,...n};Te.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),ue.setMetadata(e.metadata),ue.setDisableAppend(e.disableAppend),ue.setEnableEmbedded(e.enableEmbedded),ue.setSIWX(e.siwx),!e.projectId){ir.open(Sn.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((c=e.adapters)==null?void 0:c.find(u=>u.namespace===de.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ue.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,s;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=ii.getUnsupportedNetwork(`${n}:${e}`);z.setActiveCaipNetwork(r)}}getDefaultNetwork(){return ii.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return ii.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return ii.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(s=>{var a;return s.id===((a=e.defaultNetwork)==null?void 0:a.id)});return n?ii.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var a;const e=z.state.activeChain,n=this.getAdapter(e),r=(a=this.getCaipNetwork(e))==null?void 0:a.id;if(!n)throw new Error("Adapter not found");const s=await n.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),be.setConnectedNamespaces([...z.state.chains.keys()]),this.chainNamespaces.forEach(c=>{Le.setConnectorId(Bt.CONNECTOR_TYPE_WALLET_CONNECT,c)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:s,chain:a,caipNetwork:c})=>{var w,v,E,_,S,T;const u=z.state.activeChain,d=a||u,f=this.getAdapter(d);if(a&&a!==u&&!c){const O=this.getCaipNetworks().find(P=>P.chainNamespace===a);O&&this.setCaipNetwork(O)}if(!f)throw new Error("Adapter not found");const p=this.getCaipNetwork(d),g=await f.connect({id:e,info:n,type:r,provider:s,chainId:(c==null?void 0:c.id)||(p==null?void 0:p.id),rpcUrl:((E=(v=(w=c==null?void 0:c.rpcUrls)==null?void 0:w.default)==null?void 0:v.http)==null?void 0:E[0])||((T=(S=(_=p==null?void 0:p.rpcUrls)==null?void 0:_.default)==null?void 0:S.http)==null?void 0:T[0])});if(!g)return;be.addConnectedNamespace(d),this.syncProvider({...g,chainNamespace:d});const{accounts:y}=await f.getAccounts({namespace:d,id:e});this.setAllAccounts(y,d),this.setStatus("connected",d),this.syncConnectedWalletInfo(d)},reconnectExternal:async({id:e,info:n,type:r,provider:s})=>{var u;const a=z.state.activeChain,c=this.getAdapter(a);c!=null&&c.reconnect&&(await(c==null?void 0:c.reconnect({id:e,info:n,type:r,provider:s,chainId:(u=this.getCaipNetwork())==null?void 0:u.id})),be.addConnectedNamespace(a),this.syncConnectedWalletInfo(a))},disconnect:async e=>{const n=e||z.state.activeChain,r=this.getAdapter(n),s=St.getProvider(n),a=St.getProviderId(n);await(r==null?void 0:r.disconnect({provider:s,providerType:a})),be.removeConnectedNamespace(n),St.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(z.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:Te.state.address,provider:St.getProvider(z.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const n=e.chainNamespace;if(gn.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(z.state.activeChain),s=St.getProvider(n),a=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(a==null?void 0:a.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===de.CHAIN.EVM){const n=this.getAdapter(z.state.activeChain),r=St.getProvider(z.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const a=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:s}));return(a==null?void 0:a.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:Te.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:z.state.activeChain}),Te.state.profileImage||!1},getEnsAddress:async e=>await $h.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(z.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),a=St.getProvider(z.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const c=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:a,caipAddress:s}));return c==null?void 0:c.hash},parseUnits:(e,n)=>{const r=this.getAdapter(z.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(z.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(z.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(z.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(z.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(z.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Mt.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,a,c;if(St.getProviderId(z.state.activeChain)===Bt.CONNECTOR_TYPE_WALLET_CONNECT){const u=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((c=(a=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:a.peer)==null?void 0:c.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(u)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=St.getProvider(n),a=St.getProviderId(n);if(e.chainNamespace===z.state.activeChain){const c=this.getAdapter(n);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:s,providerType:a}))}else if(this.setCaipNetwork(e),a===Bt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(n);c&&this.syncAccount({address:c,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(a=>{const{chainId:c,chainNamespace:u}=Oa.parseCaipAddress(a);return`${u}:${c}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var a;const s=e==null?void 0:e.find(c=>c.namespace===r);return s?(s.construct({namespace:r,projectId:(a=this.options)==null?void 0:a.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new dee({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=be.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(be.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:s,chainId:a})=>{const c=this.getCaipNetworks().find(f=>f.id===a||f.caipNetworkId===a),u=z.state.activeChain===e,d=z.getAccountProp("address",e);if(c){const f=u&&s?s:d;f&&this.syncAccount({address:f,chainId:c.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("pendingTransactions",()=>{const s=Te.state.address,a=z.state.activeCaipNetwork;!s||!(a!=null&&a.id)||this.updateNativeBalance(s,a.id,a.chainNamespace)}),n.on("accountChanged",({address:s,chainId:a})=>{var u,d;const c=z.state.activeChain===e;c&&a?this.syncAccount({address:s,chainId:a,chainNamespace:e}):c&&((u=z.state.activeCaipNetwork)!=null&&u.id)?this.syncAccount({address:s,chainId:(d=z.state.activeCaipNetwork)==null?void 0:d.id,chainNamespace:e}):this.syncAccountInfo(s,a,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Le.getConnectorId(e);switch(this.setStatus("connecting",e),n){case de.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case de.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var c,u,d;const n=this.getAdapter(e),r=Le.getConnectorId(e),s=this.getCaipNetwork(e),a=Le.getConnectors(e).find(f=>f.id===r);try{if(!n||!a)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const f=await(n==null?void 0:n.syncConnection({namespace:e,id:a.id,chainId:s.id,rpcUrl:(d=(u=(c=s==null?void 0:s.rpcUrls)==null?void 0:c.default)==null?void 0:u.http)==null?void 0:d[0]}));if(f){const p=await(n==null?void 0:n.getAccounts({namespace:e,id:a.id}));p&&p.accounts.length>0?this.setAllAccounts(p.accounts,e):this.setAllAccounts([Me.createAccount(e,f.address,"eoa")],e),this.syncProvider({...f,chainNamespace:e}),await this.syncAccount({...f,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var u,d,f,p,g;const r=this.getAdapter(n),s=((p=(f=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:f[n])==null?void 0:p.accounts)||[],a=(g=z.state.activeCaipNetwork)==null?void 0:g.id,c=s.find(y=>{const{chainId:w}=Oa.parseCaipAddress(y);return w===(a==null?void 0:a.toString())})||s[0];if(c){const y=Oa.validateCaipAddress(c),{chainId:w,address:v}=Oa.parseCaipAddress(y);if(St.setProviderId(n,Bt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&z.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==de.CHAIN.EVM){const E=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:z.state.activeCaipNetwork});St.setProvider(n,E)}else St.setProvider(n,this.universalProvider);Le.setConnectorId(de.CONNECTOR_ID.WALLET_CONNECT,n),be.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:v,chainId:w,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await z.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,s,a,c,u;const n=(u=(c=(a=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:u.map(d=>{const{address:f}=Oa.parseCaipAddress(d);return f}).filter((d,f,p)=>p.indexOf(d)===f);n&&this.setAllAccounts(n.map(d=>Me.createAccount(e,d,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:s}){St.setProviderId(s,e),St.setProvider(s,n),Le.setConnectorId(r,s)}async syncAllAccounts(e){const n=Le.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var g,y;const n=e.chainNamespace===z.state.activeChain,r=z.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:a,chainNamespace:c}=e,{chainId:u}=be.getActiveNetworkProps(),d=a||u,f=((g=z.state.activeCaipNetwork)==null?void 0:g.name)===de.UNSUPPORTED_NETWORK_NAME,p=z.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(f&&!p)&&d){let w=this.getCaipNetworks().find(_=>_.id.toString()===d.toString()),v=this.getCaipNetworks().find(_=>_.chainNamespace===c);if(!p&&!w&&!v){const _=this.getApprovedCaipNetworkIds()||[],S=_.find(O=>{var P;return((P=Oa.parseCaipNetworkId(O))==null?void 0:P.chainId)===d.toString()}),T=_.find(O=>{var P;return((P=Oa.parseCaipNetworkId(O))==null?void 0:P.chainNamespace)===c});w=this.getCaipNetworks().find(O=>O.caipNetworkId===S),v=this.getCaipNetworks().find(O=>O.caipNetworkId===T||"deprecatedCaipNetworkId"in O&&O.deprecatedCaipNetworkId===T)}const E=w||v;(E==null?void 0:E.chainNamespace)===z.state.activeChain?ue.state.enableNetworkSwitch&&!ue.state.allowUnsupportedChain&&((y=z.state.activeCaipNetwork)==null?void 0:y.name)===de.UNSUPPORTED_NETWORK_NAME?z.showUnsupportedChainUI():this.setCaipNetwork(E):n||r&&this.setCaipNetworkOfNamespace(r,c),this.syncConnectedWalletInfo(c),wy.isLowerCaseMatch(s,Te.state.address)||this.syncAccountInfo(s,E==null?void 0:E.id,c),n?await this.syncBalance({address:s,chainId:E==null?void 0:E.id,chainNamespace:c}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:c})}}async syncAccountInfo(e,n,r){const s=this.getCaipAddress(r),a=n||(s==null?void 0:s.split(":")[1]);if(!a)return;const c=`${r}:${a}:${e}`;this.setCaipAddress(c,r),await this.syncIdentity({address:e,chainId:a,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var s;const n=Le.getConnectorId(e),r=St.getProviderId(e);if(r===Bt.CONNECTOR_TYPE_ANNOUNCED||r===Bt.CONNECTOR_TYPE_INJECTED){if(n){const a=this.getConnectors().find(c=>c.id===n);if(a){const{info:c,name:u,imageUrl:d}=a,f=d||this.getConnectorImage(a);this.setConnectedWalletInfo({name:u,icon:f,...c},e)}}}else if(r===Bt.CONNECTOR_TYPE_WALLET_CONNECT){const a=St.getProvider(e);a!=null&&a.session&&this.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(s=a.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(n)if(n===de.CONNECTOR_ID.COINBASE){const a=this.getConnectors().find(c=>c.id===de.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(a)},e)}else this.setConnectedWalletInfo({name:n},e)}async syncBalance(e){!Uh.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const s=this.getAdapter(r),a=z.getCaipNetworkByNamespace(r,n);if(s){const c=await s.getBalance({address:e,chainId:n,caipNetwork:a,tokens:this.options.tokens});this.setBalance(c.balance,c.symbol,r)}}async initializeUniversalAdapter(){var r,s,a,c,u,d,f,p,g,y;const e=wQ.createLogger((w,...v)=>{w&&this.handleAlertError(w),console.error(...v)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(a=this.options)==null?void 0:a.metadata.name:"",description:(c=this.options)!=null&&c.metadata?(u=this.options)==null?void 0:u.metadata.description:"",url:(d=this.options)!=null&&d.metadata?(f=this.options)==null?void 0:f.metadata.url:"",icons:(p=this.options)!=null&&p.metadata?(g=this.options)==null?void 0:g.metadata.icons:[""]},logger:e};ue.setManualWCControl(!!((y=this.options)!=null&&y.manualWCControl)),this.universalProvider=this.options.universalProvider??await UW.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Mt.setUri(e)}),this.universalProvider.on("connect",Mt.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Mt.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if($h.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&Me.isCaipAddress(r[0])&&this.syncAccount(Oa.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Me.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Lt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(Sn.UniversalProviderErrors).find(([,{message:u}])=>e.message.includes(u)),[r,s]=n??[],{message:a,alertErrorKey:c}=s??{};if(r&&a&&!this.reportedAlertErrors[r]){const u=Sn.ALERT_ERRORS[c];u&&(ir.open(u,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var s;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Mt.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return tn.open({...e,data:{swap:e.arguments}})}return tn.open(e)}async close(e=!1){await this.injectModalUi(),tn.close(e)}setLoading(e,n){tn.setLoading(e,n)}async disconnect(e){await Mt.disconnect(e)}getSIWX(){return ue.state.siwx}getError(){return""}getChainId(){var e;return(e=z.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){ir.open(Sn.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await z.switchActiveNetwork(n)}getWalletProvider(){return z.state.activeChain?St.state.providers[z.state.activeChain]:null}getWalletProviderType(){return St.getProviderId(z.state.activeChain)}subscribeProviders(e){return St.subscribeProviders(e)}getThemeMode(){return Kn.state.themeMode}getThemeVariables(){return Kn.state.themeVariables}setThemeMode(e){Kn.setThemeMode(e),AP(Kn.state.themeMode)}setTermsConditionsUrl(e){ue.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ue.setPrivacyPolicyUrl(e)}setThemeVariables(e){Kn.setThemeVariables(e),iee(Kn.state.themeVariables)}subscribeTheme(e){return Kn.subscribe(e)}getWalletInfo(){return Te.state.connectedWalletInfo}getAccount(e){var c;const n=Le.getAuthConnector(e),r=z.getAccountData(e),s=z.state.activeChain,a=be.getConnectedConnectorId(e);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Me.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&a===de.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:be.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(c=r.preferredAccountTypes)==null?void 0:c[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const s=this.getAccount(n);s&&e(s)};n?z.subscribeChainProp("accountState",r,n):z.subscribe(r),Le.subscribe(r)}subscribeNetwork(e){return z.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return Te.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Te.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){z.subscribeKey("activeCaipNetwork",e)}getState(){return oi.state}subscribeState(e){return oi.subscribe(e)}showErrorMessage(e){Ds.showError(e)}showSuccessMessage(e){Ds.showSuccess(e)}getEvent(){return{...Lt.state}}subscribeEvents(e){return Lt.subscribe(e)}replace(e){bt.replace(e)}redirect(e){bt.push(e)}popTransactionStack(e){bt.popTransactionStack(e)}isOpen(){return tn.state.open}isTransactionStackEmpty(){return bt.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=bt.state.transactionStack[bt.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){ue.setFeatures(e)}updateOptions(e){const r={...ue.state||{},...e};ue.setOptions(r)}setConnectMethodsOrder(e){ue.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ue.setWalletFeaturesOrder(e)}setCollapseWallets(e){ue.setCollapseWallets(e)}setSocialsOrder(e){ue.setSocialsOrder(e)}getConnectMethodsOrder(){return yE.getConnectOrderMethod(ue.state.features,Le.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||z.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&z.removeNetwork(e,n)}}let RO=!1;class fee extends hee{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{zr.checkIfRequestExists(n)?zr.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Ln.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Ln.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close(!0):this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const s=zr.checkIfRequestIsSafe(r),a=Te.state.address,c=z.state.activeCaipNetwork;s||(this.isTransactionStackEmpty()?(this.close(!0),a&&(c!=null&&c.id)&&this.updateNativeBalance(a,c.id,c.chainNamespace)):(this.popTransactionStack(),a&&(c!=null&&c.id)&&this.updateNativeBalance(a,c.id,c.chainNamespace)))}),e.onNotConnected(()=>{const n=z.state.activeChain;Le.getConnectorId(n)===de.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(async n=>{var u,d;const r=z.state.activeChain,s=r===de.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,a=n.preferredAccountType||((u=Te.state.preferredAccountTypes)==null?void 0:u[r])||ue.state.defaultAccountTypes[r];wy.isLowerCaseMatch(n.address,Te.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...Te.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=(d=n.accounts)==null?void 0:d.map(f=>{var p;return Me.createAccount(r,f.address,f.type||((p=Te.state.preferredAccountTypes)==null?void 0:p[r])||ue.state.defaultAccountTypes[r])});this.setAllAccounts(c||[Me.createAccount(r,n.address,n.preferredAccountType||a)],r),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...Te.state.user||{},username:n},z.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,z.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,z.state.activeChain)})}async syncAuthConnector(e,n){var p,g,y,w;const r=de.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const s=e.getLoginEmailUsed();this.setLoading(s,n),s&&this.setStatus("connecting",n);const a=e.getEmail(),c=e.getUsername();this.setUser({...((p=Te.state)==null?void 0:p.user)||{},username:c,email:a},z.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:u}=await e.isConnected(),d=Kn.getSnapshot(),f=ue.getSnapshot();e.syncDappData({metadata:f.metadata,sdkVersion:f.sdkVersion,projectId:f.projectId,sdkType:f.sdkType}),e.syncTheme({themeMode:d.themeMode,themeVariables:d.themeVariables,w3mThemeVariables:Ki(d.themeVariables,d.themeMode)}),n&&r&&(u&&((g=this.connectionControllerClient)!=null&&g.connectExternal)?(await((w=this.connectionControllerClient)==null?void 0:w.connectExternal({id:de.CONNECTOR_ID.AUTH,info:{name:de.CONNECTOR_ID.AUTH},type:Bt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(y=z.state.activeCaipNetwork)==null?void 0:y.id,chain:n})),this.setStatus("connected",n)):Le.getConnectorId(n)===de.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),be.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!Me.isTelegram())return;const r=be.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const a=new URL(window.location.href).searchParams.get("result_uri");if(!a)return;Te.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const c=Le.getAuthConnector();r&&c&&(this.setLoading(!0,e),await c.provider.connectSocial(a),await Mt.connectExternal(c,c.chain),be.setConnectedSocialProvider(r),be.removeTelegramSocialProvider(),Lt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var c,u,d,f,p,g,y,w,v,E,_,S,T,O,P;if(!de.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((u=(c=this.options)==null?void 0:c.features)==null?void 0:u.email)===void 0?gn.DEFAULT_FEATURES.email:(f=(d=this.options)==null?void 0:d.features)==null?void 0:f.email,s=(g=(p=this.options)==null?void 0:p.features)!=null&&g.socials?((v=(w=(y=this.options)==null?void 0:y.features)==null?void 0:w.socials)==null?void 0:v.length)>0:((_=(E=this.options)==null?void 0:E.features)==null?void 0:_.socials)??gn.DEFAULT_FEATURES.socials,a=r||s;!this.authProvider&&((S=this.options)!=null&&S.projectId)&&a&&(this.authProvider=pc.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(T=this.getCaipNetwork(e))==null?void 0:T.caipNetworkId,abortController:Sn.EmbeddedWalletAbortController,onTimeout:N=>{N==="iframe_load_failed"?ir.open(Sn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):N==="iframe_request_timeout"?ir.open(Sn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):N==="unverified_domain"&&ir.open(Sn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),oi.subscribeOpen(N=>{var A;!N&&this.isTransactionStackEmpty()&&((A=this.authProvider)==null||A.rejectRpcRequests())}),e===de.CHAIN.EVM&&((O=Te.state.preferredAccountTypes)!=null&&O.eip155)&&this.authProvider.setPreferredAccount((P=Te.state.preferredAccountTypes)==null?void 0:P.eip155),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Ue.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var a,c;if(!e)return;const n=z.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===z.state.activeChain&&s){const u=this.getAdapter(r),d=St.getProvider(r),f=St.getProviderId(r);await(u==null?void 0:u.switchNetwork({caipNetwork:e,provider:d,providerType:f})),this.setCaipNetwork(e)}else{const d=St.getProviderId(n)===Bt.CONNECTOR_TYPE_AUTH,f=St.getProviderId(r),p=f===Bt.CONNECTOR_TYPE_AUTH,g=de.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((d||p)&&g)try{z.state.activeChain=e.chainNamespace,await((c=(a=this.connectionControllerClient)==null?void 0:a.connectExternal)==null?void 0:c.call(a,{id:de.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Bt.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const w=this.getAdapter(r);await(w==null?void 0:w.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:f}))}else f===Bt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var c;const s=`${r}:${n}`,a=(c=this.caipNetworks)==null?void 0:c.find(u=>u.caipNetworkId===s);if(r!==de.CHAIN.EVM||a!=null&&a.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:u,avatar:d}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(u,r),this.setProfileImage(d,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=St.getProviderId(e);if(n===Bt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=be.getConnectedSocialProvider()??"email",a=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:a,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!RO&&Me.isClient()){const e={...gn.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(rr(()=>import("./embedded-wallet-BiURk01W.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e.email&&n.push(rr(()=>import("./email-4evD2LSC.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]))),e.socials&&n.push(rr(()=>import("./socials-BWIxVUtB.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]))),e.swaps&&n.push(rr(()=>import("./swaps-CW-Y7Mmt.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]))),e.send&&n.push(rr(()=>import("./send-95G_Ovcf.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]))),e.receive&&n.push(rr(()=>import("./receive-D6vJ-63h.js"),__vite__mapDeps([28,1,29,3,19]))),e.onramp&&n.push(rr(()=>import("./onramp-1QywCPCk.js"),__vite__mapDeps([30,1,31,20,10,3,5,32,15,4,16,33,11,9,18,6]))),e.history&&n.push(rr(()=>import("./transactions-in_VhhVK.js"),__vite__mapDeps([34,1,35,31,20,10,11,3]))),e.pay&&n.push(rr(()=>import("./index-C--gPgZw.js"),__vite__mapDeps([36,1,9,5,37,3,10,7,32,27,18])))),await Promise.all([...n,rr(()=>import("./index-wfLjs5MS.js"),__vite__mapDeps([38,1,3,5,26,10,39,23,7,32,9,8,37,35,31,20,11,22,4,6,27,13,15,16,17,2,18,29,19,33])),rr(()=>import("./w3m-modal-eVnCEwpr.js"),__vite__mapDeps([40,1,7,3,10,8,5,23,39]))]),!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!ue.state.disableAppend&&!ue.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}RO=!0}}}const pee="1.7.4";let Z0;function gee(t){return Z0||(Z0=new fee({...t,sdkVersion:Me.generateSdkVersion(t.adapters??[],"react",pee)})),Z0}function fs(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}const im="2.17.2",mee=()=>`@wagmi/core@${im}`;var TP=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},jm,NP;let ra=class wE extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return mee()}constructor(e,n={}){var a;super(),jm.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof wE?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof wE&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return TP(this,jm,"m",NP).call(this,this,e)}};jm=new WeakSet,NP=function t(e,n){return n!=null&&n(e)?e:e.cause?TP(this,jm,"m",t).call(this,e.cause,n):e};class Tf extends ra{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class yee extends ra{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class bee extends ra{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class wee extends ra{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class vee extends ra{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class Eee extends ra{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function xO(t,e){var r;let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new yee;try{t.setState(d=>({...d,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...a}=e,c=await n.connect(a),u=c.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),t.setState(d=>({...d,connections:new Map(d.connections).set(n.uid,{accounts:u,chainId:c.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:u,chainId:c.chainId}}catch(s){throw t.setState(a=>({...a,status:a.current?"connected":"disconnected"})),s}}async function tp(t,e={}){let n;if(e.connector){const{connector:f}=e;if(t.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new Eee({connector:f});const[p,g]=await Promise.all([f.getAccounts().catch(y=>{if(e.account===null)return[];throw y}),f.getChainId()]);n={accounts:p,chainId:g,connector:f}}else n=t.state.connections.get(t.state.current);if(!n)throw new bee;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new vee({connectionChainId:n.chainId,connectorChainId:s});const a=n.connector;if(a.getClient)return a.getClient({chainId:r});const c=pi(e.account??n.accounts[0]);if(c&&(c.address=ec(c.address)),e.account&&!n.accounts.some(f=>f.toLowerCase()===c.address.toLowerCase()))throw new wee({address:c.address,connector:a});const u=t.chains.find(f=>f.id===r),d=await n.connector.getProvider({chainId:r});return rP({account:c,chain:u,name:"Connector Client",transport:f=>GZ(d)({...f,retryCount:0})})}async function _ee(t,e={}){var s,a;let n;if(e.connector)n=e.connector;else{const{connections:c,current:u}=t.state,d=c.get(u);n=d==null?void 0:d.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(c=>{if(r.size===0)return{...c,connections:new Map,current:null,status:"disconnected"};const u=r.values().next().value;return{...c,connections:new Map(r),current:u.connector.uid}});{const c=t.state.current;if(!c)return;const u=(s=t.state.connections.get(c))==null?void 0:s.connector;if(!u)return;await((a=t.storage)==null?void 0:a.setItem("recentConnectorId",u.id))}}async function OP(t,e){const{chainId:n,connector:r,...s}=e;let a;e.account?a=e.account:a=(await tp(t,{account:e.account,chainId:n,connector:r})).account;const c=t.getClient({chainId:n});return fs(c,q3,"estimateGas")({...s,account:a})}function IP(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(cY[t])}function Nf(t){const e=t.state.current,n=t.state.connections.get(e),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],a=t.chains.find(u=>u.id===(n==null?void 0:n.chainId)),c=t.state.status;switch(c){case"connected":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:c};case"reconnecting":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:c};case"connecting":return{address:s,addresses:r,chain:a,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:c};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:c}}}async function Cee(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...a}=e,c=t.getClient({chainId:r});return fs(c,eQ,"multicall")({allowFailure:n,contracts:s,...a})}function Aee(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return fs(s,J3,"readContract")(r)}async function See(t,e){var u;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...a}=e,c=e.contracts;try{const d={};for(const[y,w]of c.entries()){const v=w.chainId??t.state.chainId;d[v]||(d[v]=[]),(u=d[v])==null||u.push({contract:w,index:y})}const f=()=>Object.entries(d).map(([y,w])=>Cee(t,{...a,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(y),contracts:w.map(({contract:v})=>v)})),p=(await Promise.all(f())).flat(),g=Object.values(d).flatMap(y=>y.map(({index:w})=>w));return p.reduce((y,w,v)=>(y&&(y[g[v]]=w),y),[])}catch(d){if(d instanceof N3)throw d;const f=()=>c.map(p=>Aee(t,{...p,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(f())).map(p=>p.status==="fulfilled"?{result:p.value,status:"success"}:{error:p.reason,result:void 0,status:"failure"}):await Promise.all(f())}}async function Tee(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:a,token:c,unit:u="ether"}=e;if(c)try{return await PO(t,{balanceAddress:n,chainId:a,symbolType:"string",tokenAddress:c})}catch(y){if(y.name==="ContractFunctionExecutionError"){const w=await PO(t,{balanceAddress:n,chainId:a,symbolType:"bytes32",tokenAddress:c}),v=o3(Yf(w.symbol,{dir:"right"}));return{...w,symbol:v}}throw y}const d=t.getClient({chainId:a}),p=await fs(d,F3,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),g=t.chains.find(y=>y.id===a)??d.chain;return{decimals:g.nativeCurrency.decimals,formatted:Gu(p,IP(u)),symbol:g.nativeCurrency.symbol,value:p}}async function PO(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:a,unit:c}=e,u={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:a},[d,f,p]=await See(t,{allowFailure:!1,contracts:[{...u,functionName:"balanceOf",args:[n],chainId:r},{...u,functionName:"decimals",chainId:r},{...u,functionName:"symbol",chainId:r}]}),g=Gu(d??"0",IP(c??f));return{decimals:f,formatted:g,symbol:p,value:d}}function DO(t){return t.state.chainId}function Of(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Of(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(a&&!Of(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}let Fg=[];function Vo(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Of(Fg,e)?Fg:(Fg=e,e)}async function Nee(t,e){const{account:n,chainId:r,...s}=e,a=n??Nf(t).address,c=t.getClient({chainId:r});return fs(c,T1,"prepareTransactionRequest")({...s,...a?{account:a}:{}})}let Q0=!1;async function vE(t,e={}){var f,p;if(Q0)return[];Q0=!0,t.setState(g=>({...g,status:g.current?"reconnecting":"connecting"}));const n=[];if((f=e.connectors)!=null&&f.length)for(const g of e.connectors){let y;typeof g=="function"?y=t._internal.connectors.setup(g):y=g,n.push(y)}else n.push(...t.connectors);let r;try{r=await((p=t.storage)==null?void 0:p.getItem("recentConnectorId"))}catch{}const s={};for(const[,g]of t.state.connections)s[g.connector.id]=1;r&&(s[r]=0);const a=Object.keys(s).length>0?[...n].sort((g,y)=>(s[g.id]??10)-(s[y.id]??10)):n;let c=!1;const u=[],d=[];for(const g of a){const y=await g.getProvider().catch(()=>{});if(!y||d.some(E=>E===y)||!await g.isAuthorized())continue;const v=await g.connect({isReconnecting:!0}).catch(()=>null);v&&(g.emitter.off("connect",t._internal.events.connect),g.emitter.on("change",t._internal.events.change),g.emitter.on("disconnect",t._internal.events.disconnect),t.setState(E=>{const _=new Map(c?E.connections:new Map).set(g.uid,{accounts:v.accounts,chainId:v.chainId,connector:g});return{...E,current:c?E.current:g.uid,connections:_}}),u.push({accounts:v.accounts,chainId:v.chainId,connector:g}),d.push(y),c=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(c?t.setState(g=>({...g,status:"connected"})):t.setState(g=>({...g,connections:new Map,current:null,status:"disconnected"}))),Q0=!1,u}async function RP(t,e){const{account:n,chainId:r,connector:s,...a}=e;let c;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?c=t.getClient({chainId:r}):c=await tp(t,{account:n??void 0,chainId:r,connector:s}),await fs(c,tP,"sendTransaction")({...a,...n?{account:n}:{},chain:r?{id:r}:null,gas:a.gas??void 0})}async function xP(t,e){const{account:n,connector:r,...s}=e;let a;return typeof n=="object"&&n.type==="local"?a=t.getClient():a=await tp(t,{account:n,connector:r}),fs(a,sQ,"signMessage")({...s,...n?{account:n}:{}})}class La extends ra{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class Oee extends ra{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function $O(t,e){var c;const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(((c=e.connector)==null?void 0:c.uid)??t.state.current);if(s){const u=s.connector;if(!u.switchChain)throw new Oee({connector:u});return await u.switchChain({addEthereumChainParameter:n,chainId:r})}const a=t.chains.find(u=>u.id===r);if(!a)throw new Tf;return t.setState(u=>({...u,chainId:r})),a}function PP(t,e){const{onChange:n}=e;return t.subscribe(()=>Nf(t),n,{equalityFn(r,s){const{connector:a,...c}=r,{connector:u,...d}=s;return Of(c,d)&&(a==null?void 0:a.id)===(u==null?void 0:u.id)&&(a==null?void 0:a.uid)===(u==null?void 0:u.uid)}})}function Iee(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function Ree(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function xee(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const a=d=>{s&&s();const f=t.getClient({chainId:d});return s=fs(f,rQ,"watchPendingTransactions")(r),s},c=a(e.chainId);let u;return n&&!e.chainId&&(u=t.subscribe(({chainId:d})=>d,async d=>a(d))),()=>{c==null||c(),u==null||u()}}async function Pee(t,e){const{chainId:n,timeout:r=0,...s}=e,a=t.getClient({chainId:n}),u=await fs(a,nQ,"waitForTransactionReceipt")({...s,timeout:r});if(u.status==="reverted"){const f=await fs(a,aP,"getTransaction")({hash:u.transactionHash}),g=await fs(a,X3,"call")({...f,data:f.input,gasPrice:f.type!=="eip1559"?f.gasPrice:void 0,maxFeePerGas:f.type==="eip1559"?f.maxFeePerGas:void 0,maxPriorityFeePerGas:f.type==="eip1559"?f.maxPriorityFeePerGas:void 0}),y=g!=null&&g.data?o3(`0x${g.data.substring(138)}`):"unknown reason";throw new Error(y)}return{...u,chainId:a.chain.id}}async function Dee(t,e){const{account:n,chainId:r,connector:s,...a}=e;let c;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?c=t.getClient({chainId:r}):c=await tp(t,{account:n??void 0,chainId:r,connector:s}),await fs(c,jZ,"writeContract")({...a,...n?{account:n}:{},chain:r?{id:r}:null})}function xre(t){return t}_y.type="injected";function _y(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const d=t.target;if(typeof d=="function"){const f=d();if(f)return f}return typeof d=="object"?d:typeof d=="string"?{...$ee[d]??{id:d,name:`${d[0].toUpperCase()}${d.slice(1)}`,provider:`is${d[0].toUpperCase()}${d.slice(1)}`}}:{id:"injected",name:"Injected",provider(f){return f==null?void 0:f.ethereum}}}let s,a,c,u;return d=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:_y.type,async setup(){const f=await this.getProvider();f!=null&&f.on&&t.target&&(c||(c=this.onConnect.bind(this),f.on("connect",c)),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)))},async connect({chainId:f,isReconnecting:p}={}){var w,v,E,_,S,T;const g=await this.getProvider();if(!g)throw new La;let y=[];if(p)y=await this.getAccounts().catch(()=>[]);else if(e)try{y=(_=(E=(v=(w=(await g.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:w.caveats)==null?void 0:v[0])==null?void 0:E.value)==null?void 0:_.map(P=>ec(P)),y.length>0&&(y=await this.getAccounts())}catch(O){const P=O;if(P.code===hn.code)throw new hn(P);if(P.code===io.code)throw P}try{!(y!=null&&y.length)&&!p&&(y=(await g.request({method:"eth_requestAccounts"})).map(N=>ec(N))),c&&(g.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),g.on("chainChanged",a)),u||(u=this.onDisconnect.bind(this),g.on("disconnect",u));let O=await this.getChainId();if(f&&O!==f){const P=await this.switchChain({chainId:f}).catch(N=>{if(N.code===hn.code)throw N;return{id:O}});O=(P==null?void 0:P.id)??O}return e&&await((S=d.storage)==null?void 0:S.removeItem(`${this.id}.disconnected`)),t.target||await((T=d.storage)==null?void 0:T.setItem("injected.connected",!0)),{accounts:y,chainId:O}}catch(O){const P=O;throw P.code===hn.code?new hn(P):P.code===io.code?new io(P):P}},async disconnect(){var p,g;const f=await this.getProvider();if(!f)throw new La;a&&(f.removeListener("chainChanged",a),a=void 0),u&&(f.removeListener("disconnect",u),u=void 0),c||(c=this.onConnect.bind(this),f.on("connect",c));try{await sP(()=>f.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((p=d.storage)==null?void 0:p.setItem(`${this.id}.disconnected`,!0)),t.target||await((g=d.storage)==null?void 0:g.removeItem("injected.connected"))},async getAccounts(){const f=await this.getProvider();if(!f)throw new La;return(await f.request({method:"eth_accounts"})).map(g=>ec(g))},async getChainId(){const f=await this.getProvider();if(!f)throw new La;const p=await f.request({method:"eth_chainId"});return Number(p)},async getProvider(){if(typeof window>"u")return;let f;const p=r();return typeof p.provider=="function"?f=p.provider(window):typeof p.provider=="string"?f=am(window,p.provider):f=p.provider,f&&!f.removeListener&&("off"in f&&typeof f.off=="function"?f.removeListener=f.off:f.removeListener=()=>{}),f},async isAuthorized(){var f,p;try{if(e&&await((f=d.storage)==null?void 0:f.getItem(`${this.id}.disconnected`))||!t.target&&!await((p=d.storage)==null?void 0:p.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const v=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",v),!!await this.getProvider()),E=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(S=>window.addEventListener("ethereum#initialized",()=>S(v()),{once:!0}))]:[],new Promise(S=>setTimeout(()=>S(v()),E))]))return!0}throw new La}return!!(await Om(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:p}){var v,E,_,S;const g=await this.getProvider();if(!g)throw new La;const y=d.chains.find(T=>T.id===p);if(!y)throw new di(new Tf);const w=new Promise(T=>{const O=P=>{"chainId"in P&&P.chainId===p&&(d.emitter.off("change",O),T())};d.emitter.on("change",O)});try{return await Promise.all([g.request({method:"wallet_switchEthereumChain",params:[{chainId:tt(p)}]}).then(async()=>{await this.getChainId()===p&&d.emitter.emit("change",{chainId:p})}),w]),y}catch(T){const O=T;if(O.code===4902||((E=(v=O==null?void 0:O.data)==null?void 0:v.originalError)==null?void 0:E.code)===4902)try{const{default:P,...N}=y.blockExplorers??{};let A;f!=null&&f.blockExplorerUrls?A=f.blockExplorerUrls:P&&(A=[P.url,...Object.values(N).map(x=>x.url)]);let I;(_=f==null?void 0:f.rpcUrls)!=null&&_.length?I=f.rpcUrls:I=[((S=y.rpcUrls.default)==null?void 0:S.http[0])??""];const k={blockExplorerUrls:A,chainId:tt(p),chainName:(f==null?void 0:f.chainName)??y.name,iconUrls:f==null?void 0:f.iconUrls,nativeCurrency:(f==null?void 0:f.nativeCurrency)??y.nativeCurrency,rpcUrls:I};return await Promise.all([g.request({method:"wallet_addEthereumChain",params:[k]}).then(async()=>{if(await this.getChainId()===p)d.emitter.emit("change",{chainId:p});else throw new hn(new Error("User rejected switch after adding network."))}),w]),y}catch(P){throw new hn(P)}throw O.code===hn.code?new hn(O):new di(O)}},async onAccountsChanged(f){var p;if(f.length===0)this.onDisconnect();else if(d.emitter.listenerCount("connect")){const g=(await this.getChainId()).toString();this.onConnect({chainId:g}),e&&await((p=d.storage)==null?void 0:p.removeItem(`${this.id}.disconnected`))}else d.emitter.emit("change",{accounts:f.map(g=>ec(g))})},onChainChanged(f){const p=Number(f);d.emitter.emit("change",{chainId:p})},async onConnect(f){const p=await this.getAccounts();if(p.length===0)return;const g=Number(f.chainId);d.emitter.emit("connect",{accounts:p,chainId:g});const y=await this.getProvider();y&&(c&&(y.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),y.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),y.on("chainChanged",a)),u||(u=this.onDisconnect.bind(this),y.on("disconnect",u)))},async onDisconnect(f){const p=await this.getProvider();f&&f.code===1013&&p&&(await this.getAccounts()).length||(d.emitter.emit("disconnect"),p&&(a&&(p.removeListener("chainChanged",a),a=void 0),u&&(p.removeListener("disconnect",u),u=void 0),c||(c=this.onConnect.bind(this),p.on("connect",c))))}})}const $ee={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:am(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return am(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:am(t,"isPhantom")}}};function am(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Uee(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Mee(){const t=new Set;let e=[];const n=()=>Uee(s=>{e.some(({info:a})=>a.uuid===s.info.uuid)||(e=[...e,s],t.forEach(a=>a(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(a=>a.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:a}={}){return t.add(s),a&&s(e,{added:e}),()=>t.delete(s)}}}const kee=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(c,u,d)=>{let f=c;if(u){const p=(d==null?void 0:d.equalityFn)||Object.is;let g=c(r.getState());f=y=>{const w=c(y);if(!p(g,w)){const v=g;u(g=w,v)}},d!=null&&d.fireImmediately&&u(g,g)}return s(f)},t(e,n,r)},Bee=kee;function Lee(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var a;const c=d=>d===null?null:JSON.parse(d,void 0),u=(a=n.getItem(s))!=null?a:null;return u instanceof Promise?u.then(c):c(u)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const EE=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return EE(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return EE(r)(n)}}}},jee=(t,e)=>(n,r,s)=>{let a={storage:Lee(()=>localStorage),partialize:E=>E,version:0,merge:(E,_)=>({..._,...E}),...e},c=!1;const u=new Set,d=new Set;let f=a.storage;if(!f)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...E)},r,s);const p=()=>{const E=a.partialize({...r()});return f.setItem(a.name,{state:E,version:a.version})},g=s.setState;s.setState=(E,_)=>{g(E,_),p()};const y=t((...E)=>{n(...E),p()},r,s);s.getInitialState=()=>y;let w;const v=()=>{var E,_;if(!f)return;c=!1,u.forEach(T=>{var O;return T((O=r())!=null?O:y)});const S=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(E=r())!=null?E:y))||void 0;return EE(f.getItem.bind(f))(a.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==a.version){if(a.migrate)return[!0,a.migrate(T.state,T.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var O;const[P,N]=T;if(w=a.merge(N,(O=r())!=null?O:y),n(w,!0),P)return p()}).then(()=>{S==null||S(w,void 0),w=r(),c=!0,d.forEach(T=>T(w))}).catch(T=>{S==null||S(void 0,T)})};return s.persist={setOptions:E=>{a={...a,...E},E.storage&&(f=E.storage)},clearStorage:()=>{f==null||f.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>c,onHydrate:E=>(u.add(E),()=>{u.delete(E)}),onFinishHydration:E=>(d.add(E),()=>{d.delete(E)})},a.skipHydration||v(),w||y},zee=jee,UO=t=>{let e;const n=new Set,r=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(w=>w(e,y))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=e=t(r,s,u);return u},X0=t=>t?UO(t):UO;var J0={exports:{}},MO;function Fee(){return MO||(MO=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new s(p,g||d,y),v=n?n+f:f;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],w]:d._events[v].push(w):(d._events[v]=w,d._eventsCount++),d}function c(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,w=g.length,v=new Array(w);y<w;y++)v[y]=g[y].fn;return v},u.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,y,w,v){var E=n?n+f:f;if(!this._events[E])return!1;var _=this._events[E],S=arguments.length,T,O;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,w),!0;case 6:return _.fn.call(_.context,p,g,y,w,v),!0}for(O=1,T=new Array(S-1);O<S;O++)T[O-1]=arguments[O];_.fn.apply(_.context,T)}else{var P=_.length,N;for(O=0;O<P;O++)switch(_[O].once&&this.removeListener(f,_[O].fn,void 0,!0),S){case 1:_[O].fn.call(_[O].context);break;case 2:_[O].fn.call(_[O].context,p);break;case 3:_[O].fn.call(_[O].context,p,g);break;case 4:_[O].fn.call(_[O].context,p,g,y);break;default:if(!T)for(N=1,T=new Array(S-1);N<S;N++)T[N-1]=arguments[N];_[O].fn.apply(_[O].context,T)}}return!0},u.prototype.on=function(f,p,g){return a(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return a(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,y){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return c(this,w),this;var v=this._events[w];if(v.fn)v.fn===p&&(!y||v.once)&&(!g||v.context===g)&&c(this,w);else{for(var E=0,_=[],S=v.length;E<S;E++)(v[E].fn!==p||y&&!v[E].once||g&&v[E].context!==g)&&_.push(v[E]);_.length?this._events[w]=_.length===1?_[0]:_:c(this,w)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(J0)),J0.exports}var qee=Fee();const Hee=Du(qee);class Vee{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Hee})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Gee(t){return new Vee(t)}function Wee(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function kO(t,e){return t.slice(0,e).join(".")||"."}function BO(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Kee(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],a=[];return function(u,d){if(typeof d=="object")if(s.length){const f=BO(s,this);f===0?s[s.length]=this:(s.splice(f),a.splice(f)),a[a.length]=u;const p=BO(s,d);if(p!==0)return r?e.call(this,u,d,kO(a,p)):`[ref=${kO(a,p)}]`}else s[0]=d,a[0]=u;return n?t.call(this,u,d):d}}function Yee(t,e,n,r){return JSON.stringify(t,Kee((s,a)=>{let c=a;return typeof c=="bigint"&&(c={__type:"bigint",value:a.toString()}),c instanceof Map&&(c={__type:"Map",value:Array.from(a.entries())}),(e==null?void 0:e(s,c))??c},r),n??void 0)}function Zee(t){const{deserialize:e=Wee,key:n="wagmi",serialize:r=Yee,storage:s=DP}=t;function a(c){return c instanceof Promise?c.then(u=>u).catch(()=>null):c}return{...s,key:n,async getItem(c,u){const d=s.getItem(`${n}.${c}`),f=await a(d);return f?e(f)??null:u??null},async setItem(c,u){const d=`${n}.${c}`;u===null?await a(s.removeItem(d)):await a(s.setItem(d,r(u)))},async removeItem(c){await a(s.removeItem(`${n}.${c}`))}}}const DP={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Qee(){const t=typeof window<"u"&&window.localStorage?window.localStorage:DP;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const _E=256;let qg=_E,Hg;function Xee(t=11){if(!Hg||qg+t>_E*2){Hg="",qg=0;for(let e=0;e<_E;e++)Hg+=(256+Math.random()*256|0).toString(16).substring(1)}return Hg.substring(qg,qg+++t)}function Jee(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Zee({storage:Qee()}),syncConnectedChain:r=!0,ssr:s=!1,...a}=t,c=typeof window<"u"&&e?Mee():void 0,u=X0(()=>a.chains),d=X0(()=>{const N=[],A=new Set;for(const I of a.connectors??[]){const k=f(I);if(N.push(k),!s&&k.rdns){const x=typeof k.rdns=="string"?[k.rdns]:k.rdns;for(const B of x)A.add(B)}}if(!s&&c){const I=c.getProviders();for(const k of I)A.has(k.info.rdns)||N.push(f(p(k)))}return N});function f(N){var k;const A=Gee(Xee()),I={...N({emitter:A,chains:u.getState(),storage:n,transports:a.transports}),emitter:A,uid:A.uid};return A.on("connect",O),(k=I.setup)==null||k.call(I),I}function p(N){const{info:A}=N,I=N.provider;return _y({target:{...A,id:A.rdns,provider:I}})}const g=new Map;function y(N={}){const A=N.chainId??_.getState().chainId,I=u.getState().find(x=>x.id===A);if(N.chainId&&!I)throw new Tf;{const x=g.get(_.getState().chainId);if(x&&!I)return x;if(!I)throw new Tf}{const x=g.get(A);if(x)return x}let k;if(a.client)k=a.client({chain:I});else{const x=I.id,B=u.getState().map(se=>se.id),q={},X=Object.entries(a);for(const[se,W]of X)if(!(se==="chains"||se==="client"||se==="connectors"||se==="transports"))if(typeof W=="object")if(x in W)q[se]=W[x];else{if(B.some(R=>R in W))continue;q[se]=W}else q[se]=W;k=rP({...q,chain:I,batch:q.batch??{multicall:!0},transport:se=>a.transports[x]({...se,connectors:d})})}return g.set(A,k),k}function w(){return{chainId:u.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let v;const E="0.0.0-canary-";im.startsWith(E)?v=Number.parseInt(im.replace(E,"")):v=Number.parseInt(im.split(".")[0]??"0");const _=X0(Bee(n?zee(w,{migrate(N,A){if(A===v)return N;const I=w(),k=S(N,I.chainId);return{...I,chainId:k}},name:"store",partialize(N){return{connections:{__type:"Map",value:Array.from(N.connections.entries()).map(([A,I])=>{const{id:k,name:x,type:B,uid:q}=I.connector;return[A,{...I,connector:{id:k,name:x,type:B,uid:q}}]})},chainId:N.chainId,current:N.current}},merge(N,A){typeof N=="object"&&N&&"status"in N&&delete N.status;const I=S(N,A.chainId);return{...A,...N,chainId:I}},skipHydration:s,storage:n,version:v}):w));_.setState(w());function S(N,A){return N&&typeof N=="object"&&"chainId"in N&&typeof N.chainId=="number"&&u.getState().some(I=>I.id===N.chainId)?N.chainId:A}r&&_.subscribe(({connections:N,current:A})=>{var I;return A?(I=N.get(A))==null?void 0:I.chainId:void 0},N=>{if(u.getState().some(I=>I.id===N))return _.setState(I=>({...I,chainId:N??I.chainId}))}),c==null||c.subscribe(N=>{const A=new Set,I=new Set;for(const x of d.getState())if(A.add(x.id),x.rdns){const B=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const q of B)I.add(q)}const k=[];for(const x of N){if(I.has(x.info.rdns))continue;const B=f(p(x));A.has(B.id)||k.push(B)}n&&!_.persist.hasHydrated()||d.setState(x=>[...x,...k],!0)});function T(N){_.setState(A=>{const I=A.connections.get(N.uid);return I?{...A,connections:new Map(A.connections).set(N.uid,{accounts:N.accounts??I.accounts,chainId:N.chainId??I.chainId,connector:I.connector})}:A})}function O(N){_.getState().status==="connecting"||_.getState().status==="reconnecting"||_.setState(A=>{const I=d.getState().find(k=>k.uid===N.uid);return I?(I.emitter.listenerCount("connect")&&I.emitter.off("connect",T),I.emitter.listenerCount("change")||I.emitter.on("change",T),I.emitter.listenerCount("disconnect")||I.emitter.on("disconnect",P),{...A,connections:new Map(A.connections).set(N.uid,{accounts:N.accounts,chainId:N.chainId,connector:I}),current:N.uid,status:"connected"}):A})}function P(N){_.setState(A=>{const I=A.connections.get(N.uid);if(I){const x=I.connector;x.emitter.listenerCount("change")&&I.connector.emitter.off("change",T),x.emitter.listenerCount("disconnect")&&I.connector.emitter.off("disconnect",P),x.emitter.listenerCount("connect")||I.connector.emitter.on("connect",O)}if(A.connections.delete(N.uid),A.connections.size===0)return{...A,connections:new Map,current:null,status:"disconnected"};const k=A.connections.values().next().value;return{...A,connections:new Map(A.connections),current:k.connector.uid}})}return{get chains(){return u.getState()},get connectors(){return d.getState()},storage:n,getClient:y,get state(){return _.getState()},setState(N){let A;typeof N=="function"?A=N(_.getState()):A=N;const I=w();typeof A!="object"&&(A=I),Object.keys(I).some(x=>!(x in A))&&(A=I),_.setState(A,!0)},subscribe(N,A,I){return _.subscribe(N,A,I?{...I,fireImmediately:I.emitImmediately}:void 0)},_internal:{mipd:c,store:_,ssr:!!s,syncConnectedChain:r,transports:a.transports,chains:{setState(N){const A=typeof N=="function"?N(u.getState()):N;if(A.length!==0)return u.setState(A,!0)},subscribe(N){return u.subscribe(N)}},connectors:{providerDetailToConnector:p,setup:f,setState(N){return d.setState(typeof N=="function"?N(d.getState()):N,!0)},subscribe(N){return d.subscribe(N)}},events:{change:T,connect:O,disconnect:P}}}}function ete(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{var d;const a=new Set;for(const f of s??[])if(f.rdns){const p=Array.isArray(f.rdns)?f.rdns:[f.rdns];for(const g of p)a.add(g)}const c=[],u=((d=t._internal.mipd)==null?void 0:d.getProviders())??[];for(const f of u){if(a.has(f.info.rdns))continue;const p=t._internal.connectors.providerDetailToConnector(f),g=t._internal.connectors.setup(p);c.push(g)}return[...s,...c]})),r?vE(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function tte(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:a}=ete(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||a();const c=je.useRef(!0);return je.useEffect(()=>{if(c.current&&n._internal.ssr)return a(),()=>{c.current=!1}},[]),e}const $P=je.createContext(void 0);function nte(t){const{children:e,config:n}=t,r={value:n};return je.createElement(tte,t,je.createElement($P.Provider,r,e))}const rte="2.15.3",ste=()=>`wagmi@${rte}`;class ite extends ra{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return ste()}}class ate extends ite{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Wu(t={}){const e=t.config??je.useContext($P);if(!e)throw new ate;return e}var ev={exports:{}},tv={},nv={exports:{}},rv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function ote(){if(LO)return rv;LO=1;var t=$u();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function u(g,y){var w=y(),v=r({inst:{value:w,getSnapshot:y}}),E=v[0].inst,_=v[1];return a(function(){E.value=w,E.getSnapshot=y,d(E)&&_({inst:E})},[g,w,y]),s(function(){return d(E)&&_({inst:E}),g(function(){d(E)&&_({inst:E})})},[g]),c(w),w}function d(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!n(g,w)}catch{return!0}}function f(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return rv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,rv}var jO;function cte(){return jO||(jO=1,nv.exports=ote()),nv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO;function lte(){if(zO)return tv;zO=1;var t=$u(),e=cte();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,u=t.useMemo,d=t.useDebugValue;return tv.useSyncExternalStoreWithSelector=function(f,p,g,y,w){var v=a(null);if(v.current===null){var E={hasValue:!1,value:null};v.current=E}else E=v.current;v=u(function(){function S(A){if(!T){if(T=!0,O=A,A=y(A),w!==void 0&&E.hasValue){var I=E.value;if(w(I,A))return P=I}return P=A}if(I=P,r(O,A))return I;var k=y(A);return w!==void 0&&w(I,k)?(O=A,I):(O=A,P=k)}var T=!1,O,P,N=g===void 0?null:g;return[function(){return S(p())},N===null?void 0:function(){return S(N())}]},[p,g,y,w]);var _=s(f,v[0],v[1]);return c(function(){E.hasValue=!0,E.value=_},[_]),d(_),_},tv}var FO;function ute(){return FO||(FO=1,ev.exports=lte()),ev.exports}var dte=ute();const sv=t=>typeof t=="object"&&!Array.isArray(t);function hte(t,e,n=e,r=Of){const s=je.useRef([]),a=dte.useSyncExternalStoreWithSelector(t,e,n,c=>c,(c,u)=>{if(sv(c)&&sv(u)&&s.current.length){for(const d of s.current)if(!r(c[d],u[d]))return!1;return!0}return r(c,u)});return je.useMemo(()=>{if(sv(a)){const c={...a};let u={};for(const[d,f]of Object.entries(c))u={...u,[d]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(d)||s.current.push(d),f)}};return Object.defineProperties(c,u),c}return a},[a])}function fte(t={}){const e=Wu(t);return hte(n=>PP(e,{onChange:n}),()=>Nf(e))}var Ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xc=typeof window>"u"||"Deno"in globalThis;function sr(){}function pte(t,e){return typeof t=="function"?t(e):t}function CE(t){return typeof t=="number"&&t>=0&&t!==1/0}function UP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nu(t,e){return typeof t=="function"?t(e):t}function xs(t,e){return typeof t=="function"?t(e):t}function qO(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:c,stale:u}=t;if(c){if(r){if(e.queryHash!==M1(c,e.options))return!1}else if(!If(e.queryKey,c))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||a&&!a(e))}function HO(t,e){const{exact:n,status:r,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Pc(e.options.mutationKey)!==Pc(a))return!1}else if(!If(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function M1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Pc)(t)}function Pc(t){return JSON.stringify(t,(e,n)=>AE(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function If(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>If(t[n],e[n])):!1}function MP(t,e){if(t===e)return t;const n=VO(t)&&VO(e);if(n||AE(t)&&AE(e)){const r=n?t:Object.keys(t),s=r.length,a=n?e:Object.keys(e),c=a.length,u=n?[]:{};let d=0;for(let f=0;f<c;f++){const p=n?f:a[f];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(u[p]=void 0,d++):(u[p]=MP(t[p],e[p]),u[p]===t[p]&&t[p]!==void 0&&d++)}return s===c&&d===s?t:u}return e}function zm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function VO(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function AE(t){if(!GO(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!GO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function GO(t){return Object.prototype.toString.call(t)==="[object Object]"}function gte(t){return new Promise(e=>{setTimeout(e,t)})}function SE(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MP(t,e):e}function mte(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yte(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var k1=Symbol();function kP(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===k1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function BP(t,e){return typeof t=="function"?t(...e):!!t}var sc,qa,ru,tI,bte=(tI=class extends Ku{constructor(){super();xe(this,sc);xe(this,qa);xe(this,ru);we(this,ru,e=>{if(!xc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,qa)||this.setEventListener(F(this,ru))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,qa))==null||e.call(this),we(this,qa,void 0))}setEventListener(e){var n;we(this,ru,e),(n=F(this,qa))==null||n.call(this),we(this,qa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,sc)!==e&&(we(this,sc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,sc)=="boolean"?F(this,sc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},sc=new WeakMap,qa=new WeakMap,ru=new WeakMap,tI),B1=new bte,su,Ha,iu,nI,wte=(nI=class extends Ku{constructor(){super();xe(this,su,!0);xe(this,Ha);xe(this,iu);we(this,iu,e=>{if(!xc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Ha)||this.setEventListener(F(this,iu))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ha))==null||e.call(this),we(this,Ha,void 0))}setEventListener(e){var n;we(this,iu,e),(n=F(this,Ha))==null||n.call(this),we(this,Ha,e(this.setOnline.bind(this)))}setOnline(e){F(this,su)!==e&&(we(this,su,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,su)}},su=new WeakMap,Ha=new WeakMap,iu=new WeakMap,nI),Fm=new wte;function TE(){let t,e;const n=new Promise((s,a)=>{t=s,e=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function vte(t){return Math.min(1e3*2**t,3e4)}function LP(t){return(t??"online")==="online"?Fm.isOnline():!0}var jP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function iv(t){return t instanceof jP}function zP(t){let e=!1,n=0,r=!1,s;const a=TE(),c=E=>{var _;r||(y(new jP(E)),(_=t.abort)==null||_.call(t))},u=()=>{e=!0},d=()=>{e=!1},f=()=>B1.isFocused()&&(t.networkMode==="always"||Fm.isOnline())&&t.canRun(),p=()=>LP(t.networkMode)&&t.canRun(),g=E=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,E),s==null||s(),a.resolve(E))},y=E=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,E),s==null||s(),a.reject(E))},w=()=>new Promise(E=>{var _;s=S=>{(r||f())&&E(S)},(_=t.onPause)==null||_.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),v=()=>{if(r)return;let E;const _=n===0?t.initialPromise:void 0;try{E=_??t.fn()}catch(S){E=Promise.reject(S)}Promise.resolve(E).then(g).catch(S=>{var A;if(r)return;const T=t.retry??(xc?0:3),O=t.retryDelay??vte,P=typeof O=="function"?O(n,S):O,N=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,S);if(e||!N){y(S);return}n++,(A=t.onFail)==null||A.call(t,n,S),gte(P).then(()=>f()?void 0:w()).then(()=>{e?y(S):v()})})};return{promise:a,cancel:c,continue:()=>(s==null||s(),a),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?v():w().then(v),a)}}var Ete=t=>setTimeout(t,0);function _te(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=Ete;const a=u=>{e?t.push(u):s(()=>{n(u)})},c=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||c()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var pn=_te(),ic,rI,FP=(rI=class{constructor(){xe(this,ic)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CE(this.gcTime)&&we(this,ic,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xc?1/0:5*60*1e3))}clearGcTimeout(){F(this,ic)&&(clearTimeout(F(this,ic)),we(this,ic,void 0))}},ic=new WeakMap,rI),au,ou,ls,ac,Wn,Rf,oc,Os,Fi,sI,Cte=(sI=class extends FP{constructor(e){super();xe(this,Os);xe(this,au);xe(this,ou);xe(this,ls);xe(this,ac);xe(this,Wn);xe(this,Rf);xe(this,oc);we(this,oc,!1),we(this,Rf,e.defaultOptions),this.setOptions(e.options),this.observers=[],we(this,ac,e.client),we(this,ls,F(this,ac).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,we(this,au,Ate(this.options)),this.state=e.state??F(this,au),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,Wn))==null?void 0:e.promise}setOptions(e){this.options={...F(this,Rf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,ls).remove(this)}setData(e,n){const r=SE(this.state.data,e,this.options);return Ye(this,Os,Fi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ye(this,Os,Fi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=F(this,Wn))==null?void 0:r.promise;return(s=F(this,Wn))==null||s.cancel(e),n?n.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,au))}isActive(){return this.observers.some(e=>xs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===k1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!UP(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Wn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Wn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,ls).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(F(this,Wn)&&(F(this,oc)?F(this,Wn).cancel({revert:!0}):F(this,Wn).cancelRetry()),this.scheduleGc()),F(this,ls).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Os,Fi).call(this,{type:"invalidate"})}fetch(e,n){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,Wn))return F(this,Wn).continueRetry(),F(this,Wn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(we(this,oc,!0),r.signal)})},a=()=>{const g=kP(this.options,n),y={client:F(this,ac),queryKey:this.queryKey,meta:this.meta};return s(y),we(this,oc,!1),this.options.persister?this.options.persister(g,y,this):g(y)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,ac),state:this.state,fetchFn:a};s(c),(d=this.options.behavior)==null||d.onFetch(c,this),we(this,ou,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Ye(this,Os,Fi).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=g=>{var y,w,v,E;iv(g)&&g.silent||Ye(this,Os,Fi).call(this,{type:"error",error:g}),iv(g)||((w=(y=F(this,ls).config).onError)==null||w.call(y,g,this),(E=(v=F(this,ls).config).onSettled)==null||E.call(v,this.state.data,g,this)),this.scheduleGc()};return we(this,Wn,zP({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var y,w,v,E;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){u(_);return}(w=(y=F(this,ls).config).onSuccess)==null||w.call(y,g,this),(E=(v=F(this,ls).config).onSettled)==null||E.call(v,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,y)=>{Ye(this,Os,Fi).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{Ye(this,Os,Fi).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Os,Fi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),F(this,Wn).start()}},au=new WeakMap,ou=new WeakMap,ls=new WeakMap,ac=new WeakMap,Wn=new WeakMap,Rf=new WeakMap,oc=new WeakMap,Os=new WeakSet,Fi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qP(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return iv(s)&&s.revert&&F(this,ou)?{...F(this,ou),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),pn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),F(this,ls).notify({query:this,type:"updated",action:e})})},sI);function qP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ate(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ei,iI,Ste=(iI=class extends Ku{constructor(e={}){super();xe(this,ei);this.config=e,we(this,ei,new Map)}build(e,n,r){const s=n.queryKey,a=n.queryHash??M1(s,n);let c=this.get(a);return c||(c=new Cte({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(c)),c}add(e){F(this,ei).has(e.queryHash)||(F(this,ei).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,ei).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,ei).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,ei).get(e)}getAll(){return[...F(this,ei).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qO(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qO(e,r)):n}notify(e){pn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){pn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ei=new WeakMap,iI),ti,tr,cc,ni,Ma,aI,Tte=(aI=class extends FP{constructor(e){super();xe(this,ni);xe(this,ti);xe(this,tr);xe(this,cc);this.mutationId=e.mutationId,we(this,tr,e.mutationCache),we(this,ti,[]),this.state=e.state||HP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,ti).includes(e)||(F(this,ti).push(e),this.clearGcTimeout(),F(this,tr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){we(this,ti,F(this,ti).filter(n=>n!==e)),this.scheduleGc(),F(this,tr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,ti).length||(this.state.status==="pending"?this.scheduleGc():F(this,tr).remove(this))}continue(){var e;return((e=F(this,cc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,c,u,d,f,p,g,y,w,v,E,_,S,T,O,P,N,A,I,k;const n=()=>{Ye(this,ni,Ma).call(this,{type:"continue"})};we(this,cc,zP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(x,B)=>{Ye(this,ni,Ma).call(this,{type:"failed",failureCount:x,error:B})},onPause:()=>{Ye(this,ni,Ma).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,tr).canRun(this)}));const r=this.state.status==="pending",s=!F(this,cc).canStart();try{if(r)n();else{Ye(this,ni,Ma).call(this,{type:"pending",variables:e,isPaused:s}),await((c=(a=F(this,tr).config).onMutate)==null?void 0:c.call(a,e,this));const B=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,e));B!==this.state.context&&Ye(this,ni,Ma).call(this,{type:"pending",context:B,variables:e,isPaused:s})}const x=await F(this,cc).start();return await((p=(f=F(this,tr).config).onSuccess)==null?void 0:p.call(f,x,e,this.state.context,this)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,x,e,this.state.context)),await((v=(w=F(this,tr).config).onSettled)==null?void 0:v.call(w,x,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,x,null,e,this.state.context)),Ye(this,ni,Ma).call(this,{type:"success",data:x}),x}catch(x){try{throw await((T=(S=F(this,tr).config).onError)==null?void 0:T.call(S,x,e,this.state.context,this)),await((P=(O=this.options).onError)==null?void 0:P.call(O,x,e,this.state.context)),await((A=(N=F(this,tr).config).onSettled)==null?void 0:A.call(N,void 0,x,this.state.variables,this.state.context,this)),await((k=(I=this.options).onSettled)==null?void 0:k.call(I,void 0,x,e,this.state.context)),x}finally{Ye(this,ni,Ma).call(this,{type:"error",error:x})}}finally{F(this,tr).runNext(this)}}},ti=new WeakMap,tr=new WeakMap,cc=new WeakMap,ni=new WeakSet,Ma=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pn.batch(()=>{F(this,ti).forEach(r=>{r.onMutationUpdate(e)}),F(this,tr).notify({mutation:this,type:"updated",action:e})})},aI);function HP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vi,Is,xf,oI,Nte=(oI=class extends Ku{constructor(e={}){super();xe(this,Vi);xe(this,Is);xe(this,xf);this.config=e,we(this,Vi,new Set),we(this,Is,new Map),we(this,xf,0)}build(e,n,r){const s=new Tte({mutationCache:this,mutationId:++yg(this,xf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Vi).add(e);const n=Vg(e);if(typeof n=="string"){const r=F(this,Is).get(n);r?r.push(e):F(this,Is).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Vi).delete(e)){const n=Vg(e);if(typeof n=="string"){const r=F(this,Is).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Is).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Vg(e);if(typeof n=="string"){const r=F(this,Is).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Vg(e);if(typeof n=="string"){const s=(r=F(this,Is).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pn.batch(()=>{F(this,Vi).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Vi).clear(),F(this,Is).clear()})}getAll(){return Array.from(F(this,Vi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HO(n,r))}findAll(e={}){return this.getAll().filter(n=>HO(e,n))}notify(e){pn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return pn.batch(()=>Promise.all(e.map(n=>n.continue().catch(sr))))}},Vi=new WeakMap,Is=new WeakMap,xf=new WeakMap,oI);function Vg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function WO(t){return{onFetch:(e,n)=>{var p,g,y,w,v;const r=e.options,s=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,a=((w=e.state.data)==null?void 0:w.pages)||[],c=((v=e.state.data)==null?void 0:v.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let E=!1;const _=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},S=kP(e.options,e.fetchOptions),T=async(O,P,N)=>{if(E)return Promise.reject();if(P==null&&O.pages.length)return Promise.resolve(O);const A={client:e.client,queryKey:e.queryKey,pageParam:P,direction:N?"backward":"forward",meta:e.options.meta};_(A);const I=await S(A),{maxPages:k}=e.options,x=N?yte:mte;return{pages:x(O.pages,I,k),pageParams:x(O.pageParams,P,k)}};if(s&&a.length){const O=s==="backward",P=O?Ote:KO,N={pages:a,pageParams:c},A=P(r,N);u=await T(N,A,O)}else{const O=t??a.length;do{const P=d===0?c[0]??r.initialPageParam:KO(r,u);if(d>0&&P==null)break;u=await T(u,P),d++}while(d<O)}return u};e.options.persister?e.fetchFn=()=>{var E,_;return(_=(E=e.options).persister)==null?void 0:_.call(E,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function KO(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Ote(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Yt,Va,Ga,cu,lu,Wa,uu,du,cI,Ite=(cI=class{constructor(t={}){xe(this,Yt);xe(this,Va);xe(this,Ga);xe(this,cu);xe(this,lu);xe(this,Wa);xe(this,uu);xe(this,du);we(this,Yt,t.queryCache||new Ste),we(this,Va,t.mutationCache||new Nte),we(this,Ga,t.defaultOptions||{}),we(this,cu,new Map),we(this,lu,new Map),we(this,Wa,0)}mount(){yg(this,Wa)._++,F(this,Wa)===1&&(we(this,uu,B1.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Yt).onFocus())})),we(this,du,Fm.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Yt).onOnline())})))}unmount(){var t,e;yg(this,Wa)._--,F(this,Wa)===0&&((t=F(this,uu))==null||t.call(this),we(this,uu,void 0),(e=F(this,du))==null||e.call(this),we(this,du,void 0))}isFetching(t){return F(this,Yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Va).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Yt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Yt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(nu(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Yt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Yt).get(r.queryHash),a=s==null?void 0:s.state.data,c=pte(e,a);if(c!==void 0)return F(this,Yt).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return pn.batch(()=>F(this,Yt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Yt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Yt);pn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Yt);return pn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=pn.batch(()=>F(this,Yt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(t,e={}){return pn.batch(()=>(F(this,Yt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=pn.batch(()=>F(this,Yt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Yt).build(this,e);return n.isStaleByTime(nu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=WO(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=WO(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fm.isOnline()?F(this,Va).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Yt)}getMutationCache(){return F(this,Va)}getDefaultOptions(){return F(this,Ga)}setDefaultOptions(t){we(this,Ga,t)}setQueryDefaults(t,e){F(this,cu).set(Pc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,cu).values()],n={};return e.forEach(r=>{If(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,lu).set(Pc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,lu).values()],n={};return e.forEach(r=>{If(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Ga).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=M1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===k1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ga).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Yt).clear(),F(this,Va).clear()}},Yt=new WeakMap,Va=new WeakMap,Ga=new WeakMap,cu=new WeakMap,lu=new WeakMap,Wa=new WeakMap,uu=new WeakMap,du=new WeakMap,cI),br,ot,Pf,nr,lc,hu,Ka,Ya,Df,fu,pu,uc,dc,Za,gu,wt,_h,NE,OE,IE,RE,xE,PE,DE,VP,lI,Rte=(lI=class extends Ku{constructor(e,n){super();xe(this,wt);xe(this,br);xe(this,ot);xe(this,Pf);xe(this,nr);xe(this,lc);xe(this,hu);xe(this,Ka);xe(this,Ya);xe(this,Df);xe(this,fu);xe(this,pu);xe(this,uc);xe(this,dc);xe(this,Za);xe(this,gu,new Set);this.options=n,we(this,br,e),we(this,Ya,null),we(this,Ka,TE()),this.options.experimental_prefetchInRender||F(this,Ka).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,ot).addObserver(this),YO(F(this,ot),this.options)?Ye(this,wt,_h).call(this):this.updateResult(),Ye(this,wt,RE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $E(F(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $E(F(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,wt,xE).call(this),Ye(this,wt,PE).call(this),F(this,ot).removeObserver(this)}setOptions(e){const n=this.options,r=F(this,ot);if(this.options=F(this,br).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xs(this.options.enabled,F(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,wt,DE).call(this),F(this,ot).setOptions(this.options),n._defaulted&&!zm(this.options,n)&&F(this,br).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,ot),observer:this});const s=this.hasListeners();s&&ZO(F(this,ot),r,this.options,n)&&Ye(this,wt,_h).call(this),this.updateResult(),s&&(F(this,ot)!==r||xs(this.options.enabled,F(this,ot))!==xs(n.enabled,F(this,ot))||nu(this.options.staleTime,F(this,ot))!==nu(n.staleTime,F(this,ot)))&&Ye(this,wt,NE).call(this);const a=Ye(this,wt,OE).call(this);s&&(F(this,ot)!==r||xs(this.options.enabled,F(this,ot))!==xs(n.enabled,F(this,ot))||a!==F(this,Za))&&Ye(this,wt,IE).call(this,a)}getOptimisticResult(e){const n=F(this,br).getQueryCache().build(F(this,br),e),r=this.createResult(n,e);return Pte(this,r)&&(we(this,nr,r),we(this,hu,this.options),we(this,lc,F(this,ot).state)),r}getCurrentResult(){return F(this,nr)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){F(this,gu).add(e)}getCurrentQuery(){return F(this,ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,br).defaultQueryOptions(e),r=F(this,br).getQueryCache().build(F(this,br),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,wt,_h).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,nr)))}createResult(e,n){var x;const r=F(this,ot),s=this.options,a=F(this,nr),c=F(this,lc),u=F(this,hu),f=e!==r?e.state:F(this,Pf),{state:p}=e;let g={...p},y=!1,w;if(n._optimisticResults){const B=this.hasListeners(),q=!B&&YO(e,n),X=B&&ZO(e,r,n,s);(q||X)&&(g={...g,...qP(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:v,errorUpdatedAt:E,status:_}=g;w=g.data;let S=!1;if(n.placeholderData!==void 0&&w===void 0&&_==="pending"){let B;a!=null&&a.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(B=a.data,S=!0):B=typeof n.placeholderData=="function"?n.placeholderData((x=F(this,pu))==null?void 0:x.state.data,F(this,pu)):n.placeholderData,B!==void 0&&(_="success",w=SE(a==null?void 0:a.data,B,n),y=!0)}if(n.select&&w!==void 0&&!S)if(a&&w===(c==null?void 0:c.data)&&n.select===F(this,Df))w=F(this,fu);else try{we(this,Df,n.select),w=n.select(w),w=SE(a==null?void 0:a.data,w,n),we(this,fu,w),we(this,Ya,null)}catch(B){we(this,Ya,B)}F(this,Ya)&&(v=F(this,Ya),w=F(this,fu),E=Date.now(),_="error");const T=g.fetchStatus==="fetching",O=_==="pending",P=_==="error",N=O&&T,A=w!==void 0,k={status:_,fetchStatus:g.fetchStatus,isPending:O,isSuccess:_==="success",isError:P,isInitialLoading:N,isLoading:N,data:w,dataUpdatedAt:g.dataUpdatedAt,error:v,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:T,isRefetching:T&&!O,isLoadingError:P&&!A,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:P&&A,isStale:L1(e,n),refetch:this.refetch,promise:F(this,Ka)};if(this.options.experimental_prefetchInRender){const B=se=>{k.status==="error"?se.reject(k.error):k.data!==void 0&&se.resolve(k.data)},q=()=>{const se=we(this,Ka,k.promise=TE());B(se)},X=F(this,Ka);switch(X.status){case"pending":e.queryHash===r.queryHash&&B(X);break;case"fulfilled":(k.status==="error"||k.data!==X.value)&&q();break;case"rejected":(k.status!=="error"||k.error!==X.reason)&&q();break}}return k}updateResult(){const e=F(this,nr),n=this.createResult(F(this,ot),this.options);if(we(this,lc,F(this,ot).state),we(this,hu,this.options),F(this,lc).data!==void 0&&we(this,pu,F(this,ot)),zm(n,e))return;we(this,nr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!F(this,gu).size)return!0;const c=new Set(a??F(this,gu));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,nr)).some(u=>{const d=u;return F(this,nr)[d]!==e[d]&&c.has(d)})};Ye(this,wt,VP).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,wt,RE).call(this)}},br=new WeakMap,ot=new WeakMap,Pf=new WeakMap,nr=new WeakMap,lc=new WeakMap,hu=new WeakMap,Ka=new WeakMap,Ya=new WeakMap,Df=new WeakMap,fu=new WeakMap,pu=new WeakMap,uc=new WeakMap,dc=new WeakMap,Za=new WeakMap,gu=new WeakMap,wt=new WeakSet,_h=function(e){Ye(this,wt,DE).call(this);let n=F(this,ot).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(sr)),n},NE=function(){Ye(this,wt,xE).call(this);const e=nu(this.options.staleTime,F(this,ot));if(xc||F(this,nr).isStale||!CE(e))return;const r=UP(F(this,nr).dataUpdatedAt,e)+1;we(this,uc,setTimeout(()=>{F(this,nr).isStale||this.updateResult()},r))},OE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,ot)):this.options.refetchInterval)??!1},IE=function(e){Ye(this,wt,PE).call(this),we(this,Za,e),!(xc||xs(this.options.enabled,F(this,ot))===!1||!CE(F(this,Za))||F(this,Za)===0)&&we(this,dc,setInterval(()=>{(this.options.refetchIntervalInBackground||B1.isFocused())&&Ye(this,wt,_h).call(this)},F(this,Za)))},RE=function(){Ye(this,wt,NE).call(this),Ye(this,wt,IE).call(this,Ye(this,wt,OE).call(this))},xE=function(){F(this,uc)&&(clearTimeout(F(this,uc)),we(this,uc,void 0))},PE=function(){F(this,dc)&&(clearInterval(F(this,dc)),we(this,dc,void 0))},DE=function(){const e=F(this,br).getQueryCache().build(F(this,br),this.options);if(e===F(this,ot))return;const n=F(this,ot);we(this,ot,e),we(this,Pf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},VP=function(e){pn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,nr))}),F(this,br).getQueryCache().notify({query:F(this,ot),type:"observerResultsUpdated"})})},lI);function xte(t,e){return xs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YO(t,e){return xte(t,e)||t.state.data!==void 0&&$E(t,e,e.refetchOnMount)}function $E(t,e,n){if(xs(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&L1(t,e)}return!1}function ZO(t,e,n,r){return(t!==e||xs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&L1(t,n)}function L1(t,e){return xs(e.enabled,t)!==!1&&t.isStaleByTime(nu(e.staleTime,t))}function Pte(t,e){return!zm(t.getCurrentResult(),e)}var Qa,Xa,wr,Gi,Ji,om,UE,uI,Dte=(uI=class extends Ku{constructor(n,r){super();xe(this,Ji);xe(this,Qa);xe(this,Xa);xe(this,wr);xe(this,Gi);we(this,Qa,n),this.setOptions(r),this.bindMethods(),Ye(this,Ji,om).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=F(this,Qa).defaultMutationOptions(n),zm(this.options,r)||F(this,Qa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,wr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Pc(r.mutationKey)!==Pc(this.options.mutationKey)?this.reset():((s=F(this,wr))==null?void 0:s.state.status)==="pending"&&F(this,wr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,wr))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,Ji,om).call(this),Ye(this,Ji,UE).call(this,n)}getCurrentResult(){return F(this,Xa)}reset(){var n;(n=F(this,wr))==null||n.removeObserver(this),we(this,wr,void 0),Ye(this,Ji,om).call(this),Ye(this,Ji,UE).call(this)}mutate(n,r){var s;return we(this,Gi,r),(s=F(this,wr))==null||s.removeObserver(this),we(this,wr,F(this,Qa).getMutationCache().build(F(this,Qa),this.options)),F(this,wr).addObserver(this),F(this,wr).execute(n)}},Qa=new WeakMap,Xa=new WeakMap,wr=new WeakMap,Gi=new WeakMap,Ji=new WeakSet,om=function(){var r;const n=((r=F(this,wr))==null?void 0:r.state)??HP();we(this,Xa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},UE=function(n){pn.batch(()=>{var r,s,a,c,u,d,f,p;if(F(this,Gi)&&this.hasListeners()){const g=F(this,Xa).variables,y=F(this,Xa).context;(n==null?void 0:n.type)==="success"?((s=(r=F(this,Gi)).onSuccess)==null||s.call(r,n.data,g,y),(c=(a=F(this,Gi)).onSettled)==null||c.call(a,n.data,null,g,y)):(n==null?void 0:n.type)==="error"&&((d=(u=F(this,Gi)).onError)==null||d.call(u,n.error,g,y),(p=(f=F(this,Gi)).onSettled)==null||p.call(f,void 0,n.error,g,y))}this.listeners.forEach(g=>{g(F(this,Xa))})})},uI);function $te(t){return JSON.stringify(t,(e,n)=>Ute(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Ute(t){if(!QO(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!QO(n)||!n.hasOwnProperty("isPrototypeOf"))}function QO(t){return Object.prototype.toString.call(t)==="[object Object]"}function GP(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:a,maxPages:c,meta:u,networkMode:d,queryFn:f,queryHash:p,queryKey:g,queryKeyHashFn:y,retry:w,retryDelay:v,structuralSharing:E,getPreviousPageParam:_,getNextPageParam:S,initialPageParam:T,_optimisticResults:O,enabled:P,notifyOnChangeProps:N,placeholderData:A,refetchInterval:I,refetchIntervalInBackground:k,refetchOnMount:x,refetchOnReconnect:B,refetchOnWindowFocus:q,retryOnMount:X,select:se,staleTime:W,suspense:M,throwOnError:R,config:j,connector:H,query:V,...D}=t;return D}function Mte(t,e={}){return{async queryFn({queryKey:n}){const{connector:r}=e,{account:s,scopeKey:a,...c}=n[1];if(!s&&!r)throw new Error("account or connector is required");return OP(t,{account:s,connector:r,...c})},queryKey:kte(e)}}function kte(t={}){const{connector:e,...n}=t;return["estimateGas",GP(n)]}function Bte(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=e,{connectorUid:s,scopeKey:a,...c}=n[1];return tp(t,{...c,connector:r})},queryKey:Lte(e)}}function Lte(t={}){const{connector:e,...n}=t;return["connectorClient",{...GP(n),connectorUid:e==null?void 0:e.uid}]}function jte(t){return{mutationFn(e){return RP(t,e)},mutationKey:["sendTransaction"]}}function zte(t){return{mutationFn(e){return xP(t,e)},mutationKey:["signMessage"]}}var WP=je.createContext(void 0),j1=t=>{const e=je.useContext(WP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Fte=({client:t,children:e})=>(je.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),rt.jsx(WP.Provider,{value:t,children:e})),KP=je.createContext(!1),qte=()=>je.useContext(KP);KP.Provider;function Hte(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Vte=je.createContext(Hte()),Gte=()=>je.useContext(Vte),Wte=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Kte=t=>{je.useEffect(()=>{t.clearReset()},[t])},Yte=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||BP(n,[t.error,r])),Zte=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Qte=(t,e)=>t.isLoading&&t.isFetching&&!e,Xte=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,XO=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Jte(t,e,n){var g,y,w,v,E;const r=j1(),s=qte(),a=Gte(),c=r.defaultQueryOptions(t);(y=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||y.call(g,c),c._optimisticResults=s?"isRestoring":"optimistic",Zte(c),Wte(c,a),Kte(a);const u=!r.getQueryCache().get(c.queryHash),[d]=je.useState(()=>new e(r,c)),f=d.getOptimisticResult(c),p=!s&&t.subscribed!==!1;if(je.useSyncExternalStore(je.useCallback(_=>{const S=p?d.subscribe(pn.batchCalls(_)):sr;return d.updateResult(),S},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),je.useEffect(()=>{d.setOptions(c)},[c,d]),Xte(c,f))throw XO(c,d,a);if(Yte({result:f,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw f.error;if((v=(w=r.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||v.call(w,c,f),c.experimental_prefetchInRender&&!xc&&Qte(f,s)){const _=u?XO(c,d,a):(E=r.getQueryCache().get(c.queryHash))==null?void 0:E.promise;_==null||_.catch(sr).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?f:d.trackResult(f)}function ene(t,e){return Jte(t,Rte)}function YP(t,e){const n=j1(),[r]=je.useState(()=>new Dte(n,t));je.useEffect(()=>{r.setOptions(t)},[r,t]);const s=je.useSyncExternalStore(je.useCallback(c=>r.subscribe(pn.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=je.useCallback((c,u)=>{r.mutate(c,u).catch(sr)},[r]);if(s.error&&BP(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function ZP(t){const e=ene({...t,queryKeyHashFn:$te});return e.queryKey=t.queryKey,e}function QP(t={}){const e=Wu(t);return je.useSyncExternalStore(n=>Iee(e,{onChange:n}),()=>DO(e),()=>DO(e))}function tne(t={}){const{query:e={},...n}=t,r=Wu(n),s=j1(),{address:a,connector:c,status:u}=fte({config:r}),d=QP({config:r}),f=t.connector??c,{queryKey:p,...g}=Bte(r,{...t,chainId:t.chainId??d,connector:f}),y=!!((u==="connected"||u==="reconnecting"&&(f!=null&&f.getProvider))&&(e.enabled??!0)),w=je.useRef(a);return je.useEffect(()=>{const v=w.current;!a&&v?(s.removeQueries({queryKey:p}),w.current=void 0):a!==v&&(s.invalidateQueries({queryKey:p}),w.current=a)},[a,s]),ZP({...e,...g,queryKey:p,enabled:y,staleTime:Number.POSITIVE_INFINITY})}function nne(t={}){const{connector:e,query:n={}}=t,r=Wu(t),{data:s}=tne({config:r,connector:e,query:{enabled:t.account===void 0}}),a=t.account??(s==null?void 0:s.account),c=QP({config:r}),u=Mte(r,{...t,account:a,chainId:t.chainId??c,connector:e}),d=!!((a||e)&&(n.enabled??!0));return ZP({...n,...u,enabled:d})}function rne(t={}){const{mutation:e}=t,n=Wu(t),r=jte(n),{mutate:s,mutateAsync:a,...c}=YP({...e,...r});return{...c,sendTransaction:s,sendTransactionAsync:a}}function sne(t={}){const{mutation:e}=t,n=Wu(t),r=zte(n),{mutate:s,mutateAsync:a,...c}=YP({...e,...r});return{...c,signMessage:s,signMessageAsync:a}}const Gg={to:"0x518Af5e7cA4A4Cc4017cE62116f825cfFda4D827",value:x1("0.0001")},ine=({toAddress:t,txnAmount:e})=>{const[n,r]=je.useState(!1),[s,a]=je.useState("Sign Message"),[c,u]=je.useState("Run Transaction"),[d,f]=je.useState(!1),[p,g]=je.useState("Send Support"),{address:y,isConnected:w}=mQ(),{isPending:v,sendTransaction:E}=rne(),{signMessageAsync:_}=sne();Gg.to=t,Gg.value=x1(e)*BigInt(1e9);const{data:S}=nne({...Gg});je.useEffect(()=>{w||(r(!1),a("Sign Message"),u("Run Transaction"),g("Send Support"),f(!1))},[y,n,w,s,c,p,d]);const T=()=>{u("Running Transaction");try{E({...Gg,gas:S})}catch(N){console.log("Error sending transaction:",N)}},O=async()=>{a("Signing Message"),await _({message:"Hello Sports On Air!",account:y})&&(r(!0),a("Signing Done"))},P=async()=>{f(!0),g("Sending Support..."),await O(),T()};return rt.jsxs("div",{children:[rt.jsx("div",{style:{width:"100%",marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:rt.jsxs("ul",{style:{visibility:w&&d?"visible":"hidden"},children:[rt.jsxs("li",{style:{visibility:w&&d?"visible":"hidden",display:w&&d?"block":"none",color:n?"green":"white"},children:[rt.jsx("div",{style:{marginRight:"5px",display:n?"none":"inline-flex"},children:rt.jsx("svg",{id:"TransactionLoader",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512",children:rt.jsx("path",{fill:"#ffffff",d:"M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"})})}),s]}),rt.jsxs("li",{style:{visibility:w&&n?"visible":"hidden",display:w&&d?"block":"none",color:v?"white":"green"},children:[rt.jsx("div",{style:{marginRight:"5px",display:v?"inline-flex":"none"},children:rt.jsx("svg",{id:"TransactionLoader",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512",children:rt.jsx("path",{fill:"#ffffff",d:"M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"})})}),!v&&n?"Transaction Done":c]})]})}),rt.jsx("div",{children:rt.jsx("label",{style:{fontSize:"16px",fontWeight:"600",width:"80%",display:!v&&n?"block":"none",marginLeft:"auto",marginRight:"auto"},children:"Thanks for your contribution. Lot to run these wheels."})}),rt.jsx("div",{children:rt.jsx("button",{onClick:P,disabled:!!(!v&&w&&n),style:{borderRadius:"25px",visibility:w?"visible":"hidden"},children:!v&&w&&n?"Support Sent":p})})]})};function ane(t){let e=[],n,r;function s(u){return Uh.parseEvmChainId(u)||1}function a(){return n||(n=pc.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,onTimeout:u=>{u==="iframe_load_failed"?ir.open(Sn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):u==="iframe_request_timeout"?ir.open(Sn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):u==="unverified_domain"&&ir.open(Sn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Sn.EmbeddedWalletAbortController})),n}async function c(u={}){var E,_;const d=a();let f=u.chainId;if(u.isReconnecting){const S=Uh.parseEvmChainId(d.getLastUsedChainId()||""),T=(E=t.chains)==null?void 0:E[0].id;if(f=S||T,!f)throw new Error("ChainId not found in provider")}const p=(_=Te.state.preferredAccountTypes)==null?void 0:_.eip155,{address:g,chainId:y,accounts:w}=await d.connect({chainId:f,preferredAccountType:p});e=(w==null?void 0:w.map(S=>S.address))||[g];const v=s(y);return{accounts:e,account:g,chainId:v,chain:{id:v,unsuported:!1}}}return u=>({id:de.CONNECTOR_ID.AUTH,name:de.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:de.CHAIN.EVM,async connect(d={}){if(r)return r;r||(r=new Promise(p=>{p(c(d))}));const f=await r;return r=void 0,f},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e!=null&&e.length?(u.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=pc.getInstance({projectId:t.options.projectId,enableLogger:t.options.enableAuthLogger,abortController:Sn.EmbeddedWalletAbortController,onTimeout:d=>{d==="iframe_load_failed"?ir.open(Sn.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):d==="iframe_request_timeout"?ir.open(Sn.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):d==="unverified_domain"&&ir.open(Sn.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}})),Promise.resolve(this.provider)},async getChainId(){const d=await this.getProvider(),{chainId:f}=await d.getChainId();return s(f)},async isAuthorized(){const d=await this.getProvider();return Promise.resolve(d.getLoginEmailUsed())},async switchChain({chainId:d}){var f,p;try{const g=u.chains.find(E=>E.id===d);if(!g)throw new di(new Error("chain not found on connector."));const y=await this.getProvider(),w=(f=Te.state.preferredAccountTypes)==null?void 0:f.eip155,v=await y.connect({chainId:d,preferredAccountType:w});return e=((p=v==null?void 0:v.accounts)==null?void 0:p.map(E=>E.address))||[v.address],u.emitter.emit("change",{chainId:Number(d),accounts:e}),g}catch(g){throw g instanceof Error?new di(g):g}},onAccountsChanged(d){d.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:d.map(ec)})},onChainChanged(d){const f=Number(d);u.emitter.emit("change",{chainId:f})},async onDisconnect(d){await(await this.getProvider()).disconnect()}})}z1.type="walletConnect";function z1(t,e){const n=t.isNewChainsStale??!0;let r,s,a,c,u,d,f;return p=>({id:"walletConnect",name:"WalletConnect",type:z1.type,async setup(){const g=await this.getProvider().catch(()=>null);g&&(c||(c=this.onConnect.bind(this),g.on("connect",c)),d||(d=this.onSessionDelete.bind(this),g.on("session_delete",d)))},async connect({...g}={}){var y,w,v;try{const E=z.getCaipNetworks(),_=await this.getProvider();if(!_)throw new La;u||(u=this.onDisplayUri,_.on("display_uri",u));const S=await this.isChainsStale();_.session&&S&&await _.disconnect();const T=ue.state.universalProviderConfigOverride;if(!_.session||S){const x=$h.createNamespaces(E,T);await _.connect({optionalNamespaces:x,..."pairingTopic"in g?{pairingTopic:g.pairingTopic}:{}}),this.setRequestedChainsIds(E.map(B=>Number(B.id)))}const O=await this.getAccounts(),P=await this.getChainId(),N=(v=(w=(y=_.session)==null?void 0:y.namespaces)==null?void 0:w.eip155)==null?void 0:v.chains,A=N==null?void 0:N.some(x=>Number(x.split(":")[1])===P);let I=1;A?I=P:N!=null&&N[0]&&(I=Number(N[0].split(":")[1])),u&&(_.removeListener("display_uri",u),u=void 0),c&&(_.removeListener("connect",c),c=void 0),s||(s=this.onAccountsChanged.bind(this),_.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),_.on("chainChanged",a)),f||(f=this.onDisconnect.bind(this),_.on("disconnect",f)),d||(d=this.onSessionDelete.bind(this),_.on("session_delete",d));const k=T==null?void 0:T.defaultChain;return _.setDefaultChain(k??`eip155:${I}`),{accounts:O,chainId:I}}catch(E){throw/(user rejected|connection request reset)/i.test(E==null?void 0:E.message)?new hn(E):E}},async disconnect(){const g=await this.getProvider();try{await(g==null?void 0:g.disconnect())}catch(y){if(!/No matching key/i.test(y.message))throw y}finally{a&&(g==null||g.removeListener("chainChanged",a),a=void 0),f&&(g==null||g.removeListener("disconnect",f),f=void 0),c||(c=this.onConnect.bind(this),g==null||g.on("connect",c)),s&&(g==null||g.removeListener("accountsChanged",s),s=void 0),d&&(g==null||g.removeListener("session_delete",d),d=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var v,E,_;const g=await this.getProvider();if(!((v=g==null?void 0:g.session)!=null&&v.namespaces))return[];const y=(_=(E=g==null?void 0:g.session)==null?void 0:E.namespaces[de.CHAIN.EVM])==null?void 0:_.accounts;return(y==null?void 0:y.map(S=>S.split(":")[2]))??[]},async getProvider({chainId:g}={}){var v,E;r||(r=await e.getUniversalProvider(),r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY));const y=be.getActiveNamespace(),w=(v=e.getCaipNetwork())==null?void 0:v.id;if(g&&w!==g&&y){const _=be.getStoredActiveCaipNetworkId(),S=e.getCaipNetworks(y),T=S==null?void 0:S.find(O=>O.id===_);T&&T.chainNamespace===de.CHAIN.EVM&&await((E=this.switchChain)==null?void 0:E.call(this,{chainId:Number(T.id)}))}return r},async getChainId(){var E,_,S,T;const g=(E=e.getCaipNetwork(de.CHAIN.EVM))==null?void 0:E.id;if(g)return g;const w=(T=(S=(_=(await this.getProvider()).session)==null?void 0:_.namespaces[de.CHAIN.EVM])==null?void 0:S.chains)==null?void 0:T[0],v=z.getCaipNetworks().find(O=>O.id===w);return v==null?void 0:v.id},async isAuthorized(){try{const[g,y]=await Promise.all([this.getAccounts(),this.getProvider()]);return g.length?await this.isChainsStale()&&y.session?(await y.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:g,chainId:y}){var E,_,S,T;const w=await this.getProvider();if(!w)throw new La;const v=z.getCaipNetworks().find(O=>O.id===y);if(!v)throw new di(new Tf);try{await w.request({method:"wallet_switchEthereumChain",params:[{chainId:tt(y)}]}),v!=null&&v.caipNetworkId&&w.setDefaultChain(v==null?void 0:v.caipNetworkId),p.emitter.emit("change",{chainId:Number(y)});const O=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...O,y]),{...v,id:v.id}}catch(O){const P=O;if(/(?:user rejected)/iu.test(P.message))throw new hn(P);try{let N;g!=null&&g.blockExplorerUrls?N=g.blockExplorerUrls:N=(E=v.blockExplorers)!=null&&E.default.url?[(_=v.blockExplorers)==null?void 0:_.default.url]:[];const A=((T=(S=v.rpcUrls)==null?void 0:S.chainDefault)==null?void 0:T.http)||[],I={blockExplorerUrls:N,chainId:tt(y),chainName:v.name,iconUrls:g==null?void 0:g.iconUrls,nativeCurrency:v.nativeCurrency,rpcUrls:A};await w.request({method:"wallet_addEthereumChain",params:[I]});const k=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...k,y]),{...v,id:v.id}}catch(N){throw new hn(N)}}},onAccountsChanged(g){g.length===0?this.onDisconnect():p.emitter.emit("change",{accounts:g.map(y=>ec(y))})},onChainChanged(g){const y=Number(g);p.emitter.emit("change",{chainId:y})},onConnect(g){this.setRequestedChainsIds(z.getCaipNetworks().map(y=>Number(y.id)))},async onDisconnect(g){this.setRequestedChainsIds([]),p.emitter.emit("disconnect");const y=await this.getProvider();s&&(y.removeListener("accountsChanged",s),s=void 0),a&&(y.removeListener("chainChanged",a),a=void 0),f&&(y.removeListener("disconnect",f),f=void 0),d&&(y.removeListener("session_delete",d),d=void 0),c||(c=this.onConnect.bind(this),y.on("connect",c))},onDisplayUri(g){p.emitter.emit("message",{type:"display_uri",data:g})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var w,v,E;if(!((w=r==null?void 0:r.session)!=null&&w.namespaces))return[];const g=(E=(v=r==null?void 0:r.session)==null?void 0:v.namespaces[de.CHAIN.EVM])==null?void 0:E.accounts;return(g==null?void 0:g.map(_=>Number.parseInt(_.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var y;const g=await((y=p.storage)==null?void 0:y.getItem(this.requestedChainsStorageKey))??[];return[...new Set(g)]},async isChainsStale(){if(!n)return!1;const g=p.chains.map(v=>v.id),y=this.getNamespaceChainsIds();if(y.length&&!y.some(v=>g.includes(v)))return!1;const w=await this.getRequestedChainsIds();return!g.every(v=>w.includes(Number(v)))},async setRequestedChainsIds(g){var y;await((y=p.storage)==null?void 0:y.setItem(this.requestedChainsStorageKey,g))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const gh=zt({pendingTransactions:0}),JO={state:gh,subscribeKey(t,e){return cr(gh,t,e)},increase(t){gh[t]+=1},decrease(t){gh[t]-=1},reset(t){gh[t]=0}};function one(t){try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}}const cne={enable:!1,pollingInterval:3e4};class lne extends SP{constructor(e){const n=ii.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super({projectId:e.projectId,adapterType:de.ADAPTER_TYPES.WAGMI,namespace:de.CHAIN.EVM}),this.balancePromises={},this.pendingTransactionsFilter={...cne,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.setupWatchers()}async getAccounts(e){var a;const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===de.CONNECTOR_ID.AUTH){const c=n.provider;if(!c.user)return{accounts:[]};const{address:u,accounts:d}=c.user;return Promise.resolve({accounts:(d||[{address:u,type:"eoa"}]).map(f=>Me.createAccount("eip155",f.address,f.type))})}const{addresses:r,address:s}=Nf(this.wagmiConfig);return Promise.resolve({accounts:(a=r||[s])==null?void 0:a.map(c=>Me.createAccount("eip155",c||"","eoa"))})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===de.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{var u,d;const a=(u=e.transports)==null?void 0:u[s.id],c=ii.getCaipNetworkId(s);a?n[s.id]=ii.extendWagmiTransports(s,e.projectId,a):n[s.id]=ii.getViemTransport(s,e.projectId,(d=e.customRpcUrls)==null?void 0:d[c])}),this.wagmiConfig=Jee({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=xee(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),JO.increase("pendingTransactions")}});const e=JO.subscribeKey("pendingTransactions",n=>{var r;n>=de.LIMITS.PENDING_TRANSACTIONS&&((r=this.unwatchPendingTransactions)==null||r.call(this),e())})}setupWatchers(){PP(this.wagmiConfig,{onChange:(e,n)=>{e.status==="disconnected"&&n.address&&this.emit("disconnect"),e.status==="connected"&&((e.address!==(n==null?void 0:n.address)||n.status!=="connected")&&(this.setupWatchPendingTransactions(),this.emit("accountChanged",{address:e.address,chainId:e.chainId})),e.chainId!==(n==null?void 0:n.chainId)&&this.emit("switchNetwork",{address:e.address,chainId:e.chainId}))}})}async addThirdPartyConnectors(e){var r,s;const n=[];if(e.enableCoinbase!==!1)try{const{coinbaseWallet:a}=await rr(async()=>{const{coinbaseWallet:c}=await import("./index-C-TSbySa.js");return{coinbaseWallet:c}},[]);a&&n.push(a({version:"4",appName:((r=e.metadata)==null?void 0:r.name)??"Unknown",appLogoUrl:((s=e.metadata)==null?void 0:s.icons[0])??"Unknown",preference:e.coinbasePreference??"all"}))}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a)}n.forEach(a=>{const c=this.wagmiConfig._internal.connectors.setup(a);this.wagmiConfig._internal.connectors.setState(u=>[...u,c])})}addWagmiConnectors(e,n){var c,u,d,f,p,g;const r=[];e.enableWalletConnect!==!1&&r.push(z1(e,n)),e.enableInjected!==!1&&r.push(_y({shimDisconnect:!0}));const s=((c=e.features)==null?void 0:c.email)===void 0?gn.DEFAULT_FEATURES.email:(u=e.features)==null?void 0:u.email,a=(d=e.features)!=null&&d.socials?((p=(f=e.features)==null?void 0:f.socials)==null?void 0:p.length)>0:((g=e.features)==null?void 0:g.socials)??gn.DEFAULT_FEATURES.socials;(s||a)&&r.push(ane({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(y=>{const w=this.wagmiConfig._internal.connectors.setup(y);this.wagmiConfig._internal.connectors.setState(v=>[...v,w])})}async signMessage(e){try{return{signature:await xP(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Nf(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await Nee(this.wagmiConfig,s);const a=await RP(this.wagmiConfig,s);return await Pee(this.wagmiConfig,{hash:a,timeout:25e3}),{hash:a}}async writeContract(e){var c;const{caipNetwork:n,...r}=e,s=Number(Uh.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await Dee(this.wagmiConfig,{chain:(c=this.wagmiChains)==null?void 0:c[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await OP(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return iP(e.value,e.decimals)}formatUnits(e){return Gu(e.value,e.decimals)}async addWagmiConnector(e,n){var s;if(e.id===de.CONNECTOR_ID.AUTH||e.id===de.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:to.ConnectorExplorerIds[e.id],imageUrl:((s=n==null?void 0:n.connectorImages)==null?void 0:s[e.id])??e.icon,name:to.ConnectorNamesMap[e.id]??e.name,imageId:to.ConnectorImageIds[e.id],type:to.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===de.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){Ree(this.wagmiConfig,{onChange:r=>r.forEach(s=>this.addWagmiConnector(s,e))}),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addWagmiConnectors(e,n),await this.addThirdPartyConnectors(e)}async syncConnection(e){const{id:n}=e,s=Vo(this.wagmiConfig).find(u=>u.connector.id===n),a=this.getWagmiConnector(n),c=await(a==null?void 0:a.getProvider());return{chainId:Number(s==null?void 0:s.chainId),address:s==null?void 0:s.accounts[0],provider:c,type:s==null?void 0:s.connector.type,id:s==null?void 0:s.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await xO(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await $O(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){var f,p,g,y,w;const{id:n,provider:r,type:s,info:a,chainId:c}=e,u=this.getWagmiConnector(n);if(!u)throw new Error("connectionControllerClient:connectExternal - connector is undefined");if(r&&a&&u.id===de.CONNECTOR_ID.EIP6963&&((f=u.setEip6963Wallet)==null||f.call(u,{provider:r,info:a})),u.uid===((g=(p=this.wagmiConfig)==null?void 0:p.state)==null?void 0:g.current)){const v=(w=(y=this.wagmiConfig.state)==null?void 0:y.connections)==null?void 0:w.get(u.uid);if(v)return{address:v==null?void 0:v.accounts[0],chainId:v==null?void 0:v.chainId,provider:r,type:s,id:n}}const d=await xO(this.wagmiConfig,{connector:u,chainId:c?Number(c):void 0});return{address:d.accounts[0],chainId:d.chainId,provider:r,type:s,id:n}}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await vE(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,a=this.balancePromises[s];if(a)return a;const c=be.getNativeBalanceCacheForCaipAddress(s);return c?{balance:c.balance,symbol:c.symbol}:(this.balancePromises[s]=new Promise(async u=>{var d,f;try{const p=Number(e.chainId),g=await Tee(this.wagmiConfig,{address:e.address,chainId:p,token:(f=(d=e.tokens)==null?void 0:d[r.caipNetworkId])==null?void 0:f.address});be.updateNativeBalanceCache({caipAddress:s,balance:g.formatted,symbol:g.symbol,timestamp:Date.now()}),u({balance:g.formatted,symbol:g.symbol})}catch(p){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",p),u({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){var e;return(e=this.getWagmiConnector("walletConnect"))==null?void 0:e.provider}async disconnect(){const e=Vo(this.wagmiConfig);await Promise.all(e.map(async n=>{const r=this.getWagmiConnector(n.connector.id);r&&await _ee(this.wagmiConfig,{connector:r})}))}async switchNetwork(e){await $O(this.wagmiConfig,{chainId:e.caipNetwork.id}),await super.switchNetwork(e)}async getCapabilities(e){var u,d;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=Vo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const c=(d=(u=a.session)==null?void 0:u.sessionProperties)==null?void 0:d.capabilities;if(c){const p=one(c)[e];if(p)return p}return await a.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=Vo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return a.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=Vo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return a.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=Vo(this.wagmiConfig)[0],s=r?this.getWagmiConnector(r.connector.id):null;if(!s)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const a=await s.getProvider();if(!a)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return a.request({method:"wallet_getAssets",params:[e]})}setUniversalProvider(e){e.on("connect",()=>{const n=Vo(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");r&&!n.find(s=>s.connector.id===r.id)&&vE(this.wagmiConfig,{connectors:[r]})}),this.addConnector(new U1({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}}const XP="4f2233f57453bcf8d27ed03eea394f7e",une={name:"Sports On Air",description:"Broadcasting and Media Publishing",icons:["https://sports-on-air.github.io/MediaKit/Brand/static/resources/sportsonair.png"],url:"https://www.sportsonair.world"},JP=[oee,aee,cee],F1=new lne({projectId:XP,networks:JP});F1.wagmiConfig;const dne=new Ite,hne={projectId:XP,networks:JP,metadata:une,themeMode:"dark"};gee({adapters:[F1],...hne,themeVariables:{"--w3m-z-index":99},features:{email:!1,socials:!1,analytics:!0}});function fne(){const[t,e]=je.useState("0.005"),[n,r]=je.useState("0x518Af5e7cA4A4Cc4017cE62116f825cfFda4D827"),s=c=>{e(c),console.log(x1(c).toString())},a=c=>{r(c),console.log(c.toString())};return rt.jsxs("div",{className:"pages",children:[rt.jsx("img",{src:"https://sports-on-air.github.io/MediaKit/Brand/static/resources/sportsonair.png",alt:"Sports On Air",style:{width:"80px",height:"80px",borderRadius:"50%"}}),rt.jsx("h1",{style:{marginTop:"0px"},children:"Sports On Air"}),rt.jsxs("div",{style:{marginBottom:"20px"},children:[rt.jsx("label",{htmlFor:"contribution",children:"Towards:"}),rt.jsxs("select",{style:{marginLeft:"10px",width:"150px"},name:"towards",value:n,onChange:c=>a(c.target.value),children:[rt.jsx("option",{id:"1",value:"0xA6D0D74a8E70B2C0562E12065B95724807eE7aCd",children:"Digital University"}),rt.jsx("option",{id:"2",value:"0x518Af5e7cA4A4Cc4017cE62116f825cfFda4D827",children:"Foundation"})]})]}),rt.jsxs("div",{style:{marginBottom:"20px"},children:[rt.jsx("label",{htmlFor:"contribution",children:"Contribution(ETH):"}),rt.jsxs("select",{style:{marginLeft:"10px",width:"70px"},name:"contribution",value:t,onChange:c=>s(c.target.value),children:[rt.jsx("option",{id:"0",children:"0.005"}),rt.jsx("option",{id:"1",children:"0.01"}),rt.jsx("option",{id:"2",children:"0.02"}),rt.jsx("option",{id:"3",children:"0.04"})]})]}),rt.jsx(nte,{config:F1.wagmiConfig,children:rt.jsxs(Fte,{client:dne,children:[rt.jsx("appkit-button",{}),rt.jsx(ine,{toAddress:n,txnAmount:t})]})})]})}I$.createRoot(document.getElementById("root")).render(rt.jsx(je.StrictMode,{children:rt.jsx(fne,{})}));export{bE as $,Te as A,Be as B,Le as C,Ue as D,cP as E,mne as F,jW as G,Rs as H,Q$ as I,St as J,Rre as K,yE as L,tn as M,W$ as N,ue as O,Oa as P,nm as Q,bt as R,Ds as S,Kn as T,Ih as U,Du as V,Ln as W,Tre as X,Nn as Y,Nre as Z,bP as _,sm as a,xu as a0,rr as a1,xre as a2,ec as a3,di as a4,Tf as a5,tt as a6,hn as a7,_y as a8,_m as a9,wR as aA,fB as aB,AB as aC,Jne as aD,Qne as aE,Ym as aF,nre as aG,ere as aH,d3 as aI,wre as aJ,c1 as aK,Em as aL,dy as aM,Ere as aN,vre as aO,YY as aP,Hee as aQ,b$ as aR,l8 as aS,ri as aT,Fee as aU,p1 as aa,lo as ab,mre as ac,my as ad,g1 as ae,gre as af,pre as ag,v3 as ah,py as ai,wm as aj,WW as ak,QW as al,_re as am,GK as an,he as ao,b1 as ap,hs as aq,aY as ar,sZ as as,X3 as at,Tu as au,Rh as av,uo as aw,CB as ax,Xne as ay,DT as az,gn as b,de as c,Me as d,z as e,Lt as f,Ki as g,Ire as h,eu as i,zr as j,Mt as k,Bt as l,jJ as m,ir as n,zJ as o,be as p,Sn as q,Ore as r,aO as s,mI as t,zt as u,iO as v,cr as w,Sre as x,Yn as y,gne as z};
